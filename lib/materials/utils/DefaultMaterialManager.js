var BitmapData = require("awayjs-core/lib/base/BitmapData");
var AssetType = require("awayjs-core/lib/library/AssetType");
var BitmapTexture = require("awayjs-core/lib/textures/BitmapTexture");
var LineBasicMaterial = require("awayjs-stagegl/lib/materials/LineBasicMaterial");
var TriangleBasicMaterial = require("awayjs-stagegl/lib/materials/TriangleBasicMaterial");
var DefaultMaterialManager = (function () {
    function DefaultMaterialManager() {
    }
    DefaultMaterialManager.getDefaultMaterial = function (materialOwner) {
        if (materialOwner === void 0) { materialOwner = null; }
        if (materialOwner != null && materialOwner.assetType == AssetType.LINE_SUB_MESH) {
            if (!DefaultMaterialManager._defaultLineMaterial)
                DefaultMaterialManager.createDefaultLineMaterial();
            return DefaultMaterialManager._defaultLineMaterial;
        }
        else {
            if (!DefaultMaterialManager._defaultTriangleMaterial)
                DefaultMaterialManager.createDefaultTriangleMaterial();
            return DefaultMaterialManager._defaultTriangleMaterial;
        }
    };
    DefaultMaterialManager.getDefaultTexture = function (materialOwner) {
        if (materialOwner === void 0) { materialOwner = null; }
        if (!DefaultMaterialManager._defaultTexture)
            DefaultMaterialManager.createDefaultTexture();
        return DefaultMaterialManager._defaultTexture;
    };
    DefaultMaterialManager.createDefaultTexture = function () {
        DefaultMaterialManager._defaultBitmapData = DefaultMaterialManager.createCheckeredBitmapData();
        DefaultMaterialManager._defaultTexture = new BitmapTexture(DefaultMaterialManager._defaultBitmapData, true);
        DefaultMaterialManager._defaultTexture.name = "defaultTexture";
    };
    DefaultMaterialManager.createCheckeredBitmapData = function () {
        var b = new BitmapData(8, 8, false, 0x000000);
        //create chekerboard
        var i, j;
        for (i = 0; i < 8; i++) {
            for (j = 0; j < 8; j++) {
                if ((j & 1) ^ (i & 1)) {
                    b.setPixel(i, j, 0XFFFFFF);
                }
            }
        }
        return b;
    };
    DefaultMaterialManager.createDefaultTriangleMaterial = function () {
        if (!DefaultMaterialManager._defaultTexture)
            DefaultMaterialManager.createDefaultTexture();
        DefaultMaterialManager._defaultTriangleMaterial = new TriangleBasicMaterial(DefaultMaterialManager._defaultTexture);
        DefaultMaterialManager._defaultTriangleMaterial.mipmap = false;
        DefaultMaterialManager._defaultTriangleMaterial.smooth = false;
        DefaultMaterialManager._defaultTriangleMaterial.name = "defaultTriangleMaterial";
    };
    DefaultMaterialManager.createDefaultLineMaterial = function () {
        DefaultMaterialManager._defaultLineMaterial = new LineBasicMaterial();
        DefaultMaterialManager._defaultLineMaterial.name = "defaultSegmentMaterial";
    };
    return DefaultMaterialManager;
})();
module.exports = DefaultMaterialManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvdXRpbHMvZGVmYXVsdG1hdGVyaWFsbWFuYWdlci50cyJdLCJuYW1lcyI6WyJEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyIiwiRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5jb25zdHJ1Y3RvciIsIkRlZmF1bHRNYXRlcmlhbE1hbmFnZXIuZ2V0RGVmYXVsdE1hdGVyaWFsIiwiRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5nZXREZWZhdWx0VGV4dHVyZSIsIkRlZmF1bHRNYXRlcmlhbE1hbmFnZXIuY3JlYXRlRGVmYXVsdFRleHR1cmUiLCJEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmNyZWF0ZUNoZWNrZXJlZEJpdG1hcERhdGEiLCJEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmNyZWF0ZURlZmF1bHRUcmlhbmdsZU1hdGVyaWFsIiwiRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5jcmVhdGVEZWZhdWx0TGluZU1hdGVyaWFsIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFPLFVBQVUsV0FBZSxpQ0FBaUMsQ0FBQyxDQUFDO0FBQ25FLElBQU8sU0FBUyxXQUFlLG1DQUFtQyxDQUFDLENBQUM7QUFDcEUsSUFBTyxhQUFhLFdBQWMsd0NBQXdDLENBQUMsQ0FBQztBQUs1RSxJQUFPLGlCQUFpQixXQUFhLGdEQUFnRCxDQUFDLENBQUM7QUFDdkYsSUFBTyxxQkFBcUIsV0FBWSxvREFBb0QsQ0FBQyxDQUFDO0FBRTlGLElBQU0sc0JBQXNCO0lBQTVCQSxTQUFNQSxzQkFBc0JBO0lBc0U1QkMsQ0FBQ0E7SUEvRGNELHlDQUFrQkEsR0FBaENBLFVBQWlDQSxhQUFtQ0E7UUFBbkNFLDZCQUFtQ0EsR0FBbkNBLG9CQUFtQ0E7UUFFbkVBLEVBQUVBLENBQUNBLENBQUNBLGFBQWFBLElBQUlBLElBQUlBLElBQUlBLGFBQWFBLENBQUNBLFNBQVNBLElBQUlBLFNBQVNBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO1lBQ2pGQSxFQUFFQSxDQUFD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QUNBLElBQUlBLEdBQUdBLHlCQUF5QkEsQ0FBQ0E7SUFDbEZBLENBQUNBO0lBRWNOLGdEQUF5QkEsR0FBeENBO1FBRUNPLHNCQUFzQkEsQ0FBQ0Esb0JBQW9CQSxHQUFHQSxJQUFJQSxpQkFBaUJBLEVBQUVBLENBQUNBO1FBQ3RFQSxzQkFBc0JBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsSUFBSUEsR0FBR0Esd0JBQXdCQSxDQUFDQTtJQUM3RUEsQ0FBQ0E7SUFDRlAsNkJBQUNBO0FBQURBLENBdEVBLEFBc0VDQSxJQUFBO0FBRUQsQUFBZ0MsaUJBQXZCLHNCQUFzQixDQUFDIiwiZmlsZSI6Im1hdGVyaWFscy91dGlscy9EZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaXRtYXBEYXRhXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9iYXNlL0JpdG1hcERhdGFcIik7XG5pbXBvcnQgQXNzZXRUeXBlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9saWJyYXJ5L0Fzc2V0VHlwZVwiKTtcbmltcG9ydCBCaXRtYXBUZXh0dXJlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvQml0bWFwVGV4dHVyZVwiKTtcblxuaW1wb3J0IElNYXRlcmlhbE93bmVyXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9JTWF0ZXJpYWxPd25lclwiKTtcbmltcG9ydCBNYXRlcmlhbEJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9NYXRlcmlhbEJhc2VcIik7XG5cbmltcG9ydCBMaW5lQmFzaWNNYXRlcmlhbFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvTGluZUJhc2ljTWF0ZXJpYWxcIik7XG5pbXBvcnQgVHJpYW5nbGVCYXNpY01hdGVyaWFsXHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvVHJpYW5nbGVCYXNpY01hdGVyaWFsXCIpO1xuXG5jbGFzcyBEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyXG57XG5cdHByaXZhdGUgc3RhdGljIF9kZWZhdWx0Qml0bWFwRGF0YTpCaXRtYXBEYXRhO1xuXHRwcml2YXRlIHN0YXRpYyBfZGVmYXVsdFRyaWFuZ2xlTWF0ZXJpYWw6VHJpYW5nbGVCYXNpY01hdGVyaWFsO1xuXHRwcml2YXRlIHN0YXRpYyBfZGVmYXVsdExpbmVNYXRlcmlhbDpMaW5lQmFzaWNNYXRlcmlhbDtcblx0cHJpdmF0ZSBzdGF0aWMgX2RlZmF1bHRUZXh0dXJlOkJpdG1hcFRleHR1cmU7XG5cblx0cHVibGljIHN0YXRpYyBnZXREZWZhdWx0TWF0ZXJpYWwobWF0ZXJpYWxPd25lcjpJTWF0ZXJpYWxPd25lciA9IG51bGwpOk1hdGVyaWFsQmFzZVxuXHR7XG5cdFx0aWYgKG1hdGVyaWFsT3duZXIgIT0gbnVsbCAmJiBtYXRlcmlhbE93bmVyLmFzc2V0VHlwZSA9PSBBc3NldFR5cGUuTElORV9TVUJfTUVTSCkge1xuXHRcdFx0aWYgKCFEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0TGluZU1hdGVyaWFsKVxuXHRcdFx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmNyZWF0ZURlZmF1bHRMaW5lTWF0ZXJpYWwoKTtcblxuXHRcdFx0cmV0dXJuIERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRMaW5lTWF0ZXJpYWw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICghRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdFRyaWFuZ2xlTWF0ZXJpYWwpXG5cdFx0XHRcdERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuY3JlYXRlRGVmYXVsdFRyaWFuZ2xlTWF0ZXJpYWwoKTtcblxuXHRcdFx0cmV0dXJuIERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRUcmlhbmdsZU1hdGVyaWFsO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdFRleHR1cmUobWF0ZXJpYWxPd25lcjpJTWF0ZXJpYWxPd25lciA9IG51bGwpOkJpdG1hcFRleHR1cmVcblx0e1xuXHRcdGlmICghRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdFRleHR1cmUpXG5cdFx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmNyZWF0ZURlZmF1bHRUZXh0dXJlKCk7XG5cblx0XHRyZXR1cm4gRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdFRleHR1cmU7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBjcmVhdGVEZWZhdWx0VGV4dHVyZSgpXG5cdHtcblx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0Qml0bWFwRGF0YSA9IERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuY3JlYXRlQ2hlY2tlcmVkQml0bWFwRGF0YSgpO1xuXHRcdERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRUZXh0dXJlID0gbmV3IEJpdG1hcFRleHR1cmUoRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdEJpdG1hcERhdGEsIHRydWUpO1xuXHRcdERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRUZXh0dXJlLm5hbWUgPSBcImRlZmF1bHRUZXh0dXJlXCI7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGNyZWF0ZUNoZWNrZXJlZEJpdG1hcERhdGEoKTpCaXRtYXBEYXRhXG5cdHtcblx0XHR2YXIgYjpCaXRtYXBEYXRhID0gbmV3IEJpdG1hcERhdGEoOCwgOCwgZmFsc2UsIDB4MDAwMDAwKTtcblxuXHRcdC8vY3JlYXRlIGNoZWtlcmJvYXJkXG5cdFx0dmFyIGk6bnVtYmVyLCBqOm51bWJlcjtcblx0XHRmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgODsgaisrKSB7XG5cdFx0XHRcdGlmICgoaiAmIDEpIF4gKGkgJiAxKSkge1xuXHRcdFx0XHRcdGIuc2V0UGl4ZWwoaSwgaiwgMFhGRkZGRkYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGI7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBjcmVhdGVEZWZhdWx0VHJpYW5nbGVNYXRlcmlhbCgpXG5cdHtcblx0XHRpZiAoIURlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRUZXh0dXJlKVxuXHRcdFx0RGVmYXVsdE1hdGVyaWFsTWFuYWdlci5jcmVhdGVEZWZhdWx0VGV4dHVyZSgpO1xuXG5cdFx0RGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdFRyaWFuZ2xlTWF0ZXJpYWwgPSBuZXcgVHJpYW5nbGVCYXNpY01hdGVyaWFsKERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuX2RlZmF1bHRUZXh0dXJlKTtcblx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0VHJpYW5nbGVNYXRlcmlhbC5taXBtYXAgPSBmYWxzZTtcblx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0VHJpYW5nbGVNYXRlcmlhbC5zbW9vdGggPSBmYWxzZTtcblx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0VHJpYW5nbGVNYXRlcmlhbC5uYW1lID0gXCJkZWZhdWx0VHJpYW5nbGVNYXRlcmlhbFwiO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgY3JlYXRlRGVmYXVsdExpbmVNYXRlcmlhbCgpXG5cdHtcblx0XHREZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLl9kZWZhdWx0TGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XG5cdFx0RGVmYXVsdE1hdGVyaWFsTWFuYWdlci5fZGVmYXVsdExpbmVNYXRlcmlhbC5uYW1lID0gXCJkZWZhdWx0U2VnbWVudE1hdGVyaWFsXCI7XG5cdH1cbn1cblxuZXhwb3J0ID0gRGVmYXVsdE1hdGVyaWFsTWFuYWdlcjsiXX0=