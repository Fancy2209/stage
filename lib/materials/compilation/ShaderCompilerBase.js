var ShaderRegisterCache = require("awayjs-stagegl/lib/materials/compilation/ShaderRegisterCache");
var ShaderRegisterData = require("awayjs-stagegl/lib/materials/compilation/ShaderRegisterData");
var MaterialPassMode = require("awayjs-stagegl/lib/materials/passes/MaterialPassMode");
/**
 * ShaderCompilerBase is an abstract base class for shader compilers that use modular shader methods to assemble a
 * material. Concrete subclasses are used by the default materials.
 *
 * @see away.materials.ShadingMethodBase
 */
var ShaderCompilerBase = (function () {
    /**
     * Creates a new ShaderCompilerBase object.
     * @param profile The compatibility profile of the renderer.
     */
    function ShaderCompilerBase(material, materialPass, shaderObject) {
        this._pVertexCode = ''; // Changed to emtpy string- AwayTS
        this._pFragmentCode = ''; // Changed to emtpy string - AwayTS
        this._pPostAnimationFragmentCode = ''; // Changed to emtpy string - AwayTS
        this._pMaterial = material;
        this._pMaterialPass = materialPass;
        this._pShaderObject = shaderObject;
        this._pProfile = shaderObject.profile;
        this._pSharedRegisters = new ShaderRegisterData();
        this._pRegisterCache = new ShaderRegisterCache(this._pProfile);
        this._pRegisterCache.vertexAttributesOffset = 1;
        this._pRegisterCache.reset();
    }
    /**
     * Compiles the code after all setup on the compiler has finished.
     */
    ShaderCompilerBase.prototype.compile = function () {
        this._pShaderObject.reset();
        this.pCalculateDependencies();
        this.pInitRegisterIndices();
        this.pCompileDependencies();
        //compile custom vertex & fragment codes
        this._pVertexCode += this._pMaterialPass._iGetVertexCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
        this._pPostAnimationFragmentCode += this._pMaterialPass._iGetFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
        //assign the final output color to the output register
        this._pPostAnimationFragmentCode += "mov " + this._pRegisterCache.fragmentOutputRegister + ", " + this._pSharedRegisters.shadedTarget + "\n";
        this._pRegisterCache.removeFragmentTempUsage(this._pSharedRegisters.shadedTarget);
        //initialise the required shader constants
        this._pShaderObject.initConstantData(this._pRegisterCache, this._pAnimatableAttributes, this._pAnimationTargetRegisters, this._uvSource, this._uvTarget);
        this._pMaterialPass._iInitConstantData(this._pShaderObject);
    };
    /**
     * Compile the code for the methods.
     */
    ShaderCompilerBase.prototype.pCompileDependencies = function () {
        this._pSharedRegisters.shadedTarget = this._pRegisterCache.getFreeFragmentVectorTemp();
        this._pRegisterCache.addFragmentTempUsages(this._pSharedRegisters.shadedTarget, 1);
        //compile the world-space position if required
        if (this._pShaderObject.globalPosDependencies > 0)
            this.compileGlobalPositionCode();
        //Calculate the (possibly animated) UV coordinates.
        if (this._pShaderObject.uvDependencies > 0)
            this.compileUVCode();
        if (this._pShaderObject.secondaryUVDependencies > 0)
            this.compileSecondaryUVCode();
        if (this._pShaderObject.normalDependencies > 0)
            this.compileNormalCode();
        if (this._pShaderObject.viewDirDependencies > 0)
            this.compileViewDirCode();
        //collect code from material
        this._pVertexCode += this._pMaterial._iGetVertexCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
        this._pFragmentCode += this._pMaterial._iGetFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
        //collect code from pass
        this._pVertexCode += this._pMaterialPass._iGetPreLightingVertexCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
        this._pFragmentCode += this._pMaterialPass._iGetPreLightingFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
    };
    ShaderCompilerBase.prototype.compileGlobalPositionCode = function () {
        this._pRegisterCache.addVertexTempUsages(this._pSharedRegisters.globalPositionVertex = this._pRegisterCache.getFreeVertexVectorTemp(), this._pShaderObject.globalPosDependencies);
        var sceneMatrixReg = this._pRegisterCache.getFreeVertexConstant();
        this._pRegisterCache.getFreeVertexConstant();
        this._pRegisterCache.getFreeVertexConstant();
        this._pRegisterCache.getFreeVertexConstant();
        this._pShaderObject.sceneMatrixIndex = sceneMatrixReg.index * 4;
        this._pVertexCode += "m44 " + this._pSharedRegisters.globalPositionVertex + ", " + this._pSharedRegisters.localPosition + ", " + sceneMatrixReg + "\n";
        if (this._pShaderObject.usesGlobalPosFragment) {
            this._pSharedRegisters.globalPositionVarying = this._pRegisterCache.getFreeVarying();
            this._pVertexCode += "mov " + this._pSharedRegisters.globalPositionVarying + ", " + this._pSharedRegisters.globalPositionVertex + "\n";
        }
    };
    /**
     * Calculate the (possibly animated) UV coordinates.
     */
    ShaderCompilerBase.prototype.compileUVCode = function () {
        var uvAttributeReg = this._pRegisterCache.getFreeVertexAttribute();
        this._pShaderObject.uvBufferIndex = uvAttributeReg.index;
        var varying = this._pRegisterCache.getFreeVarying();
        this._pSharedRegisters.uvVarying = varying;
        if (this._pShaderObject.usesUVTransform) {
            // a, b, 0, tx
            // c, d, 0, ty
            var uvTransform1 = this._pRegisterCache.getFreeVertexConstant();
            var uvTransform2 = this._pRegisterCache.getFreeVertexConstant();
            this._pShaderObject.uvTransformIndex = uvTransform1.index * 4;
            this._pVertexCode += "dp4 " + varying + ".x, " + uvAttributeReg + ", " + uvTransform1 + "\n" + "dp4 " + varying + ".y, " + uvAttributeReg + ", " + uvTransform2 + "\n" + "mov " + varying + ".zw, " + uvAttributeReg + ".zw \n";
        }
        else {
            this._pShaderObject.uvTransformIndex = -1;
            this._uvTarget = varying.toString();
            this._uvSource = uvAttributeReg.toString();
        }
    };
    /**
     * Provide the secondary UV coordinates.
     */
    ShaderCompilerBase.prototype.compileSecondaryUVCode = function () {
        var uvAttributeReg = this._pRegisterCache.getFreeVertexAttribute();
        this._pShaderObject.secondaryUVBufferIndex = uvAttributeReg.index;
        this._pSharedRegisters.secondaryUVVarying = this._pRegisterCache.getFreeVarying();
        this._pVertexCode += "mov " + this._pSharedRegisters.secondaryUVVarying + ", " + uvAttributeReg + "\n";
    };
    /**
     * Calculate the view direction.
     */
    ShaderCompilerBase.prototype.compileViewDirCode = function () {
        var cameraPositionReg = this._pRegisterCache.getFreeVertexConstant();
        this._pSharedRegisters.viewDirVarying = this._pRegisterCache.getFreeVarying();
        this._pSharedRegisters.viewDirFragment = this._pRegisterCache.getFreeFragmentVectorTemp();
        this._pRegisterCache.addFragmentTempUsages(this._pSharedRegisters.viewDirFragment, this._pShaderObject.viewDirDependencies);
        this._pShaderObject.cameraPositionIndex = cameraPositionReg.index * 4;
        if (this._pShaderObject.usesTangentSpace) {
            var temp = this._pRegisterCache.getFreeVertexVectorTemp();
            this._pVertexCode += "sub " + temp + ", " + cameraPositionReg + ", " + this._pSharedRegisters.localPosition + "\n" + "m33 " + this._pSharedRegisters.viewDirVarying + ".xyz, " + temp + ", " + this._pSharedRegisters.animatedTangent + "\n" + "mov " + this._pSharedRegisters.viewDirVarying + ".w, " + this._pSharedRegisters.localPosition + ".w\n";
        }
        else {
            this._pVertexCode += "sub " + this._pSharedRegisters.viewDirVarying + ", " + cameraPositionReg + ", " + this._pSharedRegisters.globalPositionVertex + "\n";
            this._pRegisterCache.removeVertexTempUsage(this._pSharedRegisters.globalPositionVertex);
        }
        //TODO is this required in all cases? (re: distancemappass)
        this._pFragmentCode += "nrm " + this._pSharedRegisters.viewDirFragment + ".xyz, " + this._pSharedRegisters.viewDirVarying + "\n" + "mov " + this._pSharedRegisters.viewDirFragment + ".w,   " + this._pSharedRegisters.viewDirVarying + ".w\n";
    };
    /**
     * Calculate the normal.
     */
    ShaderCompilerBase.prototype.compileNormalCode = function () {
        this._pSharedRegisters.normalFragment = this._pRegisterCache.getFreeFragmentVectorTemp();
        this._pRegisterCache.addFragmentTempUsages(this._pSharedRegisters.normalFragment, this._pShaderObject.normalDependencies);
        //simple normal aquisition if no tangent space is being used
        if (this._pShaderObject.outputsNormals && !this._pShaderObject.outputsTangentNormals) {
            this._pVertexCode += this._pMaterialPass._iGetNormalVertexCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
            this._pFragmentCode += this._pMaterialPass._iGetNormalFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
            return;
        }
        var normalMatrix;
        if (!this._pShaderObject.outputsNormals || !this._pShaderObject.usesTangentSpace) {
            normalMatrix = new Array(3);
            normalMatrix[0] = this._pRegisterCache.getFreeVertexConstant();
            normalMatrix[1] = this._pRegisterCache.getFreeVertexConstant();
            normalMatrix[2] = this._pRegisterCache.getFreeVertexConstant();
            this._pRegisterCache.getFreeVertexConstant();
            this._pShaderObject.sceneNormalMatrixIndex = normalMatrix[0].index * 4;
            this._pSharedRegisters.normalVarying = this._pRegisterCache.getFreeVarying();
        }
        if (this._pShaderObject.outputsNormals) {
            if (this._pShaderObject.usesTangentSpace) {
                // normalize normal + tangent vector and generate (approximated) bitangent used in m33 operation for view
                this._pVertexCode += "nrm " + this._pSharedRegisters.animatedNormal + ".xyz, " + this._pSharedRegisters.animatedNormal + "\n" + "nrm " + this._pSharedRegisters.animatedTangent + ".xyz, " + this._pSharedRegisters.animatedTangent + "\n" + "crs " + this._pSharedRegisters.bitangent + ".xyz, " + this._pSharedRegisters.animatedNormal + ", " + this._pSharedRegisters.animatedTangent + "\n";
                this._pFragmentCode += this._pMaterialPass._iGetNormalFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters);
            }
            else {
                //Compiles the vertex shader code for tangent-space normal maps.
                this._pSharedRegisters.tangentVarying = this._pRegisterCache.getFreeVarying();
                this._pSharedRegisters.bitangentVarying = this._pRegisterCache.getFreeVarying();
                var temp = this._pRegisterCache.getFreeVertexVectorTemp();
                this._pVertexCode += "m33 " + temp + ".xyz, " + this._pSharedRegisters.animatedNormal + ", " + normalMatrix[0] + "\n" + "nrm " + this._pSharedRegisters.animatedNormal + ".xyz, " + temp + "\n" + "m33 " + temp + ".xyz, " + this._pSharedRegisters.animatedTangent + ", " + normalMatrix[0] + "\n" + "nrm " + this._pSharedRegisters.animatedTangent + ".xyz, " + temp + "\n" + "mov " + this._pSharedRegisters.tangentVarying + ".x, " + this._pSharedRegisters.animatedTangent + ".x  \n" + "mov " + this._pSharedRegisters.tangentVarying + ".z, " + this._pSharedRegisters.animatedNormal + ".x  \n" + "mov " + this._pSharedRegisters.tangentVarying + ".w, " + this._pSharedRegisters.normalInput + ".w  \n" + "mov " + this._pSharedRegisters.bitangentVarying + ".x, " + this._pSharedRegisters.animatedTangent + ".y  \n" + "mov " + this._pSharedRegisters.bitangentVarying + ".z, " + this._pSharedRegisters.animatedNormal + ".y  \n" + "mov " + this._pSharedRegisters.bitangentVarying + ".w, " + this._pSharedRegisters.normalInput + ".w  \n" + "mov " + this._pSharedRegisters.normalVarying + ".x, " + this._pSharedRegisters.animatedTangent + ".z  \n" + "mov " + this._pSharedRegisters.normalVarying + ".z, " + this._pSharedRegisters.animatedNormal + ".z  \n" + "mov " + this._pSharedRegisters.normalVarying + ".w, " + this._pSharedRegisters.normalInput + ".w  \n" + "crs " + temp + ".xyz, " + this._pSharedRegisters.animatedNormal + ", " + this._pSharedRegisters.animatedTangent + "\n" + "mov " + this._pSharedRegisters.tangentVarying + ".y, " + temp + ".x    \n" + "mov " + this._pSharedRegisters.bitangentVarying + ".y, " + temp + ".y  \n" + "mov " + this._pSharedRegisters.normalVarying + ".y, " + temp + ".z    \n";
                this._pRegisterCache.removeVertexTempUsage(this._pSharedRegisters.animatedTangent);
                //Compiles the fragment shader code for tangent-space normal maps.
                var t;
                var b;
                var n;
                t = this._pRegisterCache.getFreeFragmentVectorTemp();
                this._pRegisterCache.addFragmentTempUsages(t, 1);
                b = this._pRegisterCache.getFreeFragmentVectorTemp();
                this._pRegisterCache.addFragmentTempUsages(b, 1);
                n = this._pRegisterCache.getFreeFragmentVectorTemp();
                this._pRegisterCache.addFragmentTempUsages(n, 1);
                this._pFragmentCode += "nrm " + t + ".xyz, " + this._pSharedRegisters.tangentVarying + "\n" + "mov " + t + ".w, " + this._pSharedRegisters.tangentVarying + ".w	\n" + "nrm " + b + ".xyz, " + this._pSharedRegisters.bitangentVarying + "\n" + "nrm " + n + ".xyz, " + this._pSharedRegisters.normalVarying + "\n";
                //compile custom fragment code for normal calcs
                this._pFragmentCode += this._pMaterialPass._iGetNormalFragmentCode(this._pShaderObject, this._pRegisterCache, this._pSharedRegisters) + "m33 " + this._pSharedRegisters.normalFragment + ".xyz, " + this._pSharedRegisters.normalFragment + ", " + t + "\n" + "mov " + this._pSharedRegisters.normalFragment + ".w, " + this._pSharedRegisters.normalVarying + ".w\n";
                this._pRegisterCache.removeFragmentTempUsage(b);
                this._pRegisterCache.removeFragmentTempUsage(t);
                this._pRegisterCache.removeFragmentTempUsage(n);
            }
        }
        else {
            // no output, world space is enough
            this._pVertexCode += "m33 " + this._pSharedRegisters.normalVarying + ".xyz, " + this._pSharedRegisters.animatedNormal + ", " + normalMatrix[0] + "\n" + "mov " + this._pSharedRegisters.normalVarying + ".w, " + this._pSharedRegisters.animatedNormal + ".w\n";
            this._pFragmentCode += "nrm " + this._pSharedRegisters.normalFragment + ".xyz, " + this._pSharedRegisters.normalVarying + "\n" + "mov " + this._pSharedRegisters.normalFragment + ".w, " + this._pSharedRegisters.normalVarying + ".w\n";
            if (this._pShaderObject.tangentDependencies > 0) {
                this._pSharedRegisters.tangentVarying = this._pRegisterCache.getFreeVarying();
                this._pVertexCode += "m33 " + this._pSharedRegisters.tangentVarying + ".xyz, " + this._pSharedRegisters.animatedTangent + ", " + normalMatrix[0] + "\n" + "mov " + this._pSharedRegisters.tangentVarying + ".w, " + this._pSharedRegisters.animatedTangent + ".w\n";
            }
        }
        if (!this._pShaderObject.usesTangentSpace)
            this._pRegisterCache.removeVertexTempUsage(this._pSharedRegisters.animatedNormal);
    };
    /**
     * Reset all the indices to "unused".
     */
    ShaderCompilerBase.prototype.pInitRegisterIndices = function () {
        this._pShaderObject.pInitRegisterIndices();
        this._pAnimatableAttributes = new Array("va0");
        this._pAnimationTargetRegisters = new Array("vt0");
        this._pVertexCode = "";
        this._pFragmentCode = "";
        this._pPostAnimationFragmentCode = "";
        this._pRegisterCache.addVertexTempUsages(this._pSharedRegisters.localPosition = this._pRegisterCache.getFreeVertexVectorTemp(), 1);
        //create commonly shared constant registers
        this._pSharedRegisters.commons = this._pRegisterCache.getFreeFragmentConstant();
        this._pShaderObject.commonsDataIndex = this._pSharedRegisters.commons.index * 4;
        //Creates the registers to contain the tangent data.
        // need to be created FIRST and in this order (for when using tangent space)
        if (this._pShaderObject.tangentDependencies > 0 || this._pShaderObject.outputsNormals) {
            this._pSharedRegisters.tangentInput = this._pRegisterCache.getFreeVertexAttribute();
            this._pShaderObject.tangentBufferIndex = this._pSharedRegisters.tangentInput.index;
            this._pSharedRegisters.animatedTangent = this._pRegisterCache.getFreeVertexVectorTemp();
            this._pRegisterCache.addVertexTempUsages(this._pSharedRegisters.animatedTangent, 1);
            if (this._pShaderObject.usesTangentSpace) {
                this._pSharedRegisters.bitangent = this._pRegisterCache.getFreeVertexVectorTemp();
                this._pRegisterCache.addVertexTempUsages(this._pSharedRegisters.bitangent, 1);
            }
            this._pAnimatableAttributes.push(this._pSharedRegisters.tangentInput.toString());
            this._pAnimationTargetRegisters.push(this._pSharedRegisters.animatedTangent.toString());
        }
        if (this._pShaderObject.normalDependencies > 0) {
            this._pSharedRegisters.normalInput = this._pRegisterCache.getFreeVertexAttribute();
            this._pShaderObject.normalBufferIndex = this._pSharedRegisters.normalInput.index;
            this._pSharedRegisters.animatedNormal = this._pRegisterCache.getFreeVertexVectorTemp();
            this._pRegisterCache.addVertexTempUsages(this._pSharedRegisters.animatedNormal, 1);
            this._pAnimatableAttributes.push(this._pSharedRegisters.normalInput.toString());
            this._pAnimationTargetRegisters.push(this._pSharedRegisters.animatedNormal.toString());
        }
    };
    /**
     * Figure out which named registers are required, and how often.
     */
    ShaderCompilerBase.prototype.pCalculateDependencies = function () {
        this._pShaderObject.useAlphaPremultiplied = this._pMaterial.alphaPremultiplied;
        this._pShaderObject.useBothSides = this._pMaterial.bothSides;
        this._pShaderObject.useMipmapping = this._pMaterial.mipmap;
        this._pShaderObject.useSmoothTextures = this._pMaterial.smooth;
        this._pShaderObject.repeatTextures = this._pMaterial.repeat;
        this._pShaderObject.usesUVTransform = this._pMaterial.animateUVs;
        this._pShaderObject.alphaThreshold = this._pMaterial.alphaThreshold;
        this._pShaderObject.texture = this._pMaterial.texture;
        this._pShaderObject.color = this._pMaterial.color;
        //TODO: fragment animtion should be compatible with lighting pass
        this._pShaderObject.usesFragmentAnimation = Boolean(this._pMaterialPass.passMode == MaterialPassMode.SUPER_SHADER);
        this._pMaterialPass._iIncludeDependencies(this._pShaderObject);
    };
    /**
     * Disposes all resources used by the compiler.
     */
    ShaderCompilerBase.prototype.dispose = function () {
        this._pRegisterCache.dispose();
        this._pRegisterCache = null;
        this._pSharedRegisters = null;
    };
    Object.defineProperty(ShaderCompilerBase.prototype, "vertexCode", {
        /**
         * The generated vertex code.
         */
        get: function () {
            return this._pVertexCode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShaderCompilerBase.prototype, "fragmentCode", {
        /**
         * The generated fragment code.
         */
        get: function () {
            return this._pFragmentCode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShaderCompilerBase.prototype, "postAnimationFragmentCode", {
        /**
         * The generated fragment code.
         */
        get: function () {
            return this._pPostAnimationFragmentCode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShaderCompilerBase.prototype, "shadedTarget", {
        /**
         * The register name containing the final shaded colour.
         */
        get: function () {
            return this._pSharedRegisters.shadedTarget.toString();
        },
        enumerable: true,
        configurable: true
    });
    return ShaderCompilerBase;
})();
module.exports = ShaderCompilerBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFscy9jb21waWxhdGlvbi9zaGFkZXJjb21waWxlcmJhc2UudHMiXSwibmFtZXMiOlsiU2hhZGVyQ29tcGlsZXJCYXNlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLmNvbnN0cnVjdG9yIiwiU2hhZGVyQ29tcGlsZXJCYXNlLmNvbXBpbGUiLCJTaGFkZXJDb21waWxlckJhc2UucENvbXBpbGVEZXBlbmRlbmNpZXMiLCJTaGFkZXJDb21waWxlckJhc2UuY29tcGlsZUdsb2JhbFBvc2l0aW9uQ29kZSIsIlNoYWRlckNvbXBpbGVyQmFzZS5jb21waWxlVVZDb2RlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLmNvbXBpbGVTZWNvbmRhcnlVVkNvZGUiLCJTaGFkZXJDb21waWxlckJhc2UuY29tcGlsZVZpZXdEaXJDb2RlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLmNvbXBpbGVOb3JtYWxDb2RlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLnBJbml0UmVnaXN0ZXJJbmRpY2VzIiwiU2hhZGVyQ29tcGlsZXJCYXNlLnBDYWxjdWxhdGVEZXBlbmRlbmNpZXMiLCJTaGFkZXJDb21waWxlckJhc2UuZGlzcG9zZSIsIlNoYWRlckNvbXBpbGVyQmFzZS52ZXJ0ZXhDb2RlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLmZyYWdtZW50Q29kZSIsIlNoYWRlckNvbXBpbGVyQmFzZS5wb3N0QW5pbWF0aW9uRnJhZ21lbnRDb2RlIiwiU2hhZGVyQ29tcGlsZXJCYXNlLnNoYWRlZFRhcmdldCJdLCJtYXBwaW5ncyI6IkFBR0EsSUFBTyxtQkFBbUIsV0FBYSw4REFBOEQsQ0FBQyxDQUFDO0FBQ3ZHLElBQU8sa0JBQWtCLFdBQWEsNkRBQTZELENBQUMsQ0FBQztBQUdyRyxJQUFPLGdCQUFnQixXQUFjLHNEQUFzRCxDQUFDLENBQUM7QUFFN0YsQUFNQTs7Ozs7R0FERztJQUNHLGtCQUFrQjtJQTBCdkJBOzs7T0FHR0E7SUFDSEEsU0E5QktBLGtCQUFrQkEsQ0E4QlhBLFFBQTRCQSxFQUFFQSxZQUFpQ0Es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QSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGNBQWNBLEdBQUdBLFFBQVFBLEdBQUdBLElBQUlBLEdBQUdBLElBQUlBLEdBQ3ZFQSxNQUFNQSxHQUFHQSxJQUFJQSxHQUFHQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGVBQWVBLEdBQUdBLElBQUlBLEdBQUdBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQ2pHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGVBQWVBLEdBQUdBLFFBQVFBLEdBQUdBLElBQUlBLEdBQUdBLElBQUlBLEdBQ3hFQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGNBQWNBLEdBQUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsZUFBZUEsR0FBR0EsUUFBUUEsR0FDM0dBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsY0FBY0EsR0FBR0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxjQUFjQSxHQUFHQSxRQUFRQSxHQUMxR0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxjQUFjQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFdBQVdBLEdBQUdBLFFBQVFBLEdBQ3ZHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGdCQUFnQkEsR0FBR0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxlQUFlQSxHQUFHQSxRQUFRQSxHQUM3R0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsY0FBY0EsR0FBR0EsUUFBUUEsR0FDNUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFdBQVdBLEdBQUdBLFFBQVFBLEdBQ3pHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGFBQWFBLEdBQUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsZUFBZUEsR0FBR0EsUUFBUUEsR0FDMUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsYUFBYUEsR0FBR0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxjQUFjQSxHQUFHQSxRQUFRQSxHQUN6R0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxhQUFhQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFdBQVdBLEdBQUdBLFFBQVFBLEdBQ3RHQSxNQUFNQSxHQUFHQSxJQUFJQSxHQUFHQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLGNBQWNBLEdBQUdBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsZUFBZUEsR0FBR0EsSUFBSUEsR0FDdkhBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsY0FBY0EsR0FBR0EsTUFBTUEsR0FBR0EsSUFBSUEsR0FBR0EsVUFBVUEsR0FDM0VBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxHQUFHQSxRQUFRQSxHQUMzRUEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxhQUFhQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxHQUFHQSxVQUFVQSxDQUFDQTtnQkFFNUVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLHFCQUFxQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxlQUFlQSxD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QSxlQUFlQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUMvQkEsSUFBSUEsQ0FBQ0EsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDL0JBLENBQUNBO0lBS0RYLHNCQUFXQSwwQ0FBVUE7UUFIckJBOztXQUVHQTthQUNIQTtZQUVDWSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQTtRQUMxQkEsQ0FBQ0E7OztPQUFBWjtJQUtEQSxzQkFBV0EsNENBQVlBO1FBSHZCQTs7V0FFR0E7YUFDSEE7WUFFQ2EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7UUFDNUJBLENBQUNBOzs7T0FBQWI7SUFLREEsc0JBQVdBLHlEQUF5QkE7UUFIcENBOztXQUVHQTthQUNIQTtZQUVDYyxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSwyQkFBMkJBLENBQUNBO1FBQ3pDQSxDQUFDQTs7O09BQUFkO0lBS0RBLHNCQUFXQSw0Q0FBWUE7UUFIdkJBOztXQUVHQTthQUNIQTtZQUVDZSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFlBQVlBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1FBQ3ZEQSxDQUFDQTs7O09BQUFmO0lBQ0ZBLHlCQUFDQTtBQUFEQSxDQS9aQSxBQStaQ0EsSUFBQTtBQUVELEFBQTRCLGlCQUFuQixrQkFBa0IsQ0FBQyIsImZpbGUiOiJtYXRlcmlhbHMvY29tcGlsYXRpb24vU2hhZGVyQ29tcGlsZXJCYXNlLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb2JiYXRlbWFuL1dlYnN0b3JtUHJvamVjdHMvYXdheWpzLXN0YWdlZ2wvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFuaW1hdGlvblNldEJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9hbmltYXRvcnMvQW5pbWF0aW9uU2V0QmFzZVwiKTtcbmltcG9ydCBTdGFnZUdMTWF0ZXJpYWxCYXNlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL21hdGVyaWFscy9TdGFnZUdMTWF0ZXJpYWxCYXNlXCIpO1xuaW1wb3J0IFNoYWRlck9iamVjdEJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvY29tcGlsYXRpb24vU2hhZGVyT2JqZWN0QmFzZVwiKTtcbmltcG9ydCBTaGFkZXJSZWdpc3RlckNhY2hlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL21hdGVyaWFscy9jb21waWxhdGlvbi9TaGFkZXJSZWdpc3RlckNhY2hlXCIpO1xuaW1wb3J0IFNoYWRlclJlZ2lzdGVyRGF0YVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvY29tcGlsYXRpb24vU2hhZGVyUmVnaXN0ZXJEYXRhXCIpO1xuaW1wb3J0IFNoYWRlclJlZ2lzdGVyRWxlbWVudFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvbWF0ZXJpYWxzL2NvbXBpbGF0aW9uL1NoYWRlclJlZ2lzdGVyRWxlbWVudFwiKTtcbmltcG9ydCBJTWF0ZXJpYWxQYXNzU3RhZ2VHTFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvcGFzc2VzL0lNYXRlcmlhbFBhc3NTdGFnZUdMXCIpO1xuaW1wb3J0IE1hdGVyaWFsUGFzc01vZGVcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9tYXRlcmlhbHMvcGFzc2VzL01hdGVyaWFsUGFzc01vZGVcIik7XG5cbi8qKlxuICogU2hhZGVyQ29tcGlsZXJCYXNlIGlzIGFuIGFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHNoYWRlciBjb21waWxlcnMgdGhhdCB1c2UgbW9kdWxhciBzaGFkZXIgbWV0aG9kcyB0byBhc3NlbWJsZSBhXG4gKiBtYXRlcmlhbC4gQ29uY3JldGUgc3ViY2xhc3NlcyBhcmUgdXNlZCBieSB0aGUgZGVmYXVsdCBtYXRlcmlhbHMuXG4gKlxuICogQHNlZSBhd2F5Lm1hdGVyaWFscy5TaGFkaW5nTWV0aG9kQmFzZVxuICovXG5jbGFzcyBTaGFkZXJDb21waWxlckJhc2Vcbntcblx0cHVibGljIF9wU2hhZGVyT2JqZWN0OlNoYWRlck9iamVjdEJhc2U7XG5cdHB1YmxpYyBfcFNoYXJlZFJlZ2lzdGVyczpTaGFkZXJSZWdpc3RlckRhdGE7XG5cdHB1YmxpYyBfcFJlZ2lzdGVyQ2FjaGU6U2hhZGVyUmVnaXN0ZXJDYWNoZTtcblx0cHVibGljIF9wTWF0ZXJpYWxQYXNzOklNYXRlcmlhbFBhc3NTdGFnZUdMO1xuXHRwdWJsaWMgX3BNYXRlcmlhbDpTdGFnZUdMTWF0ZXJpYWxCYXNlO1xuXG5cdHB1YmxpYyBfcFZlcnRleENvZGU6c3RyaW5nID0gJyc7IC8vIENoYW5nZWQgdG8gZW10cHkgc3RyaW5nLSBBd2F5VFNcblx0cHVibGljIF9wRnJhZ21lbnRDb2RlOnN0cmluZyA9ICcnOy8vIENoYW5nZWQgdG8gZW10cHkgc3RyaW5nIC0gQXdheVRTXG5cdHB1YmxpYyBfcFBvc3RBbmltYXRpb25GcmFnbWVudENvZGU6c3RyaW5nID0gJyc7Ly8gQ2hhbmdlZCB0byBlbXRweSBzdHJpbmcgLSBBd2F5VFNcblxuXHQvL1RoZSBhdHRyaWJ1dGVzIHRoYXQgbmVlZCB0byBiZSBhbmltYXRlZCBieSBhbmltYXRvcnMuXG5cdHB1YmxpYyBfcEFuaW1hdGFibGVBdHRyaWJ1dGVzOkFycmF5PHN0cmluZz47XG5cblx0Ly9UaGUgdGFyZ2V0IHJlZ2lzdGVycyBmb3IgYW5pbWF0ZWQgcHJvcGVydGllcywgd3JpdHRlbiB0byBieSB0aGUgYW5pbWF0b3JzLlxuXHRwdWJsaWMgX3BBbmltYXRpb25UYXJnZXRSZWdpc3RlcnM6QXJyYXk8c3RyaW5nPjtcblxuXHQvL1RoZSB0YXJnZXQgcmVnaXN0ZXIgdG8gcGxhY2UgdGhlIGFuaW1hdGVkIFVWIGNvb3JkaW5hdGUuXG5cdHByaXZhdGUgX3V2VGFyZ2V0OnN0cmluZztcblxuXHQvL1RoZSBzb3VjZSByZWdpc3RlciBwcm92aWRpbmcgdGhlIFVWIGNvb3JkaW5hdGUgdG8gYW5pbWF0ZS5cblx0cHJpdmF0ZSBfdXZTb3VyY2U6c3RyaW5nO1xuXG5cdHB1YmxpYyBfcFByb2ZpbGU6c3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IFNoYWRlckNvbXBpbGVyQmFzZSBvYmplY3QuXG5cdCAqIEBwYXJhbSBwcm9maWxlIFRoZSBjb21wYXRpYmlsaXR5IHByb2ZpbGUgb2YgdGhlIHJlbmRlcmVyLlxuXHQgKi9cblx0Y29uc3RydWN0b3IobWF0ZXJpYWw6U3RhZ2VHTE1hdGVyaWFsQmFzZSwgbWF0ZXJpYWxQYXNzOklNYXRlcmlhbFBhc3NTdGFnZUdMLCBzaGFkZXJPYmplY3Q6U2hhZGVyT2JqZWN0QmFzZSlcblx0e1xuXHRcdHRoaXMuX3BNYXRlcmlhbCA9IG1hdGVyaWFsO1xuXHRcdHRoaXMuX3BNYXRlcmlhbFBhc3MgPSBtYXRlcmlhbFBhc3M7XG5cblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0ID0gc2hhZGVyT2JqZWN0O1xuXHRcdHRoaXMuX3BQcm9maWxlID0gc2hhZGVyT2JqZWN0LnByb2ZpbGU7XG5cblx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzID0gbmV3IFNoYWRlclJlZ2lzdGVyRGF0YSgpO1xuXG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUgPSBuZXcgU2hhZGVyUmVnaXN0ZXJDYWNoZSh0aGlzLl9wUHJvZmlsZSk7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUudmVydGV4QXR0cmlidXRlc09mZnNldCA9IDE7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUucmVzZXQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb21waWxlcyB0aGUgY29kZSBhZnRlciBhbGwgc2V0dXAgb24gdGhlIGNvbXBpbGVyIGhhcyBmaW5pc2hlZC5cblx0ICovXG5cdHB1YmxpYyBjb21waWxlKClcblx0e1xuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QucmVzZXQoKTtcblxuXHRcdHRoaXMucENhbGN1bGF0ZURlcGVuZGVuY2llcygpO1xuXG5cdFx0dGhpcy5wSW5pdFJlZ2lzdGVySW5kaWNlcygpO1xuXG5cdFx0dGhpcy5wQ29tcGlsZURlcGVuZGVuY2llcygpO1xuXG5cdFx0Ly9jb21waWxlIGN1c3RvbSB2ZXJ0ZXggJiBmcmFnbWVudCBjb2Rlc1xuXHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IHRoaXMuX3BNYXRlcmlhbFBhc3MuX2lHZXRWZXJ0ZXhDb2RlKHRoaXMuX3BTaGFkZXJPYmplY3QsIHRoaXMuX3BSZWdpc3RlckNhY2hlLCB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzKTtcblx0XHR0aGlzLl9wUG9zdEFuaW1hdGlvbkZyYWdtZW50Q29kZSArPSB0aGlzLl9wTWF0ZXJpYWxQYXNzLl9pR2V0RnJhZ21lbnRDb2RlKHRoaXMuX3BTaGFkZXJPYmplY3QsIHRoaXMuX3BSZWdpc3RlckNhY2hlLCB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzKTtcblxuXHRcdC8vYXNzaWduIHRoZSBmaW5hbCBvdXRwdXQgY29sb3IgdG8gdGhlIG91dHB1dCByZWdpc3RlclxuXHRcdHRoaXMuX3BQb3N0QW5pbWF0aW9uRnJhZ21lbnRDb2RlICs9IFwibW92IFwiICsgdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZnJhZ21lbnRPdXRwdXRSZWdpc3RlciArIFwiLCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuc2hhZGVkVGFyZ2V0ICsgXCJcXG5cIjtcblx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5yZW1vdmVGcmFnbWVudFRlbXBVc2FnZSh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnNoYWRlZFRhcmdldCk7XG5cblx0XHQvL2luaXRpYWxpc2UgdGhlIHJlcXVpcmVkIHNoYWRlciBjb25zdGFudHNcblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LmluaXRDb25zdGFudERhdGEodGhpcy5fcFJlZ2lzdGVyQ2FjaGUsIHRoaXMuX3BBbmltYXRhYmxlQXR0cmlidXRlcywgdGhpcy5fcEFuaW1hdGlvblRhcmdldFJlZ2lzdGVycywgdGhpcy5fdXZTb3VyY2UsIHRoaXMuX3V2VGFyZ2V0KTtcblx0XHR0aGlzLl9wTWF0ZXJpYWxQYXNzLl9pSW5pdENvbnN0YW50RGF0YSh0aGlzLl9wU2hhZGVyT2JqZWN0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb21waWxlIHRoZSBjb2RlIGZvciB0aGUgbWV0aG9kcy5cblx0ICovXG5cdHB1YmxpYyBwQ29tcGlsZURlcGVuZGVuY2llcygpXG5cdHtcblx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnNoYWRlZFRhcmdldCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVGcmFnbWVudFZlY3RvclRlbXAoKTtcblx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5hZGRGcmFnbWVudFRlbXBVc2FnZXModGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5zaGFkZWRUYXJnZXQsIDEpO1xuXG5cdFx0Ly9jb21waWxlIHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBpZiByZXF1aXJlZFxuXHRcdGlmICh0aGlzLl9wU2hhZGVyT2JqZWN0Lmdsb2JhbFBvc0RlcGVuZGVuY2llcyA+IDApXG5cdFx0XHR0aGlzLmNvbXBpbGVHbG9iYWxQb3NpdGlvbkNvZGUoKTtcblxuXHRcdC8vQ2FsY3VsYXRlIHRoZSAocG9zc2libHkgYW5pbWF0ZWQpIFVWIGNvb3JkaW5hdGVzLlxuXHRcdGlmICh0aGlzLl9wU2hhZGVyT2JqZWN0LnV2RGVwZW5kZW5jaWVzID4gMClcblx0XHRcdHRoaXMuY29tcGlsZVVWQ29kZSgpO1xuXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3Quc2Vjb25kYXJ5VVZEZXBlbmRlbmNpZXMgPiAwKVxuXHRcdFx0dGhpcy5jb21waWxlU2Vjb25kYXJ5VVZDb2RlKCk7XG5cblx0XHRpZiAodGhpcy5fcFNoYWRlck9iamVjdC5ub3JtYWxEZXBlbmRlbmNpZXMgPiAwKVxuXHRcdFx0dGhpcy5jb21waWxlTm9ybWFsQ29kZSgpO1xuXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3Qudmlld0RpckRlcGVuZGVuY2llcyA+IDApXG5cdFx0XHR0aGlzLmNvbXBpbGVWaWV3RGlyQ29kZSgpO1xuXG5cdFx0Ly9jb2xsZWN0IGNvZGUgZnJvbSBtYXRlcmlhbFxuXHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IHRoaXMuX3BNYXRlcmlhbC5faUdldFZlcnRleENvZGUodGhpcy5fcFNoYWRlck9iamVjdCwgdGhpcy5fcFJlZ2lzdGVyQ2FjaGUsIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMpO1xuXHRcdHRoaXMuX3BGcmFnbWVudENvZGUgKz0gdGhpcy5fcE1hdGVyaWFsLl9pR2V0RnJhZ21lbnRDb2RlKHRoaXMuX3BTaGFkZXJPYmplY3QsIHRoaXMuX3BSZWdpc3RlckNhY2hlLCB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzKTtcblxuXHRcdC8vY29sbGVjdCBjb2RlIGZyb20gcGFzc1xuXHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IHRoaXMuX3BNYXRlcmlhbFBhc3MuX2lHZXRQcmVMaWdodGluZ1ZlcnRleENvZGUodGhpcy5fcFNoYWRlck9iamVjdCwgdGhpcy5fcFJlZ2lzdGVyQ2FjaGUsIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMpO1xuXHRcdHRoaXMuX3BGcmFnbWVudENvZGUgKz0gdGhpcy5fcE1hdGVyaWFsUGFzcy5faUdldFByZUxpZ2h0aW5nRnJhZ21lbnRDb2RlKHRoaXMuX3BTaGFkZXJPYmplY3QsIHRoaXMuX3BSZWdpc3RlckNhY2hlLCB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzKTtcblxuXG5cblx0fVxuXG5cdHByaXZhdGUgY29tcGlsZUdsb2JhbFBvc2l0aW9uQ29kZSgpXG5cdHtcblx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5hZGRWZXJ0ZXhUZW1wVXNhZ2VzKHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuZ2xvYmFsUG9zaXRpb25WZXJ0ZXggPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4VmVjdG9yVGVtcCgpLCB0aGlzLl9wU2hhZGVyT2JqZWN0Lmdsb2JhbFBvc0RlcGVuZGVuY2llcyk7XG5cblx0XHR2YXIgc2NlbmVNYXRyaXhSZWc6U2hhZGVyUmVnaXN0ZXJFbGVtZW50ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleENvbnN0YW50KCk7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleENvbnN0YW50KCk7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleENvbnN0YW50KCk7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleENvbnN0YW50KCk7XG5cblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LnNjZW5lTWF0cml4SW5kZXggPSBzY2VuZU1hdHJpeFJlZy5pbmRleCo0O1xuXG5cdFx0dGhpcy5fcFZlcnRleENvZGUgKz0gXCJtNDQgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmdsb2JhbFBvc2l0aW9uVmVydGV4ICsgXCIsIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5sb2NhbFBvc2l0aW9uICsgXCIsIFwiICsgc2NlbmVNYXRyaXhSZWcgKyBcIlxcblwiO1xuXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3QudXNlc0dsb2JhbFBvc0ZyYWdtZW50KSB7XG5cdFx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmdsb2JhbFBvc2l0aW9uVmFyeWluZyA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWYXJ5aW5nKCk7XG5cdFx0XHR0aGlzLl9wVmVydGV4Q29kZSArPSBcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuZ2xvYmFsUG9zaXRpb25WYXJ5aW5nICsgXCIsIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5nbG9iYWxQb3NpdGlvblZlcnRleCArIFwiXFxuXCI7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENhbGN1bGF0ZSB0aGUgKHBvc3NpYmx5IGFuaW1hdGVkKSBVViBjb29yZGluYXRlcy5cblx0ICovXG5cdHByaXZhdGUgY29tcGlsZVVWQ29kZSgpXG5cdHtcblx0XHR2YXIgdXZBdHRyaWJ1dGVSZWc6U2hhZGVyUmVnaXN0ZXJFbGVtZW50ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleEF0dHJpYnV0ZSgpO1xuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QudXZCdWZmZXJJbmRleCA9IHV2QXR0cmlidXRlUmVnLmluZGV4O1xuXG5cdFx0dmFyIHZhcnlpbmc6U2hhZGVyUmVnaXN0ZXJFbGVtZW50ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZhcnlpbmcoKTtcblxuXHRcdHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudXZWYXJ5aW5nID0gdmFyeWluZztcblxuXHRcdGlmICh0aGlzLl9wU2hhZGVyT2JqZWN0LnVzZXNVVlRyYW5zZm9ybSkge1xuXHRcdFx0Ly8gYSwgYiwgMCwgdHhcblx0XHRcdC8vIGMsIGQsIDAsIHR5XG5cdFx0XHR2YXIgdXZUcmFuc2Zvcm0xOlNoYWRlclJlZ2lzdGVyRWxlbWVudCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWZXJ0ZXhDb25zdGFudCgpO1xuXHRcdFx0dmFyIHV2VHJhbnNmb3JtMjpTaGFkZXJSZWdpc3RlckVsZW1lbnQgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4Q29uc3RhbnQoKTtcblx0XHRcdHRoaXMuX3BTaGFkZXJPYmplY3QudXZUcmFuc2Zvcm1JbmRleCA9IHV2VHJhbnNmb3JtMS5pbmRleCo0O1xuXG5cdFx0XHR0aGlzLl9wVmVydGV4Q29kZSArPSBcImRwNCBcIiArIHZhcnlpbmcgKyBcIi54LCBcIiArIHV2QXR0cmlidXRlUmVnICsgXCIsIFwiICsgdXZUcmFuc2Zvcm0xICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XHRcdFx0IFwiZHA0IFwiICsgdmFyeWluZyArIFwiLnksIFwiICsgdXZBdHRyaWJ1dGVSZWcgKyBcIiwgXCIgKyB1dlRyYW5zZm9ybTIgKyBcIlxcblwiICtcblx0XHRcdFx0XHRcdFx0XHQgXCJtb3YgXCIgKyB2YXJ5aW5nICsgXCIuencsIFwiICsgdXZBdHRyaWJ1dGVSZWcgKyBcIi56dyBcXG5cIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcFNoYWRlck9iamVjdC51dlRyYW5zZm9ybUluZGV4ID0gLTE7XG5cdFx0XHR0aGlzLl91dlRhcmdldCA9IHZhcnlpbmcudG9TdHJpbmcoKTtcblx0XHRcdHRoaXMuX3V2U291cmNlID0gdXZBdHRyaWJ1dGVSZWcudG9TdHJpbmcoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUHJvdmlkZSB0aGUgc2Vjb25kYXJ5IFVWIGNvb3JkaW5hdGVzLlxuXHQgKi9cblx0cHJpdmF0ZSBjb21waWxlU2Vjb25kYXJ5VVZDb2RlKClcblx0e1xuXHRcdHZhciB1dkF0dHJpYnV0ZVJlZzpTaGFkZXJSZWdpc3RlckVsZW1lbnQgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4QXR0cmlidXRlKCk7XG5cdFx0dGhpcy5fcFNoYWRlck9iamVjdC5zZWNvbmRhcnlVVkJ1ZmZlckluZGV4ID0gdXZBdHRyaWJ1dGVSZWcuaW5kZXg7XG5cdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5zZWNvbmRhcnlVVlZhcnlpbmcgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmFyeWluZygpO1xuXHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IFwibW92IFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5zZWNvbmRhcnlVVlZhcnlpbmcgKyBcIiwgXCIgKyB1dkF0dHJpYnV0ZVJlZyArIFwiXFxuXCI7XG5cdH1cblxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSB2aWV3IGRpcmVjdGlvbi5cblx0ICovXG5cdHB1YmxpYyBjb21waWxlVmlld0RpckNvZGUoKVxuXHR7XG5cdFx0dmFyIGNhbWVyYVBvc2l0aW9uUmVnOlNoYWRlclJlZ2lzdGVyRWxlbWVudCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWZXJ0ZXhDb25zdGFudCgpO1xuXHRcdHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudmlld0RpclZhcnlpbmcgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmFyeWluZygpO1xuXHRcdHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudmlld0RpckZyYWdtZW50ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZUZyYWdtZW50VmVjdG9yVGVtcCgpO1xuXHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLmFkZEZyYWdtZW50VGVtcFVzYWdlcyh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnZpZXdEaXJGcmFnbWVudCwgdGhpcy5fcFNoYWRlck9iamVjdC52aWV3RGlyRGVwZW5kZW5jaWVzKTtcblxuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QuY2FtZXJhUG9zaXRpb25JbmRleCA9IGNhbWVyYVBvc2l0aW9uUmVnLmluZGV4KjQ7XG5cblx0XHRpZiAodGhpcy5fcFNoYWRlck9iamVjdC51c2VzVGFuZ2VudFNwYWNlKSB7XG5cdFx0XHR2YXIgdGVtcDpTaGFkZXJSZWdpc3RlckVsZW1lbnQgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4VmVjdG9yVGVtcCgpO1xuXHRcdFx0dGhpcy5fcFZlcnRleENvZGUgKz0gXCJzdWIgXCIgKyB0ZW1wICsgXCIsIFwiICsgY2FtZXJhUG9zaXRpb25SZWcgKyBcIiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmxvY2FsUG9zaXRpb24gKyBcIlxcblwiICtcblx0XHRcdFx0XCJtMzMgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnZpZXdEaXJWYXJ5aW5nICsgXCIueHl6LCBcIiArIHRlbXAgKyBcIiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiXFxuXCIgK1xuXHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudmlld0RpclZhcnlpbmcgKyBcIi53LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubG9jYWxQb3NpdGlvbiArIFwiLndcXG5cIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcFZlcnRleENvZGUgKz0gXCJzdWIgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnZpZXdEaXJWYXJ5aW5nICsgXCIsIFwiICsgY2FtZXJhUG9zaXRpb25SZWcgKyBcIiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmdsb2JhbFBvc2l0aW9uVmVydGV4ICsgXCJcXG5cIjtcblx0XHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLnJlbW92ZVZlcnRleFRlbXBVc2FnZSh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmdsb2JhbFBvc2l0aW9uVmVydGV4KTtcblx0XHR9XG5cblx0XHQvL1RPRE8gaXMgdGhpcyByZXF1aXJlZCBpbiBhbGwgY2FzZXM/IChyZTogZGlzdGFuY2VtYXBwYXNzKVxuXHRcdHRoaXMuX3BGcmFnbWVudENvZGUgKz0gXCJucm0gXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnZpZXdEaXJGcmFnbWVudCArIFwiLnh5eiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnZpZXdEaXJWYXJ5aW5nICsgXCJcXG5cIiArXG5cdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudmlld0RpckZyYWdtZW50ICsgXCIudywgICBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudmlld0RpclZhcnlpbmcgKyBcIi53XFxuXCI7XG5cdH1cblxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSBub3JtYWwuXG5cdCAqL1xuXHRwdWJsaWMgY29tcGlsZU5vcm1hbENvZGUoKVxuXHR7XG5cdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxGcmFnbWVudCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVGcmFnbWVudFZlY3RvclRlbXAoKTtcblx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5hZGRGcmFnbWVudFRlbXBVc2FnZXModGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxGcmFnbWVudCwgdGhpcy5fcFNoYWRlck9iamVjdC5ub3JtYWxEZXBlbmRlbmNpZXMpO1xuXG5cdFx0Ly9zaW1wbGUgbm9ybWFsIGFxdWlzaXRpb24gaWYgbm8gdGFuZ2VudCBzcGFjZSBpcyBiZWluZyB1c2VkXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3Qub3V0cHV0c05vcm1hbHMgJiYgIXRoaXMuX3BTaGFkZXJPYmplY3Qub3V0cHV0c1RhbmdlbnROb3JtYWxzKSB7XG5cdFx0XHR0aGlzLl9wVmVydGV4Q29kZSArPSB0aGlzLl9wTWF0ZXJpYWxQYXNzLl9pR2V0Tm9ybWFsVmVydGV4Q29kZSh0aGlzLl9wU2hhZGVyT2JqZWN0LCB0aGlzLl9wUmVnaXN0ZXJDYWNoZSwgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycyk7XG5cdFx0XHR0aGlzLl9wRnJhZ21lbnRDb2RlICs9IHRoaXMuX3BNYXRlcmlhbFBhc3MuX2lHZXROb3JtYWxGcmFnbWVudENvZGUodGhpcy5fcFNoYWRlck9iamVjdCwgdGhpcy5fcFJlZ2lzdGVyQ2FjaGUsIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMpO1xuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG5vcm1hbE1hdHJpeDpBcnJheTxTaGFkZXJSZWdpc3RlckVsZW1lbnQ+O1xuXG5cdFx0aWYgKCF0aGlzLl9wU2hhZGVyT2JqZWN0Lm91dHB1dHNOb3JtYWxzIHx8ICF0aGlzLl9wU2hhZGVyT2JqZWN0LnVzZXNUYW5nZW50U3BhY2UpIHtcblx0XHRcdG5vcm1hbE1hdHJpeCA9IG5ldyBBcnJheTxTaGFkZXJSZWdpc3RlckVsZW1lbnQ+KDMpO1xuXHRcdFx0bm9ybWFsTWF0cml4WzBdID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleENvbnN0YW50KCk7XG5cdFx0XHRub3JtYWxNYXRyaXhbMV0gPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4Q29uc3RhbnQoKTtcblx0XHRcdG5vcm1hbE1hdHJpeFsyXSA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWZXJ0ZXhDb25zdGFudCgpO1xuXG5cdFx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4Q29uc3RhbnQoKTtcblxuXHRcdFx0dGhpcy5fcFNoYWRlck9iamVjdC5zY2VuZU5vcm1hbE1hdHJpeEluZGV4ID0gbm9ybWFsTWF0cml4WzBdLmluZGV4KjQ7XG5cblx0XHRcdHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsVmFyeWluZyA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWYXJ5aW5nKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3Qub3V0cHV0c05vcm1hbHMpIHtcblx0XHRcdGlmICh0aGlzLl9wU2hhZGVyT2JqZWN0LnVzZXNUYW5nZW50U3BhY2UpIHtcblx0XHRcdFx0Ly8gbm9ybWFsaXplIG5vcm1hbCArIHRhbmdlbnQgdmVjdG9yIGFuZCBnZW5lcmF0ZSAoYXBwcm94aW1hdGVkKSBiaXRhbmdlbnQgdXNlZCBpbiBtMzMgb3BlcmF0aW9uIGZvciB2aWV3XG5cdFx0XHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IFwibnJtIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZE5vcm1hbCArIFwiLnh5eiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkTm9ybWFsICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJucm0gXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiLnh5eiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiXFxuXCIgK1xuXHRcdFx0XHRcdFwiY3JzIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnQgKyBcIi54eXosIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZE5vcm1hbCArIFwiLCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWRUYW5nZW50ICsgXCJcXG5cIjtcblxuXHRcdFx0XHR0aGlzLl9wRnJhZ21lbnRDb2RlICs9IHRoaXMuX3BNYXRlcmlhbFBhc3MuX2lHZXROb3JtYWxGcmFnbWVudENvZGUodGhpcy5fcFNoYWRlck9iamVjdCwgdGhpcy5fcFJlZ2lzdGVyQ2FjaGUsIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly9Db21waWxlcyB0aGUgdmVydGV4IHNoYWRlciBjb2RlIGZvciB0YW5nZW50LXNwYWNlIG5vcm1hbCBtYXBzLlxuXHRcdFx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRWYXJ5aW5nID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZhcnlpbmcoKTtcblx0XHRcdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnRWYXJ5aW5nID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZhcnlpbmcoKTtcblx0XHRcdFx0dmFyIHRlbXA6U2hhZGVyUmVnaXN0ZXJFbGVtZW50ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleFZlY3RvclRlbXAoKTtcblxuXHRcdFx0XHR0aGlzLl9wVmVydGV4Q29kZSArPSBcIm0zMyBcIiArIHRlbXAgKyBcIi54eXosIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZE5vcm1hbCArIFwiLCBcIiArIG5vcm1hbE1hdHJpeFswXSArIFwiXFxuXCIgK1xuXHRcdFx0XHRcdFwibnJtIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZE5vcm1hbCArIFwiLnh5eiwgXCIgKyB0ZW1wICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJtMzMgXCIgKyB0ZW1wICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWRUYW5nZW50ICsgXCIsIFwiICsgbm9ybWFsTWF0cml4WzBdICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJucm0gXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiLnh5eiwgXCIgKyB0ZW1wICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRWYXJ5aW5nICsgXCIueCwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiLnggIFxcblwiICtcblx0XHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudGFuZ2VudFZhcnlpbmcgKyBcIi56LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgKyBcIi54ICBcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRWYXJ5aW5nICsgXCIudywgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbElucHV0ICsgXCIudyAgXFxuXCIgK1xuXHRcdFx0XHRcdFwibW92IFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnRWYXJ5aW5nICsgXCIueCwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiLnkgIFxcblwiICtcblx0XHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYml0YW5nZW50VmFyeWluZyArIFwiLnosIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZE5vcm1hbCArIFwiLnkgIFxcblwiICtcblx0XHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYml0YW5nZW50VmFyeWluZyArIFwiLncsIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxJbnB1dCArIFwiLncgIFxcblwiICtcblx0XHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsVmFyeWluZyArIFwiLngsIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZFRhbmdlbnQgKyBcIi56ICBcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbFZhcnlpbmcgKyBcIi56LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgKyBcIi56ICBcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbFZhcnlpbmcgKyBcIi53LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsSW5wdXQgKyBcIi53ICBcXG5cIiArXG5cdFx0XHRcdFx0XCJjcnMgXCIgKyB0ZW1wICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgKyBcIiwgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiXFxuXCIgK1xuXHRcdFx0XHRcdFwibW92IFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy50YW5nZW50VmFyeWluZyArIFwiLnksIFwiICsgdGVtcCArIFwiLnggICAgXFxuXCIgK1xuXHRcdFx0XHRcdFwibW92IFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnRWYXJ5aW5nICsgXCIueSwgXCIgKyB0ZW1wICsgXCIueSAgXFxuXCIgK1xuXHRcdFx0XHRcdFwibW92IFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxWYXJ5aW5nICsgXCIueSwgXCIgKyB0ZW1wICsgXCIueiAgICBcXG5cIjtcblxuXHRcdFx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5yZW1vdmVWZXJ0ZXhUZW1wVXNhZ2UodGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5hbmltYXRlZFRhbmdlbnQpO1xuXG5cdFx0XHRcdC8vQ29tcGlsZXMgdGhlIGZyYWdtZW50IHNoYWRlciBjb2RlIGZvciB0YW5nZW50LXNwYWNlIG5vcm1hbCBtYXBzLlxuXHRcdFx0XHR2YXIgdDpTaGFkZXJSZWdpc3RlckVsZW1lbnQ7XG5cdFx0XHRcdHZhciBiOlNoYWRlclJlZ2lzdGVyRWxlbWVudDtcblx0XHRcdFx0dmFyIG46U2hhZGVyUmVnaXN0ZXJFbGVtZW50O1xuXG5cdFx0XHRcdHQgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlRnJhZ21lbnRWZWN0b3JUZW1wKCk7XG5cdFx0XHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLmFkZEZyYWdtZW50VGVtcFVzYWdlcyh0LCAxKTtcblx0XHRcdFx0YiA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVGcmFnbWVudFZlY3RvclRlbXAoKTtcblx0XHRcdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuYWRkRnJhZ21lbnRUZW1wVXNhZ2VzKGIsIDEpO1xuXHRcdFx0XHRuID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZUZyYWdtZW50VmVjdG9yVGVtcCgpO1xuXHRcdFx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5hZGRGcmFnbWVudFRlbXBVc2FnZXMobiwgMSk7XG5cblx0XHRcdFx0dGhpcy5fcEZyYWdtZW50Q29kZSArPSBcIm5ybSBcIiArIHQgKyBcIi54eXosIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy50YW5nZW50VmFyeWluZyArIFwiXFxuXCIgK1xuXHRcdFx0XHRcdFwibW92IFwiICsgdCArIFwiLncsIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy50YW5nZW50VmFyeWluZyArIFwiLndcdFxcblwiICtcblx0XHRcdFx0XHRcIm5ybSBcIiArIGIgKyBcIi54eXosIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnRWYXJ5aW5nICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJucm0gXCIgKyBuICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsVmFyeWluZyArIFwiXFxuXCI7XG5cblx0XHRcdFx0Ly9jb21waWxlIGN1c3RvbSBmcmFnbWVudCBjb2RlIGZvciBub3JtYWwgY2FsY3Ncblx0XHRcdFx0dGhpcy5fcEZyYWdtZW50Q29kZSArPSB0aGlzLl9wTWF0ZXJpYWxQYXNzLl9pR2V0Tm9ybWFsRnJhZ21lbnRDb2RlKHRoaXMuX3BTaGFkZXJPYmplY3QsIHRoaXMuX3BSZWdpc3RlckNhY2hlLCB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzKSArXG5cdFx0XHRcdFx0XCJtMzMgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbEZyYWdtZW50ICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsRnJhZ21lbnQgKyBcIiwgXCIgKyB0ICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbEZyYWdtZW50ICsgXCIudywgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbFZhcnlpbmcgKyBcIi53XFxuXCI7XG5cblx0XHRcdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUucmVtb3ZlRnJhZ21lbnRUZW1wVXNhZ2UoYik7XG5cdFx0XHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLnJlbW92ZUZyYWdtZW50VGVtcFVzYWdlKHQpO1xuXHRcdFx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5yZW1vdmVGcmFnbWVudFRlbXBVc2FnZShuKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gbm8gb3V0cHV0LCB3b3JsZCBzcGFjZSBpcyBlbm91Z2hcblx0XHRcdHRoaXMuX3BWZXJ0ZXhDb2RlICs9IFwibTMzIFwiICsgdGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxWYXJ5aW5nICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgKyBcIiwgXCIgKyBub3JtYWxNYXRyaXhbMF0gKyBcIlxcblwiICtcblx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbFZhcnlpbmcgKyBcIi53LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgKyBcIi53XFxuXCI7XG5cblx0XHRcdHRoaXMuX3BGcmFnbWVudENvZGUgKz0gXCJucm0gXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbEZyYWdtZW50ICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsVmFyeWluZyArIFwiXFxuXCIgK1xuXHRcdFx0XHRcIm1vdiBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsRnJhZ21lbnQgKyBcIi53LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsVmFyeWluZyArIFwiLndcXG5cIjtcblxuXHRcdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3QudGFuZ2VudERlcGVuZGVuY2llcyA+IDApIHtcblx0XHRcdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy50YW5nZW50VmFyeWluZyA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWYXJ5aW5nKCk7XG5cblx0XHRcdFx0dGhpcy5fcFZlcnRleENvZGUgKz0gXCJtMzMgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRWYXJ5aW5nICsgXCIueHl6LCBcIiArIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWRUYW5nZW50ICsgXCIsIFwiICsgbm9ybWFsTWF0cml4WzBdICsgXCJcXG5cIiArXG5cdFx0XHRcdFx0XCJtb3YgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRWYXJ5aW5nICsgXCIudywgXCIgKyB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCArIFwiLndcXG5cIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX3BTaGFkZXJPYmplY3QudXNlc1RhbmdlbnRTcGFjZSlcblx0XHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLnJlbW92ZVZlcnRleFRlbXBVc2FnZSh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkTm9ybWFsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNldCBhbGwgdGhlIGluZGljZXMgdG8gXCJ1bnVzZWRcIi5cblx0ICovXG5cdHB1YmxpYyBwSW5pdFJlZ2lzdGVySW5kaWNlcygpXG5cdHtcblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LnBJbml0UmVnaXN0ZXJJbmRpY2VzKCk7XG5cblx0XHR0aGlzLl9wQW5pbWF0YWJsZUF0dHJpYnV0ZXMgPSBuZXcgQXJyYXk8c3RyaW5nPihcInZhMFwiKTtcblx0XHR0aGlzLl9wQW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzID0gbmV3IEFycmF5PHN0cmluZz4oXCJ2dDBcIik7XG5cdFx0dGhpcy5fcFZlcnRleENvZGUgPSBcIlwiO1xuXHRcdHRoaXMuX3BGcmFnbWVudENvZGUgPSBcIlwiO1xuXHRcdHRoaXMuX3BQb3N0QW5pbWF0aW9uRnJhZ21lbnRDb2RlID0gXCJcIjtcblxuXHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLmFkZFZlcnRleFRlbXBVc2FnZXModGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5sb2NhbFBvc2l0aW9uID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleFZlY3RvclRlbXAoKSwgMSk7XG5cblx0XHQvL2NyZWF0ZSBjb21tb25seSBzaGFyZWQgY29uc3RhbnQgcmVnaXN0ZXJzXG5cdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5jb21tb25zID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZUZyYWdtZW50Q29uc3RhbnQoKTtcblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LmNvbW1vbnNEYXRhSW5kZXggPSB0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmNvbW1vbnMuaW5kZXgqNDtcblxuXHRcdC8vQ3JlYXRlcyB0aGUgcmVnaXN0ZXJzIHRvIGNvbnRhaW4gdGhlIHRhbmdlbnQgZGF0YS5cblx0XHQvLyBuZWVkIHRvIGJlIGNyZWF0ZWQgRklSU1QgYW5kIGluIHRoaXMgb3JkZXIgKGZvciB3aGVuIHVzaW5nIHRhbmdlbnQgc3BhY2UpXG5cdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3QudGFuZ2VudERlcGVuZGVuY2llcyA+IDAgfHwgdGhpcy5fcFNoYWRlck9iamVjdC5vdXRwdXRzTm9ybWFscykge1xuXHRcdFx0dGhpcy5fcFNoYXJlZFJlZ2lzdGVycy50YW5nZW50SW5wdXQgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4QXR0cmlidXRlKCk7XG5cdFx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LnRhbmdlbnRCdWZmZXJJbmRleCA9IHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMudGFuZ2VudElucHV0LmluZGV4O1xuXG5cdFx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWZXJ0ZXhWZWN0b3JUZW1wKCk7XG5cdFx0XHR0aGlzLl9wUmVnaXN0ZXJDYWNoZS5hZGRWZXJ0ZXhUZW1wVXNhZ2VzKHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWRUYW5nZW50LCAxKTtcblxuXHRcdFx0aWYgKHRoaXMuX3BTaGFkZXJPYmplY3QudXNlc1RhbmdlbnRTcGFjZSkge1xuXHRcdFx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmJpdGFuZ2VudCA9IHRoaXMuX3BSZWdpc3RlckNhY2hlLmdldEZyZWVWZXJ0ZXhWZWN0b3JUZW1wKCk7XG5cdFx0XHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlLmFkZFZlcnRleFRlbXBVc2FnZXModGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5iaXRhbmdlbnQsIDEpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wQW5pbWF0YWJsZUF0dHJpYnV0ZXMucHVzaCh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLnRhbmdlbnRJbnB1dC50b1N0cmluZygpKTtcblx0XHRcdHRoaXMuX3BBbmltYXRpb25UYXJnZXRSZWdpc3RlcnMucHVzaCh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkVGFuZ2VudC50b1N0cmluZygpKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcFNoYWRlck9iamVjdC5ub3JtYWxEZXBlbmRlbmNpZXMgPiAwKSB7XG5cdFx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLm5vcm1hbElucHV0ID0gdGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZ2V0RnJlZVZlcnRleEF0dHJpYnV0ZSgpO1xuXHRcdFx0dGhpcy5fcFNoYWRlck9iamVjdC5ub3JtYWxCdWZmZXJJbmRleCA9IHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMubm9ybWFsSW5wdXQuaW5kZXg7XG5cblx0XHRcdHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuYW5pbWF0ZWROb3JtYWwgPSB0aGlzLl9wUmVnaXN0ZXJDYWNoZS5nZXRGcmVlVmVydGV4VmVjdG9yVGVtcCgpO1xuXHRcdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuYWRkVmVydGV4VGVtcFVzYWdlcyh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkTm9ybWFsLCAxKTtcblxuXHRcdFx0dGhpcy5fcEFuaW1hdGFibGVBdHRyaWJ1dGVzLnB1c2godGhpcy5fcFNoYXJlZFJlZ2lzdGVycy5ub3JtYWxJbnB1dC50b1N0cmluZygpKTtcblx0XHRcdHRoaXMuX3BBbmltYXRpb25UYXJnZXRSZWdpc3RlcnMucHVzaCh0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzLmFuaW1hdGVkTm9ybWFsLnRvU3RyaW5nKCkpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBGaWd1cmUgb3V0IHdoaWNoIG5hbWVkIHJlZ2lzdGVycyBhcmUgcmVxdWlyZWQsIGFuZCBob3cgb2Z0ZW4uXG5cdCAqL1xuXHRwdWJsaWMgcENhbGN1bGF0ZURlcGVuZGVuY2llcygpXG5cdHtcblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LnVzZUFscGhhUHJlbXVsdGlwbGllZCA9IHRoaXMuX3BNYXRlcmlhbC5hbHBoYVByZW11bHRpcGxpZWQ7XG5cdFx0dGhpcy5fcFNoYWRlck9iamVjdC51c2VCb3RoU2lkZXMgPSB0aGlzLl9wTWF0ZXJpYWwuYm90aFNpZGVzO1xuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QudXNlTWlwbWFwcGluZyA9IHRoaXMuX3BNYXRlcmlhbC5taXBtYXA7XG5cdFx0dGhpcy5fcFNoYWRlck9iamVjdC51c2VTbW9vdGhUZXh0dXJlcyA9IHRoaXMuX3BNYXRlcmlhbC5zbW9vdGg7XG5cdFx0dGhpcy5fcFNoYWRlck9iamVjdC5yZXBlYXRUZXh0dXJlcyA9IHRoaXMuX3BNYXRlcmlhbC5yZXBlYXQ7XG5cdFx0dGhpcy5fcFNoYWRlck9iamVjdC51c2VzVVZUcmFuc2Zvcm0gPSB0aGlzLl9wTWF0ZXJpYWwuYW5pbWF0ZVVWcztcblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LmFscGhhVGhyZXNob2xkID0gdGhpcy5fcE1hdGVyaWFsLmFscGhhVGhyZXNob2xkO1xuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QudGV4dHVyZSA9IHRoaXMuX3BNYXRlcmlhbC50ZXh0dXJlO1xuXHRcdHRoaXMuX3BTaGFkZXJPYmplY3QuY29sb3IgPSB0aGlzLl9wTWF0ZXJpYWwuY29sb3I7XG5cdFx0Ly9UT0RPOiBmcmFnbWVudCBhbmltdGlvbiBzaG91bGQgYmUgY29tcGF0aWJsZSB3aXRoIGxpZ2h0aW5nIHBhc3Ncblx0XHR0aGlzLl9wU2hhZGVyT2JqZWN0LnVzZXNGcmFnbWVudEFuaW1hdGlvbiA9IEJvb2xlYW4odGhpcy5fcE1hdGVyaWFsUGFzcy5wYXNzTW9kZSA9PSBNYXRlcmlhbFBhc3NNb2RlLlNVUEVSX1NIQURFUik7XG5cblx0XHR0aGlzLl9wTWF0ZXJpYWxQYXNzLl9pSW5jbHVkZURlcGVuZGVuY2llcyh0aGlzLl9wU2hhZGVyT2JqZWN0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEaXNwb3NlcyBhbGwgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIGNvbXBpbGVyLlxuXHQgKi9cblx0cHVibGljIGRpc3Bvc2UoKVxuXHR7XG5cdFx0dGhpcy5fcFJlZ2lzdGVyQ2FjaGUuZGlzcG9zZSgpO1xuXHRcdHRoaXMuX3BSZWdpc3RlckNhY2hlID0gbnVsbDtcblx0XHR0aGlzLl9wU2hhcmVkUmVnaXN0ZXJzID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgZ2VuZXJhdGVkIHZlcnRleCBjb2RlLlxuXHQgKi9cblx0cHVibGljIGdldCB2ZXJ0ZXhDb2RlKCk6c3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcFZlcnRleENvZGU7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGdlbmVyYXRlZCBmcmFnbWVudCBjb2RlLlxuXHQgKi9cblx0cHVibGljIGdldCBmcmFnbWVudENvZGUoKTpzdHJpbmdcblx0e1xuXHRcdHJldHVybiB0aGlzLl9wRnJhZ21lbnRDb2RlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBnZW5lcmF0ZWQgZnJhZ21lbnQgY29kZS5cblx0ICovXG5cdHB1YmxpYyBnZXQgcG9zdEFuaW1hdGlvbkZyYWdtZW50Q29kZSgpOnN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX3BQb3N0QW5pbWF0aW9uRnJhZ21lbnRDb2RlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSByZWdpc3RlciBuYW1lIGNvbnRhaW5pbmcgdGhlIGZpbmFsIHNoYWRlZCBjb2xvdXIuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0IHNoYWRlZFRhcmdldCgpOnN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX3BTaGFyZWRSZWdpc3RlcnMuc2hhZGVkVGFyZ2V0LnRvU3RyaW5nKCk7XG5cdH1cbn1cblxuZXhwb3J0ID0gU2hhZGVyQ29tcGlsZXJCYXNlOyJdfQ==