var Rectangle = require("awayjs-core/lib/geom/Rectangle");
var ByteArray = require("awayjs-core/lib/utils/ByteArray");
var ContextGLBlendFactor = require("awayjs-stagegl/lib/base/ContextGLBlendFactor");
var ContextGLClearMask = require("awayjs-stagegl/lib/base/ContextGLClearMask");
var ContextGLCompareMode = require("awayjs-stagegl/lib/base/ContextGLCompareMode");
var ContextGLMipFilter = require("awayjs-stagegl/lib/base/ContextGLMipFilter");
var ContextGLProgramType = require("awayjs-stagegl/lib/base/ContextGLProgramType");
var ContextGLStencilAction = require("awayjs-stagegl/lib/base/ContextGLStencilAction");
var ContextGLTextureFilter = require("awayjs-stagegl/lib/base/ContextGLTextureFilter");
var ContextGLTriangleFace = require("awayjs-stagegl/lib/base/ContextGLTriangleFace");
var ContextGLVertexBufferFormat = require("awayjs-stagegl/lib/base/ContextGLVertexBufferFormat");
var ContextGLWrapMode = require("awayjs-stagegl/lib/base/ContextGLWrapMode");
var CubeTextureWebGL = require("awayjs-stagegl/lib/base/CubeTextureWebGL");
var IndexBufferWebGL = require("awayjs-stagegl/lib/base/IndexBufferWebGL");
var ProgramWebGL = require("awayjs-stagegl/lib/base/ProgramWebGL");
var TextureWebGL = require("awayjs-stagegl/lib/base/TextureWebGL");
var SamplerState = require("awayjs-stagegl/lib/base/SamplerState");
var VertexBufferWebGL = require("awayjs-stagegl/lib/base/VertexBufferWebGL");
var ContextWebGL = (function () {
    function ContextWebGL(canvas) {
        this._blendFactorDictionary = new Object();
        this._compareModeDictionary = new Object();
        this._stencilActionDictionary = new Object();
        this._textureIndexDictionary = new Array(8);
        this._textureTypeDictionary = new Object();
        this._wrapDictionary = new Object();
        this._filterDictionary = new Object();
        this._mipmapFilterDictionary = new Object();
        this._uniformLocationNameDictionary = new Object();
        this._vertexBufferDimensionDictionary = new Object();
        this._indexBufferList = new Array();
        this._vertexBufferList = new Array();
        this._textureList = new Array();
        this._programList = new Array();
        this._samplerStates = new Array(8);
        this._stencilReferenceValue = 0;
        this._stencilReadMask = 0xff;
        this._separateStencil = false;
        this._container = canvas;
        try {
            this._gl = canvas.getContext("experimental-webgl", { premultipliedAlpha: false, alpha: false, stencil: true });
            if (!this._gl)
                this._gl = canvas.getContext("webgl", { premultipliedAlpha: false, alpha: false, stencil: true });
        }
        catch (e) {
        }
        if (this._gl) {
            //this.dispatchEvent( new away.events.AwayEvent( away.events.AwayEvent.INITIALIZE_SUCCESS ) );
            if (this._gl.getExtension("OES_standard_derivatives")) {
                this._standardDerivatives = true;
            }
            else {
                this._standardDerivatives = false;
            }
            //setup shortcut dictionaries
            this._blendFactorDictionary[ContextGLBlendFactor.ONE] = this._gl.ONE;
            this._blendFactorDictionary[ContextGLBlendFactor.DESTINATION_ALPHA] = this._gl.DST_ALPHA;
            this._blendFactorDictionary[ContextGLBlendFactor.DESTINATION_COLOR] = this._gl.DST_COLOR;
            this._blendFactorDictionary[ContextGLBlendFactor.ONE] = this._gl.ONE;
            this._blendFactorDictionary[ContextGLBlendFactor.ONE_MINUS_DESTINATION_ALPHA] = this._gl.ONE_MINUS_DST_ALPHA;
            this._blendFactorDictionary[ContextGLBlendFactor.ONE_MINUS_DESTINATION_COLOR] = this._gl.ONE_MINUS_DST_COLOR;
            this._blendFactorDictionary[ContextGLBlendFactor.ONE_MINUS_SOURCE_ALPHA] = this._gl.ONE_MINUS_SRC_ALPHA;
            this._blendFactorDictionary[ContextGLBlendFactor.ONE_MINUS_SOURCE_COLOR] = this._gl.ONE_MINUS_SRC_COLOR;
            this._blendFactorDictionary[ContextGLBlendFactor.SOURCE_ALPHA] = this._gl.SRC_ALPHA;
            this._blendFactorDictionary[ContextGLBlendFactor.SOURCE_COLOR] = this._gl.SRC_COLOR;
            this._blendFactorDictionary[ContextGLBlendFactor.ZERO] = this._gl.ZERO;
            this._compareModeDictionary[ContextGLCompareMode.ALWAYS] = this._gl.ALWAYS;
            this._compareModeDictionary[ContextGLCompareMode.EQUAL] = this._gl.EQUAL;
            this._compareModeDictionary[ContextGLCompareMode.GREATER] = this._gl.GREATER;
            this._compareModeDictionary[ContextGLCompareMode.GREATER_EQUAL] = this._gl.GEQUAL;
            this._compareModeDictionary[ContextGLCompareMode.LESS] = this._gl.LESS;
            this._compareModeDictionary[ContextGLCompareMode.LESS_EQUAL] = this._gl.LEQUAL;
            this._compareModeDictionary[ContextGLCompareMode.NEVER] = this._gl.NEVER;
            this._compareModeDictionary[ContextGLCompareMode.NOT_EQUAL] = this._gl.NOTEQUAL;
            this._stencilActionDictionary[ContextGLStencilAction.DECREMENT_SATURATE] = this._gl.DECR;
            this._stencilActionDictionary[ContextGLStencilAction.DECREMENT_WRAP] = this._gl.DECR_WRAP;
            this._stencilActionDictionary[ContextGLStencilAction.INCREMENT_SATURATE] = this._gl.INCR;
            this._stencilActionDictionary[ContextGLStencilAction.INCREMENT_WRAP] = this._gl.INCR_WRAP;
            this._stencilActionDictionary[ContextGLStencilAction.INVERT] = this._gl.INVERT;
            this._stencilActionDictionary[ContextGLStencilAction.KEEP] = this._gl.KEEP;
            this._stencilActionDictionary[ContextGLStencilAction.SET] = this._gl.REPLACE;
            this._stencilActionDictionary[ContextGLStencilAction.ZERO] = this._gl.ZERO;
            this._textureIndexDictionary[0] = this._gl.TEXTURE0;
            this._textureIndexDictionary[1] = this._gl.TEXTURE1;
            this._textureIndexDictionary[2] = this._gl.TEXTURE2;
            this._textureIndexDictionary[3] = this._gl.TEXTURE3;
            this._textureIndexDictionary[4] = this._gl.TEXTURE4;
            this._textureIndexDictionary[5] = this._gl.TEXTURE5;
            this._textureIndexDictionary[6] = this._gl.TEXTURE6;
            this._textureIndexDictionary[7] = this._gl.TEXTURE7;
            this._textureTypeDictionary["texture2d"] = this._gl.TEXTURE_2D;
            this._textureTypeDictionary["textureCube"] = this._gl.TEXTURE_CUBE_MAP;
            this._wrapDictionary[ContextGLWrapMode.REPEAT] = this._gl.REPEAT;
            this._wrapDictionary[ContextGLWrapMode.CLAMP] = this._gl.CLAMP_TO_EDGE;
            this._filterDictionary[ContextGLTextureFilter.LINEAR] = this._gl.LINEAR;
            this._filterDictionary[ContextGLTextureFilter.NEAREST] = this._gl.NEAREST;
            this._mipmapFilterDictionary[ContextGLTextureFilter.LINEAR] = new Object();
            this._mipmapFilterDictionary[ContextGLTextureFilter.LINEAR][ContextGLMipFilter.MIPNEAREST] = this._gl.LINEAR_MIPMAP_NEAREST;
            this._mipmapFilterDictionary[ContextGLTextureFilter.LINEAR][ContextGLMipFilter.MIPLINEAR] = this._gl.LINEAR_MIPMAP_LINEAR;
            this._mipmapFilterDictionary[ContextGLTextureFilter.LINEAR][ContextGLMipFilter.MIPNONE] = this._gl.LINEAR;
            this._mipmapFilterDictionary[ContextGLTextureFilter.NEAREST] = new Object();
            this._mipmapFilterDictionary[ContextGLTextureFilter.NEAREST][ContextGLMipFilter.MIPNEAREST] = this._gl.NEAREST_MIPMAP_NEAREST;
            this._mipmapFilterDictionary[ContextGLTextureFilter.NEAREST][ContextGLMipFilter.MIPLINEAR] = this._gl.NEAREST_MIPMAP_LINEAR;
            this._mipmapFilterDictionary[ContextGLTextureFilter.NEAREST][ContextGLMipFilter.MIPNONE] = this._gl.NEAREST;
            this._uniformLocationNameDictionary[ContextGLProgramType.VERTEX] = "vc";
            this._uniformLocationNameDictionary[ContextGLProgramType.FRAGMENT] = "fc";
            this._vertexBufferDimensionDictionary[ContextGLVertexBufferFormat.FLOAT_1] = 1;
            this._vertexBufferDimensionDictionary[ContextGLVertexBufferFormat.FLOAT_2] = 2;
            this._vertexBufferDimensionDictionary[ContextGLVertexBufferFormat.FLOAT_3] = 3;
            this._vertexBufferDimensionDictionary[ContextGLVertexBufferFormat.FLOAT_4] = 4;
            this._vertexBufferDimensionDictionary[ContextGLVertexBufferFormat.BYTES_4] = 4;
            this._stencilCompareMode = this._gl.ALWAYS;
            this._stencilCompareModeBack = this._gl.ALWAYS;
            this._stencilCompareModeFront = this._gl.ALWAYS;
        }
        else {
            //this.dispatchEvent( new away.events.AwayEvent( away.events.AwayEvent.INITIALIZE_FAILED, e ) );
            alert("WebGL is not available.");
        }
        for (var i = 0; i < ContextWebGL.MAX_SAMPLERS; ++i) {
            this._samplerStates[i] = new SamplerState();
            this._samplerStates[i].wrap = this._gl.REPEAT;
            this._samplerStates[i].filter = this._gl.LINEAR;
            this._samplerStates[i].mipfilter = this._gl.LINEAR;
        }
    }
    Object.defineProperty(ContextWebGL.prototype, "container", {
        get: function () {
            return this._container;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ContextWebGL.prototype, "standardDerivatives", {
        get: function () {
            return this._standardDerivatives;
        },
        enumerable: true,
        configurable: true
    });
    ContextWebGL.prototype.gl = function () {
        return this._gl;
    };
    ContextWebGL.prototype.clear = function (red, green, blue, alpha, depth, stencil, mask) {
        if (red === void 0) { red = 0; }
        if (green === void 0) { green = 0; }
        if (blue === void 0) { blue = 0; }
        if (alpha === void 0) { alpha = 1; }
        if (depth === void 0) { depth = 1; }
        if (stencil === void 0) { stencil = 0; }
        if (mask === void 0) { mask = ContextGLClearMask.ALL; }
        if (!this._drawing) {
            this.updateBlendStatus();
            this._drawing = true;
        }
        var glmask = 0;
        if (mask & ContextGLClearMask.COLOR)
            glmask |= this._gl.COLOR_BUFFER_BIT;
        if (mask & ContextGLClearMask.STENCIL)
            glmask |= this._gl.STENCIL_BUFFER_BIT;
        if (mask & ContextGLClearMask.DEPTH)
            glmask |= this._gl.DEPTH_BUFFER_BIT;
        this._gl.clearColor(red, green, blue, alpha);
        this._gl.clearDepth(depth);
        this._gl.clearStencil(stencil);
        this._gl.clear(glmask);
    };
    ContextWebGL.prototype.configureBackBuffer = function (width, height, antiAlias, enableDepthAndStencil) {
        if (enableDepthAndStencil === void 0) { enableDepthAndStencil = true; }
        this._width = width;
        this._height = height;
        if (enableDepthAndStencil) {
            this._gl.enable(this._gl.STENCIL_TEST);
            this._gl.enable(this._gl.DEPTH_TEST);
        }
        this._gl.viewport['width'] = width;
        this._gl.viewport['height'] = height;
        this._gl.viewport(0, 0, width, height);
    };
    ContextWebGL.prototype.createCubeTexture = function (size, format, optimizeForRenderToTexture, streamingLevels) {
        if (streamingLevels === void 0) { streamingLevels = 0; }
        var texture = new CubeTextureWebGL(this._gl, size);
        this._textureList.push(texture);
        return texture;
    };
    ContextWebGL.prototype.createIndexBuffer = function (numIndices) {
        var indexBuffer = new IndexBufferWebGL(this._gl, numIndices);
        this._indexBufferList.push(indexBuffer);
        return indexBuffer;
    };
    ContextWebGL.prototype.createProgram = function () {
        var program = new ProgramWebGL(this._gl);
        this._programList.push(program);
        return program;
    };
    ContextWebGL.prototype.createTexture = function (width, height, format, optimizeForRenderToTexture, streamingLevels) {
        if (streamingLevels === void 0) { streamingLevels = 0; }
        //TODO streaming
        var texture = new TextureWebGL(this._gl, width, height);
        this._textureList.push(texture);
        return texture;
    };
    ContextWebGL.prototype.createVertexBuffer = function (numVertices, data32PerVertex) {
        var vertexBuffer = new VertexBufferWebGL(this._gl, numVertices, data32PerVertex);
        this._vertexBufferList.push(vertexBuffer);
        return vertexBuffer;
    };
    ContextWebGL.prototype.dispose = function () {
        var i;
        for (i = 0; i < this._indexBufferList.length; ++i)
            this._indexBufferList[i].dispose();
        this._indexBufferList = null;
        for (i = 0; i < this._vertexBufferList.length; ++i)
            this._vertexBufferList[i].dispose();
        this._vertexBufferList = null;
        for (i = 0; i < this._textureList.length; ++i)
            this._textureList[i].dispose();
        this._textureList = null;
        for (i = 0; i < this._programList.length; ++i)
            this._programList[i].dispose();
        for (i = 0; i < this._samplerStates.length; ++i)
            this._samplerStates[i] = null;
        this._programList = null;
    };
    ContextWebGL.prototype.drawToBitmapData = function (destination) {
        var arrayBuffer = new ArrayBuffer(destination.width * destination.height * 4);
        this._gl.readPixels(0, 0, destination.width, destination.height, this._gl.RGBA, this._gl.UNSIGNED_BYTE, new Uint8Array(arrayBuffer));
        var byteArray = new ByteArray();
        byteArray.setArrayBuffer(arrayBuffer);
        destination.setPixels(new Rectangle(0, 0, destination.width, destination.height), byteArray);
    };
    ContextWebGL.prototype.drawTriangles = function (indexBuffer, firstIndex, numTriangles) {
        if (firstIndex === void 0) { firstIndex = 0; }
        if (numTriangles === void 0) { numTriangles = -1; }
        if (!this._drawing)
            throw "Need to clear before drawing if the buffer has not been cleared since the last present() call.";
        this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER, indexBuffer.glBuffer);
        this._gl.drawElements(this._gl.TRIANGLES, (numTriangles == -1) ? indexBuffer.numIndices : numTriangles * 3, this._gl.UNSIGNED_SHORT, firstIndex);
    };
    ContextWebGL.prototype.present = function () {
        this._drawing = false;
    };
    ContextWebGL.prototype.setBlendFactors = function (sourceFactor, destinationFactor) {
        this._blendEnabled = true;
        this._blendSourceFactor = this._blendFactorDictionary[sourceFactor];
        this._blendDestinationFactor = this._blendFactorDictionary[destinationFactor];
        this.updateBlendStatus();
    };
    ContextWebGL.prototype.setColorMask = function (red, green, blue, alpha) {
        this._gl.colorMask(red, green, blue, alpha);
    };
    ContextWebGL.prototype.setCulling = function (triangleFaceToCull, coordinateSystem) {
        if (coordinateSystem === void 0) { coordinateSystem = "leftHanded"; }
        if (triangleFaceToCull == ContextGLTriangleFace.NONE) {
            this._gl.disable(this._gl.CULL_FACE);
        }
        else {
            this._gl.enable(this._gl.CULL_FACE);
            this._gl.cullFace(this.translateTriangleFace(triangleFaceToCull, coordinateSystem));
        }
    };
    // TODO ContextGLCompareMode
    ContextWebGL.prototype.setDepthTest = function (depthMask, passCompareMode) {
        this._gl.depthFunc(this._compareModeDictionary[passCompareMode]);
        this._gl.depthMask(depthMask);
    };
    ContextWebGL.prototype.setStencilActions = function (triangleFace, compareMode, actionOnBothPass, actionOnDepthFail, actionOnDepthPassStencilFail, coordinateSystem) {
        if (triangleFace === void 0) { triangleFace = "frontAndBack"; }
        if (compareMode === void 0) { compareMode = "always"; }
        if (actionOnBothPass === void 0) { actionOnBothPass = "keep"; }
        if (actionOnDepthFail === void 0) { actionOnDepthFail = "keep"; }
        if (actionOnDepthPassStencilFail === void 0) { actionOnDepthPassStencilFail = "keep"; }
        if (coordinateSystem === void 0) { coordinateSystem = "leftHanded"; }
        this._separateStencil = triangleFace != "frontAndBack";
        var compareModeGL = this._compareModeDictionary[compareMode];
        var fail = this._stencilActionDictionary[actionOnDepthPassStencilFail];
        var zFail = this._stencilActionDictionary[actionOnDepthFail];
        var pass = this._stencilActionDictionary[actionOnBothPass];
        if (!this._separateStencil) {
            this._stencilCompareMode = compareModeGL;
            this._gl.stencilFunc(compareModeGL, this._stencilReferenceValue, this._stencilReadMask);
            this._gl.stencilOp(fail, zFail, pass);
        }
        else if (triangleFace == "back") {
            this._stencilCompareModeBack = compareModeGL;
            this._gl.stencilFuncSeparate(this._gl.BACK, compareModeGL, this._stencilReferenceValue, this._stencilReadMask);
            this._gl.stencilOpSeparate(this._gl.BACK, fail, zFail, pass);
        }
        else if (triangleFace == "front") {
            this._stencilCompareModeFront = compareModeGL;
            this._gl.stencilFuncSeparate(this._gl.FRONT, compareModeGL, this._stencilReferenceValue, this._stencilReadMask);
            this._gl.stencilOpSeparate(this._gl.FRONT, fail, zFail, pass);
        }
    };
    ContextWebGL.prototype.setStencilReferenceValue = function (referenceValue, readMask, writeMask) {
        this._stencilReferenceValue = referenceValue;
        this._stencilReadMask = readMask;
        if (this._separateStencil) {
            this._gl.stencilFunc(this._stencilCompareMode, referenceValue, readMask);
        }
        else {
            this._gl.stencilFuncSeparate(this._gl.FRONT, this._stencilCompareModeFront, referenceValue, readMask);
            this._gl.stencilFuncSeparate(this._gl.BACK, this._stencilCompareModeBack, referenceValue, readMask);
        }
        this._gl.stencilMask(writeMask);
    };
    ContextWebGL.prototype.setProgram = function (program) {
        //TODO decide on construction/reference resposibilities
        this._currentProgram = program;
        program.focusProgram();
    };
    ContextWebGL.prototype.setProgramConstantsFromMatrix = function (programType, firstRegister, matrix, transposedMatrix) {
        //this._gl.uniformMatrix4fv(this._gl.getUniformLocation(this._currentProgram.glProgram, this._uniformLocationNameDictionary[programType]), !transposedMatrix, new Float32Array(matrix.rawData));
        if (transposedMatrix === void 0) { transposedMatrix = false; }
        //TODO remove special case for WebGL matrix calls?
        var d = matrix.rawData;
        if (transposedMatrix) {
            this.setProgramConstantsFromArray(programType, firstRegister, [d[0], d[4], d[8], d[12]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 1, [d[1], d[5], d[9], d[13]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 2, [d[2], d[6], d[10], d[14]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 3, [d[3], d[7], d[11], d[15]], 1);
        }
        else {
            this.setProgramConstantsFromArray(programType, firstRegister, [d[0], d[1], d[2], d[3]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 1, [d[4], d[5], d[6], d[7]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 2, [d[8], d[9], d[10], d[11]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 3, [d[12], d[13], d[14], d[15]], 1);
        }
    };
    ContextWebGL.prototype.setProgramConstantsFromArray = function (programType, firstRegister, data, numRegisters) {
        if (numRegisters === void 0) { numRegisters = -1; }
        var locationName = this._uniformLocationNameDictionary[programType];
        var startIndex;
        for (var i = 0; i < numRegisters; i++) {
            startIndex = i * 4;
            this._gl.uniform4f(this._gl.getUniformLocation(this._currentProgram.glProgram, locationName + (firstRegister + i)), data[startIndex], data[startIndex + 1], data[startIndex + 2], data[startIndex + 3]);
        }
    };
    ContextWebGL.prototype.setScissorRectangle = function (rectangle) {
        if (!rectangle) {
            this._gl.disable(this._gl.SCISSOR_TEST);
            return;
        }
        this._gl.enable(this._gl.SCISSOR_TEST);
        this._gl.scissor(rectangle.x, rectangle.y, rectangle.width, rectangle.height);
    };
    ContextWebGL.prototype.setTextureAt = function (sampler, texture) {
        var samplerState = this._samplerStates[sampler];
        if (this._activeTexture != sampler && (texture || samplerState.type)) {
            this._activeTexture = sampler;
            this._gl.activeTexture(this._textureIndexDictionary[sampler]);
        }
        if (!texture) {
            if (samplerState.type) {
                this._gl.bindTexture(samplerState.type, null);
                samplerState.type = null;
            }
            return;
        }
        var textureType = this._textureTypeDictionary[texture.textureType];
        samplerState.type = textureType;
        this._gl.bindTexture(textureType, texture.glTexture);
        this._gl.uniform1i(this._gl.getUniformLocation(this._currentProgram.glProgram, "fs" + sampler), sampler);
        this._gl.texParameteri(textureType, this._gl.TEXTURE_WRAP_S, samplerState.wrap);
        this._gl.texParameteri(textureType, this._gl.TEXTURE_WRAP_T, samplerState.wrap);
        this._gl.texParameteri(textureType, this._gl.TEXTURE_MAG_FILTER, samplerState.filter);
        this._gl.texParameteri(textureType, this._gl.TEXTURE_MIN_FILTER, samplerState.mipfilter);
    };
    ContextWebGL.prototype.setSamplerStateAt = function (sampler, wrap, filter, mipfilter) {
        if (0 <= sampler && sampler < ContextWebGL.MAX_SAMPLERS) {
            this._samplerStates[sampler].wrap = this._wrapDictionary[wrap];
            this._samplerStates[sampler].filter = this._filterDictionary[filter];
            this._samplerStates[sampler].mipfilter = this._mipmapFilterDictionary[filter][mipfilter];
        }
        else {
            throw "Sampler is out of bounds.";
        }
    };
    ContextWebGL.prototype.setVertexBufferAt = function (index, buffer, bufferOffset, format) {
        if (bufferOffset === void 0) { bufferOffset = 0; }
        if (format === void 0) { format = null; }
        var location = this._currentProgram ? this._gl.getAttribLocation(this._currentProgram.glProgram, "va" + index) : -1;
        if (!buffer) {
            if (location > -1)
                this._gl.disableVertexAttribArray(location);
            return;
        }
        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, buffer.glBuffer);
        this._gl.enableVertexAttribArray(location);
        this._gl.vertexAttribPointer(location, this._vertexBufferDimensionDictionary[format], this._gl.FLOAT, false, buffer.data32PerVertex * 4, bufferOffset * 4);
    };
    ContextWebGL.prototype.setRenderToTexture = function (target, enableDepthAndStencil, antiAlias, surfaceSelector) {
        if (enableDepthAndStencil === void 0) { enableDepthAndStencil = false; }
        if (antiAlias === void 0) { antiAlias = 0; }
        if (surfaceSelector === void 0) { surfaceSelector = 0; }
        var texture = target;
        var frameBuffer = texture.frameBuffer;
        this._gl.bindFramebuffer(this._gl.FRAMEBUFFER, frameBuffer);
        if (enableDepthAndStencil) {
            this._gl.enable(this._gl.STENCIL_TEST);
            this._gl.enable(this._gl.DEPTH_TEST);
        }
        this._gl.viewport(0, 0, texture.width, texture.height);
    };
    ContextWebGL.prototype.setRenderToBackBuffer = function () {
        this._gl.bindFramebuffer(this._gl.FRAMEBUFFER, null);
    };
    ContextWebGL.prototype.updateBlendStatus = function () {
        if (this._blendEnabled) {
            this._gl.enable(this._gl.BLEND);
            this._gl.blendEquation(this._gl.FUNC_ADD);
            this._gl.blendFunc(this._blendSourceFactor, this._blendDestinationFactor);
        }
        else {
            this._gl.disable(this._gl.BLEND);
        }
    };
    ContextWebGL.prototype.translateTriangleFace = function (triangleFace, coordinateSystem) {
        switch (triangleFace) {
            case ContextGLTriangleFace.BACK:
                return (coordinateSystem == "leftHanded") ? this._gl.FRONT : this._gl.BACK;
                break;
            case ContextGLTriangleFace.FRONT:
                return (coordinateSystem == "leftHanded") ? this._gl.BACK : this._gl.FRONT;
                break;
            case ContextGLTriangleFace.FRONT_AND_BACK:
                return this._gl.FRONT_AND_BACK;
                break;
            default:
                throw "Unknown ContextGLTriangleFace type.";
        }
    };
    ContextWebGL.MAX_SAMPLERS = 8;
    ContextWebGL.modulo = 0;
    return ContextWebGL;
})();
module.exports = ContextWebGL;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRXZWJHTC50cyJdLCJuYW1lcyI6WyJDb250ZXh0V2ViR0wiLCJDb250ZXh0V2ViR0wuY29uc3RydWN0b3IiLCJDb250ZXh0V2ViR0wuY29udGFpbmVyIiwiQ29udGV4dFdlYkdMLnN0YW5kYXJkRGVyaXZhdGl2ZXMiLCJDb250ZXh0V2ViR0wuZ2wiLCJDb250ZXh0V2ViR0wuY2xlYXIiLCJDb250ZXh0V2ViR0wuY29uZmlndXJlQmFja0J1ZmZlciIsIkNvbnRleHRXZWJHTC5jcmVhdGVDdWJlVGV4dHVyZSIsIkNvbnRleHRXZWJHTC5jcmVhdGVJbmRleEJ1ZmZlciIsIkNvbnRleHRXZWJHTC5jcmVhdGVQcm9ncmFtIiwiQ29udGV4dFdlYkdMLmNyZWF0ZVRleHR1cmUiLCJDb250ZXh0V2ViR0wuY3JlYXRlVmVydGV4QnVmZmVyIiwiQ29udGV4dFdlYkdMLmRpc3Bvc2UiLCJDb250ZXh0V2ViR0wuZHJhd1RvQml0bWFwRGF0YSIsIkNvbnRleHRXZWJHTC5kcmF3VHJpYW5nbGVzIiwiQ29udGV4dFdlYkdMLnByZXNlbnQiLCJDb250ZXh0V2ViR0wuc2V0QmxlbmRGYWN0b3JzIiwiQ29udGV4dFdlYkdMLnNldENvbG9yTWFzayIsIkNvbnRleHRXZWJHTC5zZXRDdWxsaW5nIiwiQ29udGV4dFdlYkdMLnNldERlcHRoVGVzdCIsIkNvbnRleHRXZWJHTC5zZXRTdGVuY2lsQWN0aW9ucyIsIkNvbnRleHRXZWJHTC5zZXRTdGVuY2lsUmVmZXJlbmNlVmFsdWUiLCJDb250ZXh0V2ViR0wuc2V0UHJvZ3JhbSIsIkNvbnRleHRXZWJHTC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbU1hdHJpeCIsIkNvbnRleHRXZWJHTC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5IiwiQ29udGV4dFdlYkdMLnNldFNjaXNzb3JSZWN0YW5nbGUiLCJDb250ZXh0V2ViR0wuc2V0VGV4dHVyZUF0IiwiQ29udGV4dFdlYkdMLnNldFNhbXBsZXJTdGF0ZUF0IiwiQ29udGV4dFdlYkdMLnNldFZlcnRleEJ1ZmZlckF0IiwiQ29udGV4dFdlYkdMLnNldFJlbmRlclRvVGV4dHVyZSIsIkNvbnRleHRXZWJHTC5zZXRSZW5kZXJUb0JhY2tCdWZmZXIiLCJDb250ZXh0V2ViR0wudXBkYXRlQmxlbmRTdGF0dXMiLCJDb250ZXh0V2ViR0wudHJhbnNsYXRlVHJpYW5nbGVGYWNlIl0sIm1hcHBpbmdzIjoiQUFFQSxJQUFPLFNBQVMsV0FBZSxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQ2pFLElBQU8sU0FBUyxXQUFlLGlDQUFpQyxDQUFDLENBQUM7QUFFbEUsSUFBTyxvQkFBb0IsV0FBYSw4Q0FBOEMsQ0FBQyxDQUFDO0FBQ3hGLElBQU8sa0JBQWtCLFdBQWEsNENBQTRDLENBQUMsQ0FBQztBQUNwRixJQUFPLG9CQUFvQixXQUFhLDhDQUE4QyxDQUFDLENBQUM7QUFDeEYsSUFBTyxrQkFBa0IsV0FBYSw0Q0FBNEMsQ0FBQyxDQUFDO0FBQ3BGLElBQU8sb0JBQW9CLFdBQWEsOENBQThDLENBQUMsQ0FBQztBQUN4RixJQUFPLHNCQUFzQixXQUFZLGdEQUFnRCxDQUFDLENBQUM7QUFDM0YsSUFBTyxzQkFBc0IsV0FBWSxnREFBZ0QsQ0FBQyxDQUFDO0FBQzNGLElBQU8scUJBQXFCLFdBQVksK0NBQStDLENBQUMsQ0FBQztBQUN6RixJQUFPLDJCQUEyQixXQUFXLHFEQUFxRCxDQUFDLENBQUM7QUFDcEcsSUFBTyxpQkFBaUIsV0FBYSwyQ0FBMkMsQ0FBQyxDQUFDO0FBQ2xGLElBQU8sZ0JBQWdCLFdBQWMsMENBQTBDLENBQUMsQ0FBQztBQUVqRixJQUFPLGdCQUFnQixXQUFjLDBDQUEwQyxDQUFDLENBQUM7QUFDakYsSUFBTyxZQUFZLFdBQWUsc0NBQXNDLENBQUMsQ0FBQztBQUUxRSxJQUFPLFlBQVksV0FBZSxzQ0FBc0MsQ0FBQyxDQUFDO0FBQzFFLElBQU8sWUFBWSxXQUFlLHNDQUFzQyxDQUFDLENBQUM7QUFDMUUsSUFBTyxpQkFBaUIsV0FBYSwyQ0FBMkMs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LENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3BEQSxJQUFJQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBO1lBRXBEQSxJQUFJQSxDQUFDQSxzQkFBc0JBLENBQUNBLFdBQVdBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBO1lBQy9EQSxJQUFJQSxDQUFDQSxzQkFBc0JBLENBQUNBLGFBQWFBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLGdCQUFnQkEsQ0FBQ0E7WUFFdkVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsSUFB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QUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQzlGQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQ2xHQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQ25HQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQ3BHQSxDQUFDQTtRQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNQQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQzdGQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQ2pHQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQ25HQSxJQUFJQSxDQUFDQSw0QkFBNEJBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLEdBQUdBLENBQUNBLEVBQUVBLENBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLENBQUVBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQ3RHQSxDQUFDQTtJQUNGQSxDQUFDQTtJQUlNdkIsbURBQTRCQSxHQUFuQ0EsVUFBb0NBLFdBQWtCQSxFQUFFQSxhQUFvQkEsRUFBRUEsSUFBYUEsRUFBRUEsWUFBd0JBO1FB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cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJpdG1hcERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2RhdGEvQml0bWFwRGF0YVwiKTtcclxuaW1wb3J0IE1hdHJpeDNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XHJcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vUmVjdGFuZ2xlXCIpO1xyXG5pbXBvcnQgQnl0ZUFycmF5XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9CeXRlQXJyYXlcIik7XHJcblxyXG5pbXBvcnQgQ29udGV4dEdMQmxlbmRGYWN0b3JcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xCbGVuZEZhY3RvclwiKTtcclxuaW1wb3J0IENvbnRleHRHTENsZWFyTWFza1x0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTENsZWFyTWFza1wiKTtcclxuaW1wb3J0IENvbnRleHRHTENvbXBhcmVNb2RlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMQ29tcGFyZU1vZGVcIik7XHJcbmltcG9ydCBDb250ZXh0R0xNaXBGaWx0ZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xNaXBGaWx0ZXJcIik7XHJcbmltcG9ydCBDb250ZXh0R0xQcm9ncmFtVHlwZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTFByb2dyYW1UeXBlXCIpO1xyXG5pbXBvcnQgQ29udGV4dEdMU3RlbmNpbEFjdGlvblx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xTdGVuY2lsQWN0aW9uXCIpO1xyXG5pbXBvcnQgQ29udGV4dEdMVGV4dHVyZUZpbHRlclx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xUZXh0dXJlRmlsdGVyXCIpO1xyXG5pbXBvcnQgQ29udGV4dEdMVHJpYW5nbGVGYWNlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTFRyaWFuZ2xlRmFjZVwiKTtcclxuaW1wb3J0IENvbnRleHRHTFZlcnRleEJ1ZmZlckZvcm1hdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMVmVydGV4QnVmZmVyRm9ybWF0XCIpO1xyXG5pbXBvcnQgQ29udGV4dEdMV3JhcE1vZGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xXcmFwTW9kZVwiKTtcclxuaW1wb3J0IEN1YmVUZXh0dXJlV2ViR0xcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0N1YmVUZXh0dXJlV2ViR0xcIik7XHJcbmltcG9ydCBJQ29udGV4dEdMXHRcdFx0XHQgICAgPSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvSUNvbnRleHRHTFwiKTtcclxuaW1wb3J0IEluZGV4QnVmZmVyV2ViR0xcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0luZGV4QnVmZmVyV2ViR0xcIik7XHJcbmltcG9ydCBQcm9ncmFtV2ViR0xcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvUHJvZ3JhbVdlYkdMXCIpO1xyXG5pbXBvcnQgVGV4dHVyZUJhc2VXZWJHTFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvVGV4dHVyZUJhc2VXZWJHTFwiKTtcclxuaW1wb3J0IFRleHR1cmVXZWJHTFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9UZXh0dXJlV2ViR0xcIik7XHJcbmltcG9ydCBTYW1wbGVyU3RhdGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvU2FtcGxlclN0YXRlXCIpO1xyXG5pbXBvcnQgVmVydGV4QnVmZmVyV2ViR0xcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9WZXJ0ZXhCdWZmZXJXZWJHTFwiKTtcclxuXHJcbmNsYXNzIENvbnRleHRXZWJHTCBpbXBsZW1lbnRzIElDb250ZXh0R0xcclxue1xyXG5cdHByaXZhdGUgX2JsZW5kRmFjdG9yRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfY29tcGFyZU1vZGVEaWN0aW9uYXJ5Ok9iamVjdCA9IG5ldyBPYmplY3QoKTtcclxuXHRwcml2YXRlIF9zdGVuY2lsQWN0aW9uRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfdGV4dHVyZUluZGV4RGljdGlvbmFyeTpBcnJheTxudW1iZXI+ID0gbmV3IEFycmF5PG51bWJlcj4oOCk7XHJcblx0cHJpdmF0ZSBfdGV4dHVyZVR5cGVEaWN0aW9uYXJ5Ok9iamVjdCA9IG5ldyBPYmplY3QoKTtcclxuXHRwcml2YXRlIF93cmFwRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfZmlsdGVyRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfbWlwbWFwRmlsdGVyRGljdGlvbmFyeTpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfdW5pZm9ybUxvY2F0aW9uTmFtZURpY3Rpb25hcnk6T2JqZWN0ID0gbmV3IE9iamVjdCgpO1xyXG5cdHByaXZhdGUgX3ZlcnRleEJ1ZmZlckRpbWVuc2lvbkRpY3Rpb25hcnk6T2JqZWN0ID0gbmV3IE9iamVjdCgpO1xyXG5cclxuXHRwcml2YXRlIF9jb250YWluZXI6SFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBfd2lkdGg6bnVtYmVyO1xyXG5cdHByaXZhdGUgX2hlaWdodDpudW1iZXI7XHJcblx0cHJpdmF0ZSBfZHJhd2luZzpib29sZWFuO1xyXG5cdHByaXZhdGUgX2JsZW5kRW5hYmxlZDpib29sZWFuO1xyXG5cdHByaXZhdGUgX2JsZW5kU291cmNlRmFjdG9yOm51bWJlcjtcclxuXHRwcml2YXRlIF9ibGVuZERlc3RpbmF0aW9uRmFjdG9yOm51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBfc3RhbmRhcmREZXJpdmF0aXZlczpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9pbmRleEJ1ZmZlckxpc3Q6QXJyYXk8SW5kZXhCdWZmZXJXZWJHTD4gPSBuZXcgQXJyYXk8SW5kZXhCdWZmZXJXZWJHTD4oKTtcclxuXHRwcml2YXRlIF92ZXJ0ZXhCdWZmZXJMaXN0OkFycmF5PFZlcnRleEJ1ZmZlcldlYkdMPiA9IG5ldyBBcnJheTxWZXJ0ZXhCdWZmZXJXZWJHTD4oKTtcclxuXHRwcml2YXRlIF90ZXh0dXJlTGlzdDpBcnJheTxUZXh0dXJlQmFzZVdlYkdMPiA9IG5ldyBBcnJheTxUZXh0dXJlQmFzZVdlYkdMPigpO1xyXG5cdHByaXZhdGUgX3Byb2dyYW1MaXN0OkFycmF5PFByb2dyYW1XZWJHTD4gPSBuZXcgQXJyYXk8UHJvZ3JhbVdlYkdMPigpO1xyXG5cclxuXHRwcml2YXRlIF9zYW1wbGVyU3RhdGVzOkFycmF5PFNhbXBsZXJTdGF0ZT4gPSBuZXcgQXJyYXk8U2FtcGxlclN0YXRlPig4KTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBNQVhfU0FNUExFUlM6bnVtYmVyID0gODtcclxuXHJcblx0Ly9AcHJvdGVjdGVkXHJcblx0cHVibGljIF9nbDpXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcblxyXG5cdC8vQHByb3RlY3RlZFxyXG5cdHB1YmxpYyBfY3VycmVudFByb2dyYW06UHJvZ3JhbVdlYkdMO1xyXG5cdHByaXZhdGUgX2FjdGl2ZVRleHR1cmU6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX3N0ZW5jaWxDb21wYXJlTW9kZTpudW1iZXI7XHJcbiAgICBwcml2YXRlIF9zdGVuY2lsQ29tcGFyZU1vZGVCYWNrOm51bWJlcjtcclxuICAgIHByaXZhdGUgX3N0ZW5jaWxDb21wYXJlTW9kZUZyb250Om51bWJlcjtcclxuICAgIHByaXZhdGUgX3N0ZW5jaWxSZWZlcmVuY2VWYWx1ZSA6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9zdGVuY2lsUmVhZE1hc2sgOiBudW1iZXIgPSAweGZmO1xyXG4gICAgcHJpdmF0ZSBfc2VwYXJhdGVTdGVuY2lsIDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHJcblx0cHVibGljIGdldCBjb250YWluZXIoKTpIVE1MRWxlbWVudFxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fVxyXG5cdHB1YmxpYyBnZXQgc3RhbmRhcmREZXJpdmF0aXZlcygpOmJvb2xlYW5cclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5fc3RhbmRhcmREZXJpdmF0aXZlcztcclxuXHR9XHJcblx0Y29uc3RydWN0b3IoY2FudmFzOkhUTUxDYW52YXNFbGVtZW50KVxyXG5cdHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IGNhbnZhcztcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLl9nbCA9IDxXZWJHTFJlbmRlcmluZ0NvbnRleHQ+IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIHsgcHJlbXVsdGlwbGllZEFscGhhOmZhbHNlLCBhbHBoYTpmYWxzZSwgc3RlbmNpbDp0cnVlIH0pO1xyXG5cclxuXHRcdFx0aWYgKCF0aGlzLl9nbClcclxuXHRcdFx0XHR0aGlzLl9nbCA9IDxXZWJHTFJlbmRlcmluZ0NvbnRleHQ+IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIiwgeyBwcmVtdWx0aXBsaWVkQWxwaGE6ZmFsc2UsIGFscGhhOmZhbHNlLCBzdGVuY2lsOnRydWUgfSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdC8vdGhpcy5kaXNwYXRjaEV2ZW50KCBuZXcgYXdheS5ldmVudHMuQXdheUV2ZW50KCBhd2F5LmV2ZW50cy5Bd2F5RXZlbnQuSU5JVElBTElaRV9GQUlMRUQsIGUgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9nbCkge1xyXG5cdFx0XHQvL3RoaXMuZGlzcGF0Y2hFdmVudCggbmV3IGF3YXkuZXZlbnRzLkF3YXlFdmVudCggYXdheS5ldmVudHMuQXdheUV2ZW50LklOSVRJQUxJWkVfU1VDQ0VTUyApICk7XHJcblxyXG5cdFx0XHRpZih0aGlzLl9nbC5nZXRFeHRlbnNpb24oXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIikpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLl9zdGFuZGFyZERlcml2YXRpdmVzID0gdHJ1ZTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5fc3RhbmRhcmREZXJpdmF0aXZlcyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3NldHVwIHNob3J0Y3V0IGRpY3Rpb25hcmllc1xyXG5cdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRpY3Rpb25hcnlbQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FXSA9IHRoaXMuX2dsLk9ORTtcclxuXHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W0NvbnRleHRHTEJsZW5kRmFjdG9yLkRFU1RJTkFUSU9OX0FMUEhBXSA9IHRoaXMuX2dsLkRTVF9BTFBIQTtcclxuXHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W0NvbnRleHRHTEJsZW5kRmFjdG9yLkRFU1RJTkFUSU9OX0NPTE9SXSA9IHRoaXMuX2dsLkRTVF9DT0xPUjtcclxuXHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W0NvbnRleHRHTEJsZW5kRmFjdG9yLk9ORV0gPSB0aGlzLl9nbC5PTkU7XHJcblx0XHRcdHRoaXMuX2JsZW5kRmFjdG9yRGljdGlvbmFyeVtDb250ZXh0R0xCbGVuZEZhY3Rvci5PTkVfTUlOVVNfREVTVElOQVRJT05fQUxQSEFdID0gdGhpcy5fZ2wuT05FX01JTlVTX0RTVF9BTFBIQTtcclxuXHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W0NvbnRleHRHTEJsZW5kRmFjdG9yLk9ORV9NSU5VU19ERVNUSU5BVElPTl9DT0xPUl0gPSB0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SO1xyXG5cdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRpY3Rpb25hcnlbQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FX01JTlVTX1NPVVJDRV9BTFBIQV0gPSB0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBO1xyXG5cdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRpY3Rpb25hcnlbQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FX01JTlVTX1NPVVJDRV9DT0xPUl0gPSB0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SO1xyXG5cdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRpY3Rpb25hcnlbQ29udGV4dEdMQmxlbmRGYWN0b3IuU09VUkNFX0FMUEhBXSA9IHRoaXMuX2dsLlNSQ19BTFBIQTtcclxuXHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W0NvbnRleHRHTEJsZW5kRmFjdG9yLlNPVVJDRV9DT0xPUl0gPSB0aGlzLl9nbC5TUkNfQ09MT1I7XHJcblx0XHRcdHRoaXMuX2JsZW5kRmFjdG9yRGljdGlvbmFyeVtDb250ZXh0R0xCbGVuZEZhY3Rvci5aRVJPXSA9IHRoaXMuX2dsLlpFUk87XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb21wYXJlTW9kZURpY3Rpb25hcnlbQ29udGV4dEdMQ29tcGFyZU1vZGUuQUxXQVlTXSA9IHRoaXMuX2dsLkFMV0FZUztcclxuICAgICAgICAgICAgdGhpcy5fY29tcGFyZU1vZGVEaWN0aW9uYXJ5W0NvbnRleHRHTENvbXBhcmVNb2RlLkVRVUFMXSA9IHRoaXMuX2dsLkVRVUFMO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wYXJlTW9kZURpY3Rpb25hcnlbQ29udGV4dEdMQ29tcGFyZU1vZGUuR1JFQVRFUl0gPSB0aGlzLl9nbC5HUkVBVEVSO1xyXG5cdFx0XHR0aGlzLl9jb21wYXJlTW9kZURpY3Rpb25hcnlbQ29udGV4dEdMQ29tcGFyZU1vZGUuR1JFQVRFUl9FUVVBTF0gPSB0aGlzLl9nbC5HRVFVQUw7XHJcblx0XHRcdHRoaXMuX2NvbXBhcmVNb2RlRGljdGlvbmFyeVtDb250ZXh0R0xDb21wYXJlTW9kZS5MRVNTXSA9IHRoaXMuX2dsLkxFU1M7XHJcblx0XHRcdHRoaXMuX2NvbXBhcmVNb2RlRGljdGlvbmFyeVtDb250ZXh0R0xDb21wYXJlTW9kZS5MRVNTX0VRVUFMXSA9IHRoaXMuX2dsLkxFUVVBTDtcclxuXHRcdFx0dGhpcy5fY29tcGFyZU1vZGVEaWN0aW9uYXJ5W0NvbnRleHRHTENvbXBhcmVNb2RlLk5FVkVSXSA9IHRoaXMuX2dsLk5FVkVSO1xyXG5cdFx0XHR0aGlzLl9jb21wYXJlTW9kZURpY3Rpb25hcnlbQ29udGV4dEdMQ29tcGFyZU1vZGUuTk9UX0VRVUFMXSA9IHRoaXMuX2dsLk5PVEVRVUFMO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbEFjdGlvbkRpY3Rpb25hcnlbQ29udGV4dEdMU3RlbmNpbEFjdGlvbi5ERUNSRU1FTlRfU0FUVVJBVEVdID0gdGhpcy5fZ2wuREVDUjtcclxuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbEFjdGlvbkRpY3Rpb25hcnlbQ29udGV4dEdMU3RlbmNpbEFjdGlvbi5ERUNSRU1FTlRfV1JBUF0gPSB0aGlzLl9nbC5ERUNSX1dSQVA7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxBY3Rpb25EaWN0aW9uYXJ5W0NvbnRleHRHTFN0ZW5jaWxBY3Rpb24uSU5DUkVNRU5UX1NBVFVSQVRFXSA9IHRoaXMuX2dsLklOQ1I7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxBY3Rpb25EaWN0aW9uYXJ5W0NvbnRleHRHTFN0ZW5jaWxBY3Rpb24uSU5DUkVNRU5UX1dSQVBdID0gdGhpcy5fZ2wuSU5DUl9XUkFQO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQWN0aW9uRGljdGlvbmFyeVtDb250ZXh0R0xTdGVuY2lsQWN0aW9uLklOVkVSVF0gPSB0aGlzLl9nbC5JTlZFUlQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxBY3Rpb25EaWN0aW9uYXJ5W0NvbnRleHRHTFN0ZW5jaWxBY3Rpb24uS0VFUF0gPSB0aGlzLl9nbC5LRUVQO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQWN0aW9uRGljdGlvbmFyeVtDb250ZXh0R0xTdGVuY2lsQWN0aW9uLlNFVF0gPSB0aGlzLl9nbC5SRVBMQUNFO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQWN0aW9uRGljdGlvbmFyeVtDb250ZXh0R0xTdGVuY2lsQWN0aW9uLlpFUk9dID0gdGhpcy5fZ2wuWkVSTztcclxuXHJcblx0XHRcdHRoaXMuX3RleHR1cmVJbmRleERpY3Rpb25hcnlbMF0gPSB0aGlzLl9nbC5URVhUVVJFMDtcclxuXHRcdFx0dGhpcy5fdGV4dHVyZUluZGV4RGljdGlvbmFyeVsxXSA9IHRoaXMuX2dsLlRFWFRVUkUxO1xyXG5cdFx0XHR0aGlzLl90ZXh0dXJlSW5kZXhEaWN0aW9uYXJ5WzJdID0gdGhpcy5fZ2wuVEVYVFVSRTI7XHJcblx0XHRcdHRoaXMuX3RleHR1cmVJbmRleERpY3Rpb25hcnlbM10gPSB0aGlzLl9nbC5URVhUVVJFMztcclxuXHRcdFx0dGhpcy5fdGV4dHVyZUluZGV4RGljdGlvbmFyeVs0XSA9IHRoaXMuX2dsLlRFWFRVUkU0O1xyXG5cdFx0XHR0aGlzLl90ZXh0dXJlSW5kZXhEaWN0aW9uYXJ5WzVdID0gdGhpcy5fZ2wuVEVYVFVSRTU7XHJcblx0XHRcdHRoaXMuX3RleHR1cmVJbmRleERpY3Rpb25hcnlbNl0gPSB0aGlzLl9nbC5URVhUVVJFNjtcclxuXHRcdFx0dGhpcy5fdGV4dHVyZUluZGV4RGljdGlvbmFyeVs3XSA9IHRoaXMuX2dsLlRFWFRVUkU3O1xyXG5cclxuXHRcdFx0dGhpcy5fdGV4dHVyZVR5cGVEaWN0aW9uYXJ5W1widGV4dHVyZTJkXCJdID0gdGhpcy5fZ2wuVEVYVFVSRV8yRDtcclxuXHRcdFx0dGhpcy5fdGV4dHVyZVR5cGVEaWN0aW9uYXJ5W1widGV4dHVyZUN1YmVcIl0gPSB0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQO1xyXG5cclxuXHRcdFx0dGhpcy5fd3JhcERpY3Rpb25hcnlbQ29udGV4dEdMV3JhcE1vZGUuUkVQRUFUXSA9IHRoaXMuX2dsLlJFUEVBVDtcclxuXHRcdFx0dGhpcy5fd3JhcERpY3Rpb25hcnlbQ29udGV4dEdMV3JhcE1vZGUuQ0xBTVBdID0gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtcclxuXHJcblx0XHRcdHRoaXMuX2ZpbHRlckRpY3Rpb25hcnlbQ29udGV4dEdMVGV4dHVyZUZpbHRlci5MSU5FQVJdID0gdGhpcy5fZ2wuTElORUFSO1xyXG5cdFx0XHR0aGlzLl9maWx0ZXJEaWN0aW9uYXJ5W0NvbnRleHRHTFRleHR1cmVGaWx0ZXIuTkVBUkVTVF0gPSB0aGlzLl9nbC5ORUFSRVNUO1xyXG5cclxuXHRcdFx0dGhpcy5fbWlwbWFwRmlsdGVyRGljdGlvbmFyeVtDb250ZXh0R0xUZXh0dXJlRmlsdGVyLkxJTkVBUl0gPSBuZXcgT2JqZWN0KCk7XHJcblx0XHRcdHRoaXMuX21pcG1hcEZpbHRlckRpY3Rpb25hcnlbQ29udGV4dEdMVGV4dHVyZUZpbHRlci5MSU5FQVJdW0NvbnRleHRHTE1pcEZpbHRlci5NSVBORUFSRVNUXSA9IHRoaXMuX2dsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDtcclxuXHRcdFx0dGhpcy5fbWlwbWFwRmlsdGVyRGljdGlvbmFyeVtDb250ZXh0R0xUZXh0dXJlRmlsdGVyLkxJTkVBUl1bQ29udGV4dEdMTWlwRmlsdGVyLk1JUExJTkVBUl0gPSB0aGlzLl9nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUjtcclxuXHRcdFx0dGhpcy5fbWlwbWFwRmlsdGVyRGljdGlvbmFyeVtDb250ZXh0R0xUZXh0dXJlRmlsdGVyLkxJTkVBUl1bQ29udGV4dEdMTWlwRmlsdGVyLk1JUE5PTkVdID0gdGhpcy5fZ2wuTElORUFSO1xyXG5cdFx0XHR0aGlzLl9taXBtYXBGaWx0ZXJEaWN0aW9uYXJ5W0NvbnRleHRHTFRleHR1cmVGaWx0ZXIuTkVBUkVTVF0gPSBuZXcgT2JqZWN0KCk7XHJcblx0XHRcdHRoaXMuX21pcG1hcEZpbHRlckRpY3Rpb25hcnlbQ29udGV4dEdMVGV4dHVyZUZpbHRlci5ORUFSRVNUXVtDb250ZXh0R0xNaXBGaWx0ZXIuTUlQTkVBUkVTVF0gPSB0aGlzLl9nbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUO1xyXG5cdFx0XHR0aGlzLl9taXBtYXBGaWx0ZXJEaWN0aW9uYXJ5W0NvbnRleHRHTFRleHR1cmVGaWx0ZXIuTkVBUkVTVF1bQ29udGV4dEdMTWlwRmlsdGVyLk1JUExJTkVBUl0gPSB0aGlzLl9nbC5ORUFSRVNUX01JUE1BUF9MSU5FQVI7XHJcblx0XHRcdHRoaXMuX21pcG1hcEZpbHRlckRpY3Rpb25hcnlbQ29udGV4dEdMVGV4dHVyZUZpbHRlci5ORUFSRVNUXVtDb250ZXh0R0xNaXBGaWx0ZXIuTUlQTk9ORV0gPSB0aGlzLl9nbC5ORUFSRVNUO1xyXG5cclxuXHRcdFx0dGhpcy5fdW5pZm9ybUxvY2F0aW9uTmFtZURpY3Rpb25hcnlbQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYXSA9IFwidmNcIjtcclxuXHRcdFx0dGhpcy5fdW5pZm9ybUxvY2F0aW9uTmFtZURpY3Rpb25hcnlbQ29udGV4dEdMUHJvZ3JhbVR5cGUuRlJBR01FTlRdID0gXCJmY1wiO1xyXG5cclxuXHRcdFx0dGhpcy5fdmVydGV4QnVmZmVyRGltZW5zaW9uRGljdGlvbmFyeVtDb250ZXh0R0xWZXJ0ZXhCdWZmZXJGb3JtYXQuRkxPQVRfMV0gPSAxO1xyXG5cdFx0XHR0aGlzLl92ZXJ0ZXhCdWZmZXJEaW1lbnNpb25EaWN0aW9uYXJ5W0NvbnRleHRHTFZlcnRleEJ1ZmZlckZvcm1hdC5GTE9BVF8yXSA9IDI7XHJcblx0XHRcdHRoaXMuX3ZlcnRleEJ1ZmZlckRpbWVuc2lvbkRpY3Rpb25hcnlbQ29udGV4dEdMVmVydGV4QnVmZmVyRm9ybWF0LkZMT0FUXzNdID0gMztcclxuXHRcdFx0dGhpcy5fdmVydGV4QnVmZmVyRGltZW5zaW9uRGljdGlvbmFyeVtDb250ZXh0R0xWZXJ0ZXhCdWZmZXJGb3JtYXQuRkxPQVRfNF0gPSA0O1xyXG5cdFx0XHR0aGlzLl92ZXJ0ZXhCdWZmZXJEaW1lbnNpb25EaWN0aW9uYXJ5W0NvbnRleHRHTFZlcnRleEJ1ZmZlckZvcm1hdC5CWVRFU180XSA9IDQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ29tcGFyZU1vZGUgPSB0aGlzLl9nbC5BTFdBWVM7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZUJhY2sgPSB0aGlzLl9nbC5BTFdBWVM7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZUZyb250ID0gdGhpcy5fZ2wuQUxXQVlTO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly90aGlzLmRpc3BhdGNoRXZlbnQoIG5ldyBhd2F5LmV2ZW50cy5Bd2F5RXZlbnQoIGF3YXkuZXZlbnRzLkF3YXlFdmVudC5JTklUSUFMSVpFX0ZBSUxFRCwgZSApICk7XHJcblx0XHRcdGFsZXJ0KFwiV2ViR0wgaXMgbm90IGF2YWlsYWJsZS5cIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9kZWZhdWx0c1xyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgQ29udGV4dFdlYkdMLk1BWF9TQU1QTEVSUzsgKytpKSB7XHJcblx0XHRcdHRoaXMuX3NhbXBsZXJTdGF0ZXNbaV0gPSBuZXcgU2FtcGxlclN0YXRlKCk7XHJcblx0XHRcdHRoaXMuX3NhbXBsZXJTdGF0ZXNbaV0ud3JhcCA9IHRoaXMuX2dsLlJFUEVBVDtcclxuXHRcdFx0dGhpcy5fc2FtcGxlclN0YXRlc1tpXS5maWx0ZXIgPSB0aGlzLl9nbC5MSU5FQVI7XHJcblx0XHRcdHRoaXMuX3NhbXBsZXJTdGF0ZXNbaV0ubWlwZmlsdGVyID0gdGhpcy5fZ2wuTElORUFSO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdsKCk6V2ViR0xSZW5kZXJpbmdDb250ZXh0XHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX2dsO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNsZWFyKHJlZDpudW1iZXIgPSAwLCBncmVlbjpudW1iZXIgPSAwLCBibHVlOm51bWJlciA9IDAsIGFscGhhOm51bWJlciA9IDEsIGRlcHRoOm51bWJlciA9IDEsIHN0ZW5jaWw6bnVtYmVyID0gMCwgbWFzazpudW1iZXIgPSBDb250ZXh0R0xDbGVhck1hc2suQUxMKVxyXG5cdHtcclxuXHRcdGlmICghdGhpcy5fZHJhd2luZykge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUJsZW5kU3RhdHVzKCk7XHJcblx0XHRcdHRoaXMuX2RyYXdpbmcgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBnbG1hc2s6bnVtYmVyID0gMDtcclxuXHRcdGlmIChtYXNrICYgQ29udGV4dEdMQ2xlYXJNYXNrLkNPTE9SKSBnbG1hc2sgfD0gdGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVDtcclxuXHRcdGlmIChtYXNrICYgQ29udGV4dEdMQ2xlYXJNYXNrLlNURU5DSUwpIGdsbWFzayB8PSB0aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQ7XHJcblx0XHRpZiAobWFzayAmIENvbnRleHRHTENsZWFyTWFzay5ERVBUSCkgZ2xtYXNrIHw9IHRoaXMuX2dsLkRFUFRIX0JVRkZFUl9CSVQ7XHJcblxyXG5cdFx0dGhpcy5fZ2wuY2xlYXJDb2xvcihyZWQsIGdyZWVuLCBibHVlLCBhbHBoYSk7XHJcblx0XHR0aGlzLl9nbC5jbGVhckRlcHRoKGRlcHRoKTtcclxuXHRcdHRoaXMuX2dsLmNsZWFyU3RlbmNpbChzdGVuY2lsKTtcclxuXHRcdHRoaXMuX2dsLmNsZWFyKGdsbWFzayk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29uZmlndXJlQmFja0J1ZmZlcih3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGFudGlBbGlhczpudW1iZXIsIGVuYWJsZURlcHRoQW5kU3RlbmNpbDpib29sZWFuID0gdHJ1ZSlcclxuXHR7XHJcblx0XHR0aGlzLl93aWR0aCA9IHdpZHRoO1xyXG5cdFx0dGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuXHRcdGlmIChlbmFibGVEZXB0aEFuZFN0ZW5jaWwpIHtcclxuXHRcdFx0dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlNURU5DSUxfVEVTVCk7XHJcblx0XHRcdHRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ERVBUSF9URVNUKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9nbC52aWV3cG9ydFsnd2lkdGgnXSA9IHdpZHRoO1xyXG5cdFx0dGhpcy5fZ2wudmlld3BvcnRbJ2hlaWdodCddID0gaGVpZ2h0O1xyXG5cclxuXHRcdHRoaXMuX2dsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNyZWF0ZUN1YmVUZXh0dXJlKHNpemU6bnVtYmVyLCBmb3JtYXQ6c3RyaW5nLCBvcHRpbWl6ZUZvclJlbmRlclRvVGV4dHVyZTpib29sZWFuLCBzdHJlYW1pbmdMZXZlbHM6bnVtYmVyID0gMCk6Q3ViZVRleHR1cmVXZWJHTFxyXG5cdHtcclxuXHRcdHZhciB0ZXh0dXJlOkN1YmVUZXh0dXJlV2ViR0wgPSBuZXcgQ3ViZVRleHR1cmVXZWJHTCh0aGlzLl9nbCwgc2l6ZSk7XHJcblx0XHR0aGlzLl90ZXh0dXJlTGlzdC5wdXNoKHRleHR1cmUpO1xyXG5cdFx0cmV0dXJuIHRleHR1cmU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY3JlYXRlSW5kZXhCdWZmZXIobnVtSW5kaWNlczpudW1iZXIpOkluZGV4QnVmZmVyV2ViR0xcclxuXHR7XHJcblx0XHR2YXIgaW5kZXhCdWZmZXI6SW5kZXhCdWZmZXJXZWJHTCA9IG5ldyBJbmRleEJ1ZmZlcldlYkdMKHRoaXMuX2dsLCBudW1JbmRpY2VzKTtcclxuXHRcdHRoaXMuX2luZGV4QnVmZmVyTGlzdC5wdXNoKGluZGV4QnVmZmVyKTtcclxuXHRcdHJldHVybiBpbmRleEJ1ZmZlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjcmVhdGVQcm9ncmFtKCk6UHJvZ3JhbVdlYkdMXHJcblx0e1xyXG5cdFx0dmFyIHByb2dyYW06UHJvZ3JhbVdlYkdMID0gbmV3IFByb2dyYW1XZWJHTCh0aGlzLl9nbCk7XHJcblx0XHR0aGlzLl9wcm9ncmFtTGlzdC5wdXNoKHByb2dyYW0pO1xyXG5cdFx0cmV0dXJuIHByb2dyYW07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY3JlYXRlVGV4dHVyZSh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGZvcm1hdDpzdHJpbmcsIG9wdGltaXplRm9yUmVuZGVyVG9UZXh0dXJlOmJvb2xlYW4sIHN0cmVhbWluZ0xldmVsczpudW1iZXIgPSAwKTpUZXh0dXJlV2ViR0xcclxuXHR7XHJcblx0XHQvL1RPRE8gc3RyZWFtaW5nXHJcblx0XHR2YXIgdGV4dHVyZTpUZXh0dXJlV2ViR0wgPSBuZXcgVGV4dHVyZVdlYkdMKHRoaXMuX2dsLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHRcdHRoaXMuX3RleHR1cmVMaXN0LnB1c2godGV4dHVyZSk7XHJcblx0XHRyZXR1cm4gdGV4dHVyZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjcmVhdGVWZXJ0ZXhCdWZmZXIobnVtVmVydGljZXM6bnVtYmVyLCBkYXRhMzJQZXJWZXJ0ZXg6bnVtYmVyKTpWZXJ0ZXhCdWZmZXJXZWJHTFxyXG5cdHtcclxuXHRcdHZhciB2ZXJ0ZXhCdWZmZXI6VmVydGV4QnVmZmVyV2ViR0wgPSBuZXcgVmVydGV4QnVmZmVyV2ViR0wodGhpcy5fZ2wsIG51bVZlcnRpY2VzLCBkYXRhMzJQZXJWZXJ0ZXgpO1xyXG5cdFx0dGhpcy5fdmVydGV4QnVmZmVyTGlzdC5wdXNoKHZlcnRleEJ1ZmZlcik7XHJcblx0XHRyZXR1cm4gdmVydGV4QnVmZmVyO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGRpc3Bvc2UoKVxyXG5cdHtcclxuXHRcdHZhciBpOm51bWJlcjtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9pbmRleEJ1ZmZlckxpc3QubGVuZ3RoOyArK2kpXHJcblx0XHRcdHRoaXMuX2luZGV4QnVmZmVyTGlzdFtpXS5kaXNwb3NlKCk7XHJcblxyXG5cdFx0dGhpcy5faW5kZXhCdWZmZXJMaXN0ID0gbnVsbDtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fdmVydGV4QnVmZmVyTGlzdC5sZW5ndGg7ICsraSlcclxuXHRcdFx0dGhpcy5fdmVydGV4QnVmZmVyTGlzdFtpXS5kaXNwb3NlKCk7XHJcblxyXG5cdFx0dGhpcy5fdmVydGV4QnVmZmVyTGlzdCA9IG51bGw7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX3RleHR1cmVMaXN0Lmxlbmd0aDsgKytpKVxyXG5cdFx0XHR0aGlzLl90ZXh0dXJlTGlzdFtpXS5kaXNwb3NlKCk7XHJcblxyXG5cdFx0dGhpcy5fdGV4dHVyZUxpc3QgPSBudWxsO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9wcm9ncmFtTGlzdC5sZW5ndGg7ICsraSlcclxuXHRcdFx0dGhpcy5fcHJvZ3JhbUxpc3RbaV0uZGlzcG9zZSgpO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9zYW1wbGVyU3RhdGVzLmxlbmd0aDsgKytpKVxyXG5cdFx0XHR0aGlzLl9zYW1wbGVyU3RhdGVzW2ldID0gbnVsbDtcclxuXHJcblx0XHR0aGlzLl9wcm9ncmFtTGlzdCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZHJhd1RvQml0bWFwRGF0YShkZXN0aW5hdGlvbjpCaXRtYXBEYXRhKVxyXG5cdHtcclxuXHRcdHZhciBhcnJheUJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihkZXN0aW5hdGlvbi53aWR0aCpkZXN0aW5hdGlvbi5oZWlnaHQqNCk7XHJcblxyXG5cdFx0dGhpcy5fZ2wucmVhZFBpeGVscygwLCAwLCBkZXN0aW5hdGlvbi53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0LCB0aGlzLl9nbC5SR0JBLCB0aGlzLl9nbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xyXG5cclxuXHRcdHZhciBieXRlQXJyYXk6Qnl0ZUFycmF5ID0gbmV3IEJ5dGVBcnJheSgpO1xyXG5cdFx0Ynl0ZUFycmF5LnNldEFycmF5QnVmZmVyKGFycmF5QnVmZmVyKTtcclxuXHJcblx0XHRkZXN0aW5hdGlvbi5zZXRQaXhlbHMobmV3IFJlY3RhbmdsZSgwLCAwLCBkZXN0aW5hdGlvbi53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0KSwgYnl0ZUFycmF5KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBkcmF3VHJpYW5nbGVzKGluZGV4QnVmZmVyOkluZGV4QnVmZmVyV2ViR0wsIGZpcnN0SW5kZXg6bnVtYmVyID0gMCwgbnVtVHJpYW5nbGVzOm51bWJlciA9IC0xKVxyXG5cdHtcclxuXHRcdGlmICghdGhpcy5fZHJhd2luZylcclxuXHRcdFx0dGhyb3cgXCJOZWVkIHRvIGNsZWFyIGJlZm9yZSBkcmF3aW5nIGlmIHRoZSBidWZmZXIgaGFzIG5vdCBiZWVuIGNsZWFyZWQgc2luY2UgdGhlIGxhc3QgcHJlc2VudCgpIGNhbGwuXCI7XHJcblxyXG5cdFx0dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIuZ2xCdWZmZXIpO1xyXG5cdFx0dGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHRoaXMuX2dsLlRSSUFOR0xFUywgKG51bVRyaWFuZ2xlcyA9PSAtMSk/IGluZGV4QnVmZmVyLm51bUluZGljZXMgOiBudW1UcmlhbmdsZXMqMywgdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsIGZpcnN0SW5kZXgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHByZXNlbnQoKVxyXG5cdHtcclxuXHRcdHRoaXMuX2RyYXdpbmcgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRCbGVuZEZhY3RvcnMoc291cmNlRmFjdG9yOnN0cmluZywgZGVzdGluYXRpb25GYWN0b3I6c3RyaW5nKVxyXG5cdHtcclxuXHRcdHRoaXMuX2JsZW5kRW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5fYmxlbmRTb3VyY2VGYWN0b3IgPSB0aGlzLl9ibGVuZEZhY3RvckRpY3Rpb25hcnlbc291cmNlRmFjdG9yXTtcclxuXHJcblx0XHR0aGlzLl9ibGVuZERlc3RpbmF0aW9uRmFjdG9yID0gdGhpcy5fYmxlbmRGYWN0b3JEaWN0aW9uYXJ5W2Rlc3RpbmF0aW9uRmFjdG9yXTtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZUJsZW5kU3RhdHVzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29sb3JNYXNrKHJlZDpib29sZWFuLCBncmVlbjpib29sZWFuLCBibHVlOmJvb2xlYW4sIGFscGhhOmJvb2xlYW4pXHJcblx0e1xyXG5cdFx0dGhpcy5fZ2wuY29sb3JNYXNrKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDdWxsaW5nKHRyaWFuZ2xlRmFjZVRvQ3VsbDpzdHJpbmcsIGNvb3JkaW5hdGVTeXN0ZW06c3RyaW5nID0gXCJsZWZ0SGFuZGVkXCIpXHJcblx0e1xyXG5cdFx0aWYgKHRyaWFuZ2xlRmFjZVRvQ3VsbCA9PSBDb250ZXh0R0xUcmlhbmdsZUZhY2UuTk9ORSkge1xyXG5cdFx0XHR0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkNVTExfRkFDRSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuQ1VMTF9GQUNFKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2wuY3VsbEZhY2UodGhpcy50cmFuc2xhdGVUcmlhbmdsZUZhY2UodHJpYW5nbGVGYWNlVG9DdWxsLCBjb29yZGluYXRlU3lzdGVtKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBUT0RPIENvbnRleHRHTENvbXBhcmVNb2RlXHJcblx0cHVibGljIHNldERlcHRoVGVzdChkZXB0aE1hc2s6Ym9vbGVhbiwgcGFzc0NvbXBhcmVNb2RlOnN0cmluZylcclxuXHR7XHJcblx0XHR0aGlzLl9nbC5kZXB0aEZ1bmModGhpcy5fY29tcGFyZU1vZGVEaWN0aW9uYXJ5W3Bhc3NDb21wYXJlTW9kZV0pO1xyXG5cclxuXHRcdHRoaXMuX2dsLmRlcHRoTWFzayhkZXB0aE1hc2spO1xyXG5cdH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U3RlbmNpbEFjdGlvbnModHJpYW5nbGVGYWNlOnN0cmluZyA9IFwiZnJvbnRBbmRCYWNrXCIsIGNvbXBhcmVNb2RlOnN0cmluZyA9IFwiYWx3YXlzXCIsIGFjdGlvbk9uQm90aFBhc3M6c3RyaW5nID0gXCJrZWVwXCIsIGFjdGlvbk9uRGVwdGhGYWlsOnN0cmluZyA9IFwia2VlcFwiLCBhY3Rpb25PbkRlcHRoUGFzc1N0ZW5jaWxGYWlsOnN0cmluZyA9IFwia2VlcFwiLCBjb29yZGluYXRlU3lzdGVtOnN0cmluZyA9IFwibGVmdEhhbmRlZFwiKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX3NlcGFyYXRlU3RlbmNpbCA9IHRyaWFuZ2xlRmFjZSAhPSBcImZyb250QW5kQmFja1wiO1xyXG5cclxuICAgICAgICB2YXIgY29tcGFyZU1vZGVHTCA9IHRoaXMuX2NvbXBhcmVNb2RlRGljdGlvbmFyeVtjb21wYXJlTW9kZV07XHJcblxyXG4gICAgICAgIHZhciBmYWlsID0gdGhpcy5fc3RlbmNpbEFjdGlvbkRpY3Rpb25hcnlbYWN0aW9uT25EZXB0aFBhc3NTdGVuY2lsRmFpbF07XHJcbiAgICAgICAgdmFyIHpGYWlsID0gdGhpcy5fc3RlbmNpbEFjdGlvbkRpY3Rpb25hcnlbYWN0aW9uT25EZXB0aEZhaWxdO1xyXG4gICAgICAgIHZhciBwYXNzID0gdGhpcy5fc3RlbmNpbEFjdGlvbkRpY3Rpb25hcnlbYWN0aW9uT25Cb3RoUGFzc107XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fc2VwYXJhdGVTdGVuY2lsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZSA9IGNvbXBhcmVNb2RlR0w7XHJcbiAgICAgICAgICAgIHRoaXMuX2dsLnN0ZW5jaWxGdW5jKGNvbXBhcmVNb2RlR0wsIHRoaXMuX3N0ZW5jaWxSZWZlcmVuY2VWYWx1ZSwgdGhpcy5fc3RlbmNpbFJlYWRNYXNrKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2wuc3RlbmNpbE9wKGZhaWwsIHpGYWlsLCBwYXNzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0cmlhbmdsZUZhY2UgPT0gXCJiYWNrXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbENvbXBhcmVNb2RlQmFjayA9IGNvbXBhcmVNb2RlR0w7XHJcbiAgICAgICAgICAgIHRoaXMuX2dsLnN0ZW5jaWxGdW5jU2VwYXJhdGUodGhpcy5fZ2wuQkFDSywgY29tcGFyZU1vZGVHTCwgdGhpcy5fc3RlbmNpbFJlZmVyZW5jZVZhbHVlLCB0aGlzLl9zdGVuY2lsUmVhZE1hc2spO1xyXG4gICAgICAgICAgICB0aGlzLl9nbC5zdGVuY2lsT3BTZXBhcmF0ZSh0aGlzLl9nbC5CQUNLLCBmYWlsLCB6RmFpbCwgcGFzcylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHJpYW5nbGVGYWNlID09IFwiZnJvbnRcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ29tcGFyZU1vZGVGcm9udCA9IGNvbXBhcmVNb2RlR0w7XHJcbiAgICAgICAgICAgIHRoaXMuX2dsLnN0ZW5jaWxGdW5jU2VwYXJhdGUodGhpcy5fZ2wuRlJPTlQsIGNvbXBhcmVNb2RlR0wsIHRoaXMuX3N0ZW5jaWxSZWZlcmVuY2VWYWx1ZSwgdGhpcy5fc3RlbmNpbFJlYWRNYXNrKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2wuc3RlbmNpbE9wU2VwYXJhdGUodGhpcy5fZ2wuRlJPTlQsIGZhaWwsIHpGYWlsLCBwYXNzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U3RlbmNpbFJlZmVyZW5jZVZhbHVlKHJlZmVyZW5jZVZhbHVlOm51bWJlciwgcmVhZE1hc2s6bnVtYmVyLCB3cml0ZU1hc2s6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX3N0ZW5jaWxSZWZlcmVuY2VWYWx1ZSA9IHJlZmVyZW5jZVZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3N0ZW5jaWxSZWFkTWFzayA9IHJlYWRNYXNrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc2VwYXJhdGVTdGVuY2lsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dsLnN0ZW5jaWxGdW5jKHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZSwgcmVmZXJlbmNlVmFsdWUsIHJlYWRNYXNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dsLnN0ZW5jaWxGdW5jU2VwYXJhdGUodGhpcy5fZ2wuRlJPTlQsIHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZUZyb250LCByZWZlcmVuY2VWYWx1ZSwgcmVhZE1hc2spO1xyXG4gICAgICAgICAgICB0aGlzLl9nbC5zdGVuY2lsRnVuY1NlcGFyYXRlKHRoaXMuX2dsLkJBQ0ssIHRoaXMuX3N0ZW5jaWxDb21wYXJlTW9kZUJhY2ssIHJlZmVyZW5jZVZhbHVlLCByZWFkTWFzayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9nbC5zdGVuY2lsTWFzayh3cml0ZU1hc2spO1xyXG4gICAgfVxyXG5cclxuXHRwdWJsaWMgc2V0UHJvZ3JhbShwcm9ncmFtOlByb2dyYW1XZWJHTClcclxuXHR7XHJcblx0XHQvL1RPRE8gZGVjaWRlIG9uIGNvbnN0cnVjdGlvbi9yZWZlcmVuY2UgcmVzcG9zaWJpbGl0aWVzXHJcblx0XHR0aGlzLl9jdXJyZW50UHJvZ3JhbSA9IHByb2dyYW07XHJcblx0XHRwcm9ncmFtLmZvY3VzUHJvZ3JhbSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFByb2dyYW1Db25zdGFudHNGcm9tTWF0cml4KHByb2dyYW1UeXBlOnN0cmluZywgZmlyc3RSZWdpc3RlcjpudW1iZXIsIG1hdHJpeDpNYXRyaXgzRCwgdHJhbnNwb3NlZE1hdHJpeDpib29sZWFuID0gZmFsc2UpXHJcblx0e1xyXG5cdFx0Ly90aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9jdXJyZW50UHJvZ3JhbS5nbFByb2dyYW0sIHRoaXMuX3VuaWZvcm1Mb2NhdGlvbk5hbWVEaWN0aW9uYXJ5W3Byb2dyYW1UeXBlXSksICF0cmFuc3Bvc2VkTWF0cml4LCBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeC5yYXdEYXRhKSk7XHJcblxyXG5cdFx0Ly9UT0RPIHJlbW92ZSBzcGVjaWFsIGNhc2UgZm9yIFdlYkdMIG1hdHJpeCBjYWxscz9cclxuXHRcdHZhciBkOm51bWJlcltdID0gbWF0cml4LnJhd0RhdGE7XHJcblx0XHRpZiAodHJhbnNwb3NlZE1hdHJpeCkge1xyXG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIsIFsgZFswXSwgZFs0XSwgZFs4XSwgZFsxMl0gXSwgMSk7XHJcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDEsIFsgZFsxXSwgZFs1XSwgZFs5XSwgZFsxM10gXSwgMSk7XHJcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDIsIFsgZFsyXSwgZFs2XSwgZFsxMF0sIGRbMTRdIF0sIDEpO1xyXG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIgKyAzLCBbIGRbM10sIGRbN10sIGRbMTFdLCBkWzE1XSBdLCAxKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciwgWyBkWzBdLCBkWzFdLCBkWzJdLCBkWzNdIF0sIDEpO1xyXG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIgKyAxLCBbIGRbNF0sIGRbNV0sIGRbNl0sIGRbN10gXSwgMSk7XHJcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDIsIFsgZFs4XSwgZFs5XSwgZFsxMF0sIGRbMTFdIF0sIDEpO1xyXG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIgKyAzLCBbIGRbMTJdLCBkWzEzXSwgZFsxNF0sIGRbMTVdIF0sIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtb2R1bG86bnVtYmVyID0gMDtcclxuXHJcblx0cHVibGljIHNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGU6c3RyaW5nLCBmaXJzdFJlZ2lzdGVyOm51bWJlciwgZGF0YTpudW1iZXJbXSwgbnVtUmVnaXN0ZXJzOm51bWJlciA9IC0xKVxyXG5cdHtcclxuXHRcdHZhciBsb2NhdGlvbk5hbWU6c3RyaW5nID0gdGhpcy5fdW5pZm9ybUxvY2F0aW9uTmFtZURpY3Rpb25hcnlbcHJvZ3JhbVR5cGVdO1xyXG5cdFx0dmFyIHN0YXJ0SW5kZXg6bnVtYmVyO1xyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbnVtUmVnaXN0ZXJzOyBpKyspIHtcclxuXHRcdFx0c3RhcnRJbmRleCA9IGkqNDtcclxuXHRcdFx0dGhpcy5fZ2wudW5pZm9ybTRmKHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9jdXJyZW50UHJvZ3JhbS5nbFByb2dyYW0sIGxvY2F0aW9uTmFtZSArIChmaXJzdFJlZ2lzdGVyICsgaSkpLCBkYXRhW3N0YXJ0SW5kZXhdLCBkYXRhW3N0YXJ0SW5kZXggKyAxXSwgZGF0YVtzdGFydEluZGV4ICsgMl0sIGRhdGFbc3RhcnRJbmRleCArIDNdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRTY2lzc29yUmVjdGFuZ2xlKHJlY3RhbmdsZTpSZWN0YW5nbGUpXHJcblx0e1xyXG5cdFx0aWYgKCFyZWN0YW5nbGUpIHtcclxuXHRcdFx0dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5TQ0lTU09SX1RFU1QpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlNDSVNTT1JfVEVTVCk7XHJcblx0XHR0aGlzLl9nbC5zY2lzc29yKHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRUZXh0dXJlQXQoc2FtcGxlcjpudW1iZXIsIHRleHR1cmU6VGV4dHVyZUJhc2VXZWJHTClcclxuXHR7XHJcblx0XHR2YXIgc2FtcGxlclN0YXRlOlNhbXBsZXJTdGF0ZSA9IHRoaXMuX3NhbXBsZXJTdGF0ZXNbc2FtcGxlcl07XHJcblxyXG5cdFx0aWYgKHRoaXMuX2FjdGl2ZVRleHR1cmUgIT0gc2FtcGxlciAmJiAodGV4dHVyZSB8fCBzYW1wbGVyU3RhdGUudHlwZSkpIHtcclxuXHRcdFx0dGhpcy5fYWN0aXZlVGV4dHVyZSA9IHNhbXBsZXI7XHJcblx0XHRcdHRoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fdGV4dHVyZUluZGV4RGljdGlvbmFyeVtzYW1wbGVyXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0ZXh0dXJlKSB7XHJcblx0XHRcdGlmIChzYW1wbGVyU3RhdGUudHlwZSkge1xyXG5cdFx0XHRcdHRoaXMuX2dsLmJpbmRUZXh0dXJlKHNhbXBsZXJTdGF0ZS50eXBlLCBudWxsKTtcclxuXHRcdFx0XHRzYW1wbGVyU3RhdGUudHlwZSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdGV4dHVyZVR5cGU6bnVtYmVyID0gdGhpcy5fdGV4dHVyZVR5cGVEaWN0aW9uYXJ5W3RleHR1cmUudGV4dHVyZVR5cGVdO1xyXG5cdFx0c2FtcGxlclN0YXRlLnR5cGUgPSB0ZXh0dXJlVHlwZTtcclxuXHJcblx0XHR0aGlzLl9nbC5iaW5kVGV4dHVyZSh0ZXh0dXJlVHlwZSwgdGV4dHVyZS5nbFRleHR1cmUpO1xyXG5cclxuXHRcdHRoaXMuX2dsLnVuaWZvcm0xaSh0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fY3VycmVudFByb2dyYW0uZ2xQcm9ncmFtLCBcImZzXCIgKyBzYW1wbGVyKSwgc2FtcGxlcik7XHJcblxyXG5cdFx0dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsIHNhbXBsZXJTdGF0ZS53cmFwKTtcclxuXHRcdHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULCBzYW1wbGVyU3RhdGUud3JhcCk7XHJcblxyXG5cdFx0dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBzYW1wbGVyU3RhdGUuZmlsdGVyKTtcclxuXHRcdHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgc2FtcGxlclN0YXRlLm1pcGZpbHRlcik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0U2FtcGxlclN0YXRlQXQoc2FtcGxlcjpudW1iZXIsIHdyYXA6c3RyaW5nLCBmaWx0ZXI6c3RyaW5nLCBtaXBmaWx0ZXI6c3RyaW5nKTp2b2lkXHJcblx0e1xyXG5cdFx0aWYgKDAgPD0gc2FtcGxlciAmJiBzYW1wbGVyIDwgQ29udGV4dFdlYkdMLk1BWF9TQU1QTEVSUykge1xyXG5cdFx0XHR0aGlzLl9zYW1wbGVyU3RhdGVzW3NhbXBsZXJdLndyYXAgPSB0aGlzLl93cmFwRGljdGlvbmFyeVt3cmFwXTtcclxuXHRcdFx0dGhpcy5fc2FtcGxlclN0YXRlc1tzYW1wbGVyXS5maWx0ZXIgPSB0aGlzLl9maWx0ZXJEaWN0aW9uYXJ5W2ZpbHRlcl07XHJcblx0XHRcdHRoaXMuX3NhbXBsZXJTdGF0ZXNbc2FtcGxlcl0ubWlwZmlsdGVyID0gdGhpcy5fbWlwbWFwRmlsdGVyRGljdGlvbmFyeVtmaWx0ZXJdW21pcGZpbHRlcl07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBcIlNhbXBsZXIgaXMgb3V0IG9mIGJvdW5kcy5cIjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRWZXJ0ZXhCdWZmZXJBdChpbmRleDpudW1iZXIsIGJ1ZmZlcjpWZXJ0ZXhCdWZmZXJXZWJHTCwgYnVmZmVyT2Zmc2V0Om51bWJlciA9IDAsIGZvcm1hdDpzdHJpbmcgPSBudWxsKVxyXG5cdHtcclxuXHRcdHZhciBsb2NhdGlvbjpudW1iZXIgPSB0aGlzLl9jdXJyZW50UHJvZ3JhbT8gdGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fY3VycmVudFByb2dyYW0uZ2xQcm9ncmFtLCBcInZhXCIgKyBpbmRleCkgOiAtMTtcclxuXHJcblx0XHRpZiAoIWJ1ZmZlcikge1xyXG5cdFx0XHRpZiAobG9jYXRpb24gPiAtMSlcclxuXHRcdFx0XHR0aGlzLl9nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xyXG5cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIuZ2xCdWZmZXIpO1xyXG5cdFx0dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xyXG5cdFx0dGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbiwgdGhpcy5fdmVydGV4QnVmZmVyRGltZW5zaW9uRGljdGlvbmFyeVtmb3JtYXRdLCB0aGlzLl9nbC5GTE9BVCwgZmFsc2UsIGJ1ZmZlci5kYXRhMzJQZXJWZXJ0ZXgqNCwgYnVmZmVyT2Zmc2V0KjQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFJlbmRlclRvVGV4dHVyZSh0YXJnZXQ6VGV4dHVyZUJhc2VXZWJHTCwgZW5hYmxlRGVwdGhBbmRTdGVuY2lsOmJvb2xlYW4gPSBmYWxzZSwgYW50aUFsaWFzOm51bWJlciA9IDAsIHN1cmZhY2VTZWxlY3RvcjpudW1iZXIgPSAwKVxyXG5cdHtcclxuXHRcdHZhciB0ZXh0dXJlOlRleHR1cmVXZWJHTCA9IDxUZXh0dXJlV2ViR0w+IHRhcmdldDtcclxuXHRcdHZhciBmcmFtZUJ1ZmZlcjpXZWJHTEZyYW1lYnVmZmVyID0gdGV4dHVyZS5mcmFtZUJ1ZmZlcjtcclxuXHRcdHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xyXG5cclxuXHRcdGlmIChlbmFibGVEZXB0aEFuZFN0ZW5jaWwpIHtcclxuXHRcdFx0dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlNURU5DSUxfVEVTVCk7XHJcblx0XHRcdHRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ERVBUSF9URVNUKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9nbC52aWV3cG9ydCgwLCAwLCB0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFJlbmRlclRvQmFja0J1ZmZlcigpXHJcblx0e1xyXG5cdFx0dGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlQmxlbmRTdGF0dXMoKVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9ibGVuZEVuYWJsZWQpIHtcclxuXHRcdFx0dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkJMRU5EKTtcclxuXHRcdFx0dGhpcy5fZ2wuYmxlbmRFcXVhdGlvbih0aGlzLl9nbC5GVU5DX0FERCk7XHJcblx0XHRcdHRoaXMuX2dsLmJsZW5kRnVuYyh0aGlzLl9ibGVuZFNvdXJjZUZhY3RvciwgdGhpcy5fYmxlbmREZXN0aW5hdGlvbkZhY3Rvcik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkJMRU5EKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG4gICAgcHJpdmF0ZSB0cmFuc2xhdGVUcmlhbmdsZUZhY2UodHJpYW5nbGVGYWNlOnN0cmluZywgY29vcmRpbmF0ZVN5c3RlbTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgc3dpdGNoICh0cmlhbmdsZUZhY2UpIHtcclxuICAgICAgICAgICAgY2FzZSBDb250ZXh0R0xUcmlhbmdsZUZhY2UuQkFDSzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoY29vcmRpbmF0ZVN5c3RlbSA9PSBcImxlZnRIYW5kZWRcIik/IHRoaXMuX2dsLkZST05UIDogdGhpcy5fZ2wuQkFDSztcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgQ29udGV4dEdMVHJpYW5nbGVGYWNlLkZST05UOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChjb29yZGluYXRlU3lzdGVtID09IFwibGVmdEhhbmRlZFwiKT8gdGhpcy5fZ2wuQkFDSyA6IHRoaXMuX2dsLkZST05UO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29udGV4dEdMVHJpYW5nbGVGYWNlLkZST05UX0FORF9CQUNLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dsLkZST05UX0FORF9CQUNLO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVua25vd24gQ29udGV4dEdMVHJpYW5nbGVGYWNlIHR5cGUuXCI7IC8vIFRPRE8gZXJyb3JcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IENvbnRleHRXZWJHTDsiXX0=