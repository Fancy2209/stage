var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var swfobject = require("awayjs-stagegl/lib/swfobject");
var Sampler = require("awayjs-stagegl/lib/aglsl/Sampler");
var ContextGLBase = require("awayjs-stagegl/lib/core/stagegl/ContextGLBase");
var ContextGLClearMask = require("awayjs-stagegl/lib/core/stagegl/ContextGLClearMask");
var ContextGLProgramType = require("awayjs-stagegl/lib/core/stagegl/ContextGLProgramType");
var CubeTextureFlash = require("awayjs-stagegl/lib/core/stagegl/CubeTextureFlash");
var IndexBufferFlash = require("awayjs-stagegl/lib/core/stagegl/IndexBufferFlash");
var OpCodes = require("awayjs-stagegl/lib/core/stagegl/OpCodes");
var ProgramFlash = require("awayjs-stagegl/lib/core/stagegl/ProgramFlash");
var TextureFlash = require("awayjs-stagegl/lib/core/stagegl/TextureFlash");
var VertexBufferFlash = require("awayjs-stagegl/lib/core/stagegl/VertexBufferFlash");
var ContextStage3D = (function (_super) {
    __extends(ContextStage3D, _super);
    //TODO: get rid of hack that fixes including definition file
    function ContextStage3D(container, stageIndex, callback, include) {
        _super.call(this, stageIndex);
        this._cmdStream = "";
        this._resources = new Array();
        var swfVersionStr = "11.0.0";
        // To use express install, set to playerProductInstall.swf, otherwise the empty string.
        var flashvars = {
            id: container.id
        };
        var params = {
            quality: "high",
            bgcolor: "#ffffff",
            allowscriptaccess: "sameDomain",
            allowfullscreen: "true",
            wmode: "direct"
        };
        this._errorCheckingEnabled = false;
        this._iDriverInfo = "Unknown";
        var attributes = {
            salign: "tl",
            id: container.id,
            name: container["name"] //TODO: needed?
        };
        this._oldCanvas = container.cloneNode(); // keep the old one to restore on dispose
        this._oldParent = container.parentNode;
        var context3dObj = this;
        ContextStage3D.contexts[container.id] = this;
        function callbackSWFObject(callbackInfo) {
            if (!callbackInfo.success)
                return;
            context3dObj._pContainer = callbackInfo.ref;
            context3dObj._iCallback = callback;
        }
        swfobject.embedSWF("../libs/molehill_js_flashbridge.swf", container.id, String(container.width), String(container.height), swfVersionStr, "", flashvars, params, attributes, callbackSWFObject);
    }
    Object.defineProperty(ContextStage3D.prototype, "container", {
        get: function () {
            return this._pContainer;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ContextStage3D.prototype, "driverInfo", {
        get: function () {
            return this._iDriverInfo;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ContextStage3D.prototype, "errorCheckingEnabled", {
        get: function () {
            return this._errorCheckingEnabled;
        },
        set: function (value) {
            if (this._errorCheckingEnabled == value)
                return;
            this._errorCheckingEnabled = value;
            this.addStream(String.fromCharCode(OpCodes.enableErrorChecking, value ? OpCodes.trueValue : OpCodes.falseValue));
            this.execute();
        },
        enumerable: true,
        configurable: true
    });
    ContextStage3D.prototype._iAddResource = function (resource) {
        this._resources.push(resource);
    };
    ContextStage3D.prototype._iRemoveResource = function (resource) {
        this._resources.splice(this._resources.indexOf(resource));
    };
    ContextStage3D.prototype.createTexture = function (width, height, format, optimizeForRenderToTexture, streamingLevels) {
        if (streamingLevels === void 0) { streamingLevels = 0; }
        //TODO:streaming
        return new TextureFlash(this, width, height, format, optimizeForRenderToTexture);
    };
    ContextStage3D.prototype.createCubeTexture = function (size, format, optimizeForRenderToTexture, streamingLevels) {
        if (streamingLevels === void 0) { streamingLevels = 0; }
        //TODO:streaming
        return new CubeTextureFlash(this, size, format, optimizeForRenderToTexture);
    };
    ContextStage3D.prototype.setTextureAt = function (sampler, texture) {
        if (texture) {
            this.addStream(String.fromCharCode(OpCodes.setTextureAt) + sampler + "," + texture.id + ",");
        }
        else {
            this.addStream(String.fromCharCode(OpCodes.clearTextureAt) + sampler.toString() + ",");
        }
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setSamplerStateAt = function (sampler, wrap, filter, mipfilter) {
        //nothing to do here
    };
    ContextStage3D.prototype.setStencilActions = function (triangleFace, compareMode, actionOnBothPass, actionOnDepthFail, actionOnDepthPassStencilFail) {
        if (triangleFace === void 0) { triangleFace = "frontAndBack"; }
        if (compareMode === void 0) { compareMode = "always"; }
        if (actionOnBothPass === void 0) { actionOnBothPass = "keep"; }
        if (actionOnDepthFail === void 0) { actionOnDepthFail = "keep"; }
        if (actionOnDepthPassStencilFail === void 0) { actionOnDepthPassStencilFail = "keep"; }
        this.addStream(String.fromCharCode(OpCodes.setStencilActions) + triangleFace + "$" + compareMode + "$" + actionOnBothPass + "$" + actionOnDepthFail + "$" + actionOnDepthPassStencilFail + "$");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setStencilReferenceValue = function (referenceValue, readMask, writeMask) {
        if (readMask === void 0) { readMask = 255; }
        if (writeMask === void 0) { writeMask = 255; }
        this.addStream(String.fromCharCode(OpCodes.setStencilReferenceValue, referenceValue + OpCodes.intMask, readMask + OpCodes.intMask, writeMask + OpCodes.intMask));
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setCulling = function (triangleFaceToCull, coordinateSystem) {
        if (coordinateSystem === void 0) { coordinateSystem = "leftHanded"; }
        //TODO implement coordinateSystem option
        this.addStream(String.fromCharCode(OpCodes.setCulling) + triangleFaceToCull + "$");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.drawTriangles = function (indexBuffer, firstIndex, numTriangles) {
        if (firstIndex === void 0) { firstIndex = 0; }
        if (numTriangles === void 0) { numTriangles = -1; }
        firstIndex = firstIndex || 0;
        if (!numTriangles || numTriangles < 0)
            numTriangles = indexBuffer.numIndices / 3;
        this.addStream(String.fromCharCode(OpCodes.drawTriangles, indexBuffer.id + OpCodes.intMask) + firstIndex + "," + numTriangles + ",");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setProgramConstantsFromMatrix = function (programType, firstRegister, matrix, transposedMatrix) {
        //this._gl.uniformMatrix4fv(this._gl.getUniformLocation(this._currentProgram.glProgram, this._uniformLocationNameDictionary[programType]), !transposedMatrix, new Float32Array(matrix.rawData));
        if (transposedMatrix === void 0) { transposedMatrix = false; }
        //TODO remove special case for WebGL matrix calls?
        var d = matrix.rawData;
        if (transposedMatrix) {
            this.setProgramConstantsFromArray(programType, firstRegister, [d[0], d[4], d[8], d[12]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 1, [d[1], d[5], d[9], d[13]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 2, [d[2], d[6], d[10], d[14]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 3, [d[3], d[7], d[11], d[15]], 1);
        }
        else {
            this.setProgramConstantsFromArray(programType, firstRegister, [d[0], d[1], d[2], d[3]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 1, [d[4], d[5], d[6], d[7]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 2, [d[8], d[9], d[10], d[11]], 1);
            this.setProgramConstantsFromArray(programType, firstRegister + 3, [d[12], d[13], d[14], d[15]], 1);
        }
    };
    ContextStage3D.prototype.setProgramConstantsFromArray = function (programType, firstRegister, data, numRegisters) {
        if (numRegisters === void 0) { numRegisters = -1; }
        var startIndex;
        var target = (programType == ContextGLProgramType.VERTEX) ? OpCodes.trueValue : OpCodes.falseValue;
        for (var i = 0; i < numRegisters; i++) {
            startIndex = i * 4;
            this.addStream(String.fromCharCode(OpCodes.setProgramConstant, target, (firstRegister + i) + OpCodes.intMask) + data[startIndex] + "," + data[startIndex + 1] + "," + data[startIndex + 2] + "," + data[startIndex + 3] + ",");
            if (ContextStage3D.debug)
                this.execute();
        }
    };
    ContextStage3D.prototype.setProgram = function (program) {
        this.addStream(String.fromCharCode(OpCodes.setProgram, program.id + OpCodes.intMask));
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.present = function () {
        this.addStream(String.fromCharCode(OpCodes.present));
        this.execute();
    };
    ContextStage3D.prototype.clear = function (red, green, blue, alpha, depth, stencil, mask) {
        if (red === void 0) { red = 0; }
        if (green === void 0) { green = 0; }
        if (blue === void 0) { blue = 0; }
        if (alpha === void 0) { alpha = 1; }
        if (depth === void 0) { depth = 1; }
        if (stencil === void 0) { stencil = 0; }
        if (mask === void 0) { mask = ContextGLClearMask.ALL; }
        this.addStream(String.fromCharCode(OpCodes.clear) + red + "," + green + "," + blue + "," + alpha + "," + depth + "," + stencil + "," + mask + ",");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.createProgram = function () {
        return new ProgramFlash(this);
    };
    ContextStage3D.prototype.createVertexBuffer = function (numVertices, data32PerVertex) {
        return new VertexBufferFlash(this, numVertices, data32PerVertex);
    };
    ContextStage3D.prototype.createIndexBuffer = function (numIndices) {
        return new IndexBufferFlash(this, numIndices);
    };
    ContextStage3D.prototype.configureBackBuffer = function (width, height, antiAlias, enableDepthAndStencil) {
        if (enableDepthAndStencil === void 0) { enableDepthAndStencil = true; }
        _super.prototype.configureBackBuffer.call(this, width, height, antiAlias, enableDepthAndStencil);
        //TODO: add Anitalias setting
        this.addStream(String.fromCharCode(OpCodes.configureBackBuffer) + width + "," + height + ",");
    };
    ContextStage3D.prototype.drawToBitmapData = function (destination) {
        //TODO
    };
    ContextStage3D.prototype.setVertexBufferAt = function (index, buffer, bufferOffset, format) {
        if (bufferOffset === void 0) { bufferOffset = 0; }
        if (format === void 0) { format = null; }
        if (buffer) {
            this.addStream(String.fromCharCode(OpCodes.setVertexBufferAt, index + OpCodes.intMask) + buffer.id + "," + bufferOffset + "," + format + "$");
        }
        else {
            this.addStream(String.fromCharCode(OpCodes.clearVertexBufferAt, index + OpCodes.intMask));
        }
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setColorMask = function (red, green, blue, alpha) {
        this.addStream(String.fromCharCode(OpCodes.setColorMask, red ? OpCodes.trueValue : OpCodes.falseValue, green ? OpCodes.trueValue : OpCodes.falseValue, blue ? OpCodes.trueValue : OpCodes.falseValue, alpha ? OpCodes.trueValue : OpCodes.falseValue));
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setBlendFactors = function (sourceFactor, destinationFactor) {
        this.addStream(String.fromCharCode(OpCodes.setBlendFactors) + sourceFactor + "$" + destinationFactor + "$");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setRenderToTexture = function (target, enableDepthAndStencil, antiAlias, surfaceSelector) {
        if (enableDepthAndStencil === void 0) { enableDepthAndStencil = false; }
        if (antiAlias === void 0) { antiAlias = 0; }
        if (surfaceSelector === void 0) { surfaceSelector = 0; }
        if (target === null || target === undefined) {
            this.addStream(String.fromCharCode(OpCodes.clearRenderToTexture));
        }
        else {
            this.addStream(String.fromCharCode(OpCodes.setRenderToTexture, enableDepthAndStencil ? OpCodes.trueValue : OpCodes.falseValue) + target.id + "," + (antiAlias || 0) + ",");
        }
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setRenderToBackBuffer = function () {
        this.addStream(String.fromCharCode(OpCodes.clearRenderToTexture));
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setScissorRectangle = function (rectangle) {
        if (rectangle) {
            this.addStream(String.fromCharCode(OpCodes.setScissorRect) + rectangle.x + "," + rectangle.y + "," + rectangle.width + "," + rectangle.height + ",");
        }
        else {
            this.addStream(String.fromCharCode(OpCodes.clearScissorRect));
        }
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.setDepthTest = function (depthMask, passCompareMode) {
        this.addStream(String.fromCharCode(OpCodes.setDepthTest, depthMask ? OpCodes.trueValue : OpCodes.falseValue) + passCompareMode + "$");
        if (ContextStage3D.debug)
            this.execute();
    };
    ContextStage3D.prototype.dispose = function () {
        if (this._pContainer == null)
            return;
        console.log("Context3D dispose, releasing " + this._resources.length + " resources.");
        while (this._resources.length)
            this._resources[0].dispose();
        if (this._pContainer) {
            // encode command
            this.addStream(String.fromCharCode(OpCodes.disposeContext));
            this.execute();
            swfobject.removeSWF(this._oldCanvas.id);
            if (this._oldCanvas && this._oldParent) {
                this._oldParent.appendChild(this._oldCanvas);
                this._oldParent = null;
            }
            this._pContainer = null;
        }
        this._oldCanvas = null;
    };
    ContextStage3D.prototype.addStream = function (stream) {
        this._cmdStream += stream;
    };
    ContextStage3D.prototype.execute = function () {
        if (ContextStage3D.logStream)
            console.log(this._cmdStream);
        var result = this._pContainer["CallFunction"]("<invoke name=\"execStage3dOpStream\" returntype=\"javascript\"><arguments><string>" + this._cmdStream + "</string></arguments></invoke>");
        if (Number(result) <= -3)
            throw "Exec stream failed";
        this._cmdStream = "";
        return Number(result);
    };
    ContextStage3D.contexts = new Object();
    ContextStage3D.maxvertexconstants = 128;
    ContextStage3D.maxfragconstants = 28;
    ContextStage3D.maxtemp = 8;
    ContextStage3D.maxstreams = 8;
    ContextStage3D.maxtextures = 8;
    ContextStage3D.defaultsampler = new Sampler();
    ContextStage3D.debug = false;
    ContextStage3D.logStream = false;
    return ContextStage3D;
})(ContextGLBase);
/**
* global function for flash callback
*/
function mountain_js_context_available(id, driverInfo) {
    var ctx = ContextStage3D.contexts[id];
    if (ctx._iCallback) {
        ctx._iDriverInfo = driverInfo;
        // get out of the current JS stack frame and call back from flash player
        var timeOutId = window.setTimeout(function () {
            window.clearTimeout(timeOutId);
            try {
                ctx._iCallback(ctx);
            }
            catch (e) {
                console.log("Callback failed during flash initialization with '" + e.toString() + "'");
            }
        }, 1);
    }
}
module.exports = ContextStage3D;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvY29udGV4dHN0YWdlM2QudHMiXSwibmFtZXMiOlsiQ29udGV4dFN0YWdlM0QiLCJDb250ZXh0U3RhZ2UzRC5jb25zdHJ1Y3RvciIsIkNvbnRleHRTdGFnZTNELmNvbnN0cnVjdG9yLmNhbGxiYWNrU1dGT2JqZWN0IiwiQ29udGV4dFN0YWdlM0QuY29udGFpbmVyIiwiQ29udGV4dFN0YWdlM0QuZHJpdmVySW5mbyIsIkNvbnRleHRTdGFnZTNELmVycm9yQ2hlY2tpbmdFbmFibGVkIiwiQ29udGV4dFN0YWdlM0QuX2lBZGRSZXNvdXJjZSIsIkNvbnRleHRTdGFnZTNELl9pUmVtb3ZlUmVzb3VyY2UiLCJDb250ZXh0U3RhZ2UzRC5jcmVhdGVUZXh0dXJlIiwiQ29udGV4dFN0YWdlM0QuY3JlYXRlQ3ViZVRleHR1cmUiLCJDb250ZXh0U3RhZ2UzRC5zZXRUZXh0dXJlQXQiLCJDb250ZXh0U3RhZ2UzRC5zZXRTYW1wbGVyU3RhdGVBdCIsIkNvbnRleHRTdGFnZTNELnNldFN0ZW5jaWxBY3Rpb25zIiwiQ29udGV4dFN0YWdlM0Quc2V0U3RlbmNpbFJlZmVyZW5jZVZhbHVlIiwiQ29udGV4dFN0YWdlM0Quc2V0Q3VsbGluZyIsIkNvbnRleHRTdGFnZTNELmRyYXdUcmlhbmdsZXMiLCJDb250ZXh0U3RhZ2UzRC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbU1hdHJpeCIsIkNvbnRleHRTdGFnZTNELnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkiLCJDb250ZXh0U3RhZ2UzRC5zZXRQcm9ncmFtIiwiQ29udGV4dFN0YWdlM0QucHJlc2VudCIsIkNvbnRleHRTdGFnZTNELmNsZWFyIiwiQ29udGV4dFN0YWdlM0QuY3JlYXRlUHJvZ3JhbSIsIkNvbnRleHRTdGFnZTNELmNyZWF0ZVZlcnRleEJ1ZmZlciIsIkNvbnRleHRTdGFnZTNELmNyZWF0ZUluZGV4QnVmZmVyIiwiQ29udGV4dFN0YWdlM0QuY29uZmlndXJlQmFja0J1ZmZlciIsIkNvbnRleHRTdGFnZTNELmRyYXdUb0JpdG1hcERhdGEiLCJDb250ZXh0U3RhZ2UzRC5zZXRWZXJ0ZXhCdWZmZXJBdCIsIkNvbnRleHRTdGFnZTNELnNldENvbG9yTWFzayIsIkNvbnRleHRTdGFnZTNELnNldEJsZW5kRmFjdG9ycyIsIkNvbnRleHRTdGFnZTNELnNldFJlbmRlclRvVGV4dHVyZSIsIkNvbnRleHRTdGFnZTNELnNldFJlbmRlclRvQmFja0J1ZmZlciIsIkNvbnRleHRTdGFnZTNELnNldFNjaXNzb3JSZWN0YW5nbGUiLCJDb250ZXh0U3RhZ2UzRC5zZXREZXB0aFRlc3QiLCJDb250ZXh0U3RhZ2UzRC5kaXNwb3NlIiwiQ29udGV4dFN0YWdlM0QuYWRkU3RyZWFtIiwiQ29udGV4dFN0YWdlM0QuZXhlY3V0ZSIsIm1vdW50YWluX2pzX2NvbnRleHRfYXZhaWxhYmxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFJQSxJQUFPLFNBQVMsV0FBZSw4QkFBOEIsQ0FBQyxDQUFDO0FBQy9ELElBQU8sT0FBTyxXQUFnQixrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2xFLElBQU8sYUFBYSxXQUFjLCtDQUErQyxDQUFDLENBQUM7QUFDbkYsSUFBTyxrQkFBa0IsV0FBYSxvREFBb0QsQ0FBQyxDQUFDO0FBQzVGLElBQU8sb0JBQW9CLFdBQWEsc0RBQXNELENBQUMsQ0FBQztBQUNoRyxJQUFPLGdCQUFnQixXQUFjLGtEQUFrRCxDQUFDLENBQUM7QUFFekYsSUFBTyxnQkFBZ0IsV0FBYyxrREFBa0QsQ0FBQyxDQUFDO0FBQ3pGLElBQU8sT0FBTyxXQUFnQix5Q0FBeUMsQ0FBQyxDQUFDO0FBQ3pFLElBQU8sWUFBWSxXQUFlLDhDQUE4QyxDQUFDLENBQUM7QUFDbEYsSUFBTyxZQUFZLFdBQWUsOENBQThDLENBQUMsQ0FBQztBQUVsRixJQUFPLGlCQUFpQixXQUFhLG1EQUFtRCxDQUFDLENBQUM7QUFFMUYsSUFBTSxjQUFjO0lBQVNBLFVBQXZCQSxjQUFjQSxVQUFzQkE7SUFrRHpDQSw0REFBNERB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O1FBSS9IQSxBQUNBQSxrREFEa0RBO1lBQzlDQSxDQUFDQSxHQUFZQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUNoQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN0QkEsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUM5RkEsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNsR0EsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNuR0EsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNwR0EsQ0FBQ0E7UUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFDUEEsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUM3RkEsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNqR0EsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNuR0EsSUFBSUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFD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Q0EsUUFBUUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7SUFDckRBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBO1FBQ3BCQSxHQUFHQSxDQUFDQSxZQUFZQSxHQUFHQSxVQUFVQSxDQUFDQTtRQUM5QkEsQUFDQUEsd0VBRHdFQTtZQUNwRUEsU0FBU0EsR0FBR0EsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7WUFFakMsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvQixJQUFBLENBQUM7Z0JBQ0EsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQixDQUFFO1lBQUEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQVQsQ0FBQztnQkFDRixPQUFPLENBQUMsR0FBRyxDQUFDLG9EQUFvRCxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUN4RixDQUFDO1FBQ0YsQ0FBQyxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNQQSxDQUFDQTtBQUNGQSxDQUFDQTtBQXJCRCxpQkFBUyxjQUFjLENBQUMiLCJmaWxlIjoiY29yZS9zdGFnZWdsL0NvbnRleHRTdGFnZTNELmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaXRtYXBEYXRhXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9iYXNlL0JpdG1hcERhdGFcIik7XG5pbXBvcnQgTWF0cml4M0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFwiKTtcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vUmVjdGFuZ2xlXCIpO1xuXG5pbXBvcnQgc3dmb2JqZWN0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9zd2ZvYmplY3RcIik7XG5pbXBvcnQgU2FtcGxlclx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9hZ2xzbC9TYW1wbGVyXCIpO1xuaW1wb3J0IENvbnRleHRHTEJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvQ29udGV4dEdMQmFzZVwiKTtcbmltcG9ydCBDb250ZXh0R0xDbGVhck1hc2tcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL0NvbnRleHRHTENsZWFyTWFza1wiKTtcbmltcG9ydCBDb250ZXh0R0xQcm9ncmFtVHlwZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvQ29udGV4dEdMUHJvZ3JhbVR5cGVcIik7XG5pbXBvcnQgQ3ViZVRleHR1cmVGbGFzaFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvc3RhZ2VnbC9DdWJlVGV4dHVyZUZsYXNoXCIpO1xuaW1wb3J0IElDb250ZXh0U3RhZ2VHTFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvc3RhZ2VnbC9JQ29udGV4dFN0YWdlR0xcIik7XG5pbXBvcnQgSW5kZXhCdWZmZXJGbGFzaFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvc3RhZ2VnbC9JbmRleEJ1ZmZlckZsYXNoXCIpO1xuaW1wb3J0IE9wQ29kZXNcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL09wQ29kZXNcIik7XG5pbXBvcnQgUHJvZ3JhbUZsYXNoXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvUHJvZ3JhbUZsYXNoXCIpO1xuaW1wb3J0IFRleHR1cmVGbGFzaFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL1RleHR1cmVGbGFzaFwiKTtcbmltcG9ydCBSZXNvdXJjZUJhc2VGbGFzaFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvUmVzb3VyY2VCYXNlRmxhc2hcIik7XG5pbXBvcnQgVmVydGV4QnVmZmVyRmxhc2hcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL1ZlcnRleEJ1ZmZlckZsYXNoXCIpO1xuXG5jbGFzcyBDb250ZXh0U3RhZ2UzRCBleHRlbmRzIENvbnRleHRHTEJhc2UgaW1wbGVtZW50cyBJQ29udGV4dFN0YWdlR0xcbntcblx0cHVibGljIHN0YXRpYyBjb250ZXh0czpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cdHB1YmxpYyBzdGF0aWMgbWF4dmVydGV4Y29uc3RhbnRzOm51bWJlciA9IDEyODtcblx0cHVibGljIHN0YXRpYyBtYXhmcmFnY29uc3RhbnRzOm51bWJlciA9IDI4O1xuXHRwdWJsaWMgc3RhdGljIG1heHRlbXA6bnVtYmVyID0gODtcblx0cHVibGljIHN0YXRpYyBtYXhzdHJlYW1zOm51bWJlciA9IDg7XG5cdHB1YmxpYyBzdGF0aWMgbWF4dGV4dHVyZXM6bnVtYmVyID0gODtcblx0cHVibGljIHN0YXRpYyBkZWZhdWx0c2FtcGxlciA9IG5ldyBTYW1wbGVyKCk7XG5cblx0cHVibGljIF9pRHJpdmVySW5mbztcblxuXHRwcml2YXRlIF9jbWRTdHJlYW06c3RyaW5nID0gXCJcIjtcblx0cHJpdmF0ZSBfZXJyb3JDaGVja2luZ0VuYWJsZWQ6Ym9vbGVhbjtcblx0cHJpdmF0ZSBfcmVzb3VyY2VzOkFycmF5PFJlc291cmNlQmFzZUZsYXNoPjtcblx0cHJpdmF0ZSBfb2xkQ2FudmFzOkhUTUxDYW52YXNFbGVtZW50O1xuXHRwcml2YXRlIF9vbGRQYXJlbnQ6SFRNTEVsZW1lbnQ7XG5cblxuXHRwdWJsaWMgc3RhdGljIGRlYnVnOmJvb2xlYW4gPSBmYWxzZTtcblx0cHVibGljIHN0YXRpYyBsb2dTdHJlYW06Ym9vbGVhbiA9IGZhbHNlO1xuXG5cdHB1YmxpYyBfaUNhbGxiYWNrOihjb250ZXh0OklDb250ZXh0U3RhZ2VHTCkgPT4gdm9pZDtcblxuXHRwdWJsaWMgZ2V0IGNvbnRhaW5lcigpOkhUTUxFbGVtZW50XG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcENvbnRhaW5lcjtcblx0fVxuXG5cdHB1YmxpYyBnZXQgZHJpdmVySW5mbygpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5faURyaXZlckluZm87XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGVycm9yQ2hlY2tpbmdFbmFibGVkKCk6Ym9vbGVhblxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2Vycm9yQ2hlY2tpbmdFbmFibGVkO1xuXHR9XG5cblx0cHVibGljIHNldCBlcnJvckNoZWNraW5nRW5hYmxlZCh2YWx1ZTpib29sZWFuKVxuXHR7XG5cdFx0aWYgKHRoaXMuX2Vycm9yQ2hlY2tpbmdFbmFibGVkID09IHZhbHVlKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0dGhpcy5fZXJyb3JDaGVja2luZ0VuYWJsZWQgPSB2YWx1ZTtcblxuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5lbmFibGVFcnJvckNoZWNraW5nLCB2YWx1ZT8gT3BDb2Rlcy50cnVlVmFsdWUgOiBPcENvZGVzLmZhbHNlVmFsdWUpKTtcblx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdC8vVE9ETzogZ2V0IHJpZCBvZiBoYWNrIHRoYXQgZml4ZXMgaW5jbHVkaW5nIGRlZmluaXRpb24gZmlsZVxuXHRjb25zdHJ1Y3Rvcihjb250YWluZXI6SFRNTENhbnZhc0VsZW1lbnQsIHN0YWdlSW5kZXg6bnVtYmVyLCBjYWxsYmFjazooY29udGV4dDpJQ29udGV4dFN0YWdlR0wpID0+IHZvaWQsIGluY2x1ZGU/OlNhbXBsZXIpXG5cdHtcblx0XHRzdXBlcihzdGFnZUluZGV4KTtcblxuXHRcdHRoaXMuX3Jlc291cmNlcyA9IG5ldyBBcnJheTxSZXNvdXJjZUJhc2VGbGFzaD4oKTtcblxuXHRcdHZhciBzd2ZWZXJzaW9uU3RyID0gXCIxMS4wLjBcIjtcblxuXHRcdC8vIFRvIHVzZSBleHByZXNzIGluc3RhbGwsIHNldCB0byBwbGF5ZXJQcm9kdWN0SW5zdGFsbC5zd2YsIG90aGVyd2lzZSB0aGUgZW1wdHkgc3RyaW5nLlxuXHRcdHZhciBmbGFzaHZhcnMgPSB7XG5cdFx0XHRpZDpjb250YWluZXIuaWRcblx0XHR9O1xuXG5cdFx0dmFyIHBhcmFtcyA9IHtcblx0XHRcdHF1YWxpdHk6XCJoaWdoXCIsXG5cdFx0XHRiZ2NvbG9yOlwiI2ZmZmZmZlwiLFxuXHRcdFx0YWxsb3dzY3JpcHRhY2Nlc3M6XCJzYW1lRG9tYWluXCIsXG5cdFx0XHRhbGxvd2Z1bGxzY3JlZW46XCJ0cnVlXCIsXG5cdFx0XHR3bW9kZTpcImRpcmVjdFwiXG5cdFx0fTtcblxuXHRcdHRoaXMuX2Vycm9yQ2hlY2tpbmdFbmFibGVkID0gZmFsc2U7XG5cdFx0dGhpcy5faURyaXZlckluZm8gPSBcIlVua25vd25cIjtcblxuXHRcdHZhciBhdHRyaWJ1dGVzID0ge1xuXHRcdFx0c2FsaWduOlwidGxcIixcblx0XHRcdGlkOmNvbnRhaW5lci5pZCxcblx0XHRcdG5hbWU6Y29udGFpbmVyW1wibmFtZVwiXSAvL1RPRE86IG5lZWRlZD9cblx0XHR9O1xuXG5cdFx0dGhpcy5fb2xkQ2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBjb250YWluZXIuY2xvbmVOb2RlKCk7IC8vIGtlZXAgdGhlIG9sZCBvbmUgdG8gcmVzdG9yZSBvbiBkaXNwb3NlXG5cdFx0dGhpcy5fb2xkUGFyZW50ID0gPEhUTUxFbGVtZW50PiBjb250YWluZXIucGFyZW50Tm9kZTtcblxuXHRcdHZhciBjb250ZXh0M2RPYmogPSB0aGlzO1xuXHRcdENvbnRleHRTdGFnZTNELmNvbnRleHRzW2NvbnRhaW5lci5pZF0gPSB0aGlzO1xuXG5cdFx0ZnVuY3Rpb24gY2FsbGJhY2tTV0ZPYmplY3QoY2FsbGJhY2tJbmZvKVxuXHRcdHtcblx0XHRcdGlmICghY2FsbGJhY2tJbmZvLnN1Y2Nlc3MpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0Y29udGV4dDNkT2JqLl9wQ29udGFpbmVyID0gY2FsbGJhY2tJbmZvLnJlZjtcblx0XHRcdGNvbnRleHQzZE9iai5faUNhbGxiYWNrID0gY2FsbGJhY2s7XG5cdFx0fVxuXG5cdFx0c3dmb2JqZWN0LmVtYmVkU1dGKFwiLi4vbGlicy9tb2xlaGlsbF9qc19mbGFzaGJyaWRnZS5zd2ZcIiwgY29udGFpbmVyLmlkLCBTdHJpbmcoY29udGFpbmVyLndpZHRoKSwgU3RyaW5nKGNvbnRhaW5lci5oZWlnaHQpLCBzd2ZWZXJzaW9uU3RyLCBcIlwiLCBmbGFzaHZhcnMsIHBhcmFtcywgYXR0cmlidXRlcywgY2FsbGJhY2tTV0ZPYmplY3QpO1xuXHR9XG5cblx0cHVibGljIF9pQWRkUmVzb3VyY2UocmVzb3VyY2U6UmVzb3VyY2VCYXNlRmxhc2gpXG5cdHtcblx0XHR0aGlzLl9yZXNvdXJjZXMucHVzaChyZXNvdXJjZSk7XG5cdH1cblxuXHRwdWJsaWMgX2lSZW1vdmVSZXNvdXJjZShyZXNvdXJjZTpSZXNvdXJjZUJhc2VGbGFzaClcblx0e1xuXHRcdHRoaXMuX3Jlc291cmNlcy5zcGxpY2UodGhpcy5fcmVzb3VyY2VzLmluZGV4T2YocmVzb3VyY2UpKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGVUZXh0dXJlKHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgZm9ybWF0OnN0cmluZywgb3B0aW1pemVGb3JSZW5kZXJUb1RleHR1cmU6Ym9vbGVhbiwgc3RyZWFtaW5nTGV2ZWxzOm51bWJlciA9IDApOlRleHR1cmVGbGFzaFxuXHR7XG5cdFx0Ly9UT0RPOnN0cmVhbWluZ1xuXHRcdHJldHVybiBuZXcgVGV4dHVyZUZsYXNoKHRoaXMsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgb3B0aW1pemVGb3JSZW5kZXJUb1RleHR1cmUpO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZUN1YmVUZXh0dXJlKHNpemU6bnVtYmVyLCBmb3JtYXQ6c3RyaW5nLCBvcHRpbWl6ZUZvclJlbmRlclRvVGV4dHVyZTpib29sZWFuLCBzdHJlYW1pbmdMZXZlbHM6bnVtYmVyID0gMCk6Q3ViZVRleHR1cmVGbGFzaFxuXHR7XG5cdFx0Ly9UT0RPOnN0cmVhbWluZ1xuXHRcdHJldHVybiBuZXcgQ3ViZVRleHR1cmVGbGFzaCh0aGlzLCBzaXplLCBmb3JtYXQsIG9wdGltaXplRm9yUmVuZGVyVG9UZXh0dXJlKTtcblx0fVxuXG5cblx0cHVibGljIHNldFRleHR1cmVBdChzYW1wbGVyOm51bWJlciwgdGV4dHVyZTpSZXNvdXJjZUJhc2VGbGFzaClcblx0e1xuXHRcdGlmICh0ZXh0dXJlKSB7XG5cdFx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuc2V0VGV4dHVyZUF0KSArIHNhbXBsZXIgKyBcIixcIiArIHRleHR1cmUuaWQgKyBcIixcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5jbGVhclRleHR1cmVBdCkgKyBzYW1wbGVyLnRvU3RyaW5nKCkgKyBcIixcIik7XG5cdFx0fVxuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgc2V0U2FtcGxlclN0YXRlQXQoc2FtcGxlcjpudW1iZXIsIHdyYXA6c3RyaW5nLCBmaWx0ZXI6c3RyaW5nLCBtaXBmaWx0ZXI6c3RyaW5nKTp2b2lkXG5cdHtcblx0XHQvL25vdGhpbmcgdG8gZG8gaGVyZVxuXHR9XG5cblx0cHVibGljIHNldFN0ZW5jaWxBY3Rpb25zKHRyaWFuZ2xlRmFjZTpzdHJpbmcgPSBcImZyb250QW5kQmFja1wiLCBjb21wYXJlTW9kZTpzdHJpbmcgPSBcImFsd2F5c1wiLCBhY3Rpb25PbkJvdGhQYXNzOnN0cmluZyA9IFwia2VlcFwiLCBhY3Rpb25PbkRlcHRoRmFpbDpzdHJpbmcgPSBcImtlZXBcIiwgYWN0aW9uT25EZXB0aFBhc3NTdGVuY2lsRmFpbDpzdHJpbmcgPSBcImtlZXBcIilcblx0e1xuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5zZXRTdGVuY2lsQWN0aW9ucykgKyB0cmlhbmdsZUZhY2UgKyBcIiRcIiArIGNvbXBhcmVNb2RlICsgXCIkXCIgKyBhY3Rpb25PbkJvdGhQYXNzICsgXCIkXCIgKyBhY3Rpb25PbkRlcHRoRmFpbCArIFwiJFwiICsgYWN0aW9uT25EZXB0aFBhc3NTdGVuY2lsRmFpbCArIFwiJFwiKTtcblxuXHRcdGlmIChDb250ZXh0U3RhZ2UzRC5kZWJ1Zylcblx0XHRcdHRoaXMuZXhlY3V0ZSgpO1xuXHR9XG5cblx0cHVibGljIHNldFN0ZW5jaWxSZWZlcmVuY2VWYWx1ZShyZWZlcmVuY2VWYWx1ZTpudW1iZXIsIHJlYWRNYXNrOm51bWJlciA9IDI1NSwgd3JpdGVNYXNrOm51bWJlciA9IDI1NSlcblx0e1xuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5zZXRTdGVuY2lsUmVmZXJlbmNlVmFsdWUsIHJlZmVyZW5jZVZhbHVlICsgT3BDb2Rlcy5pbnRNYXNrLCByZWFkTWFzayArIE9wQ29kZXMuaW50TWFzaywgd3JpdGVNYXNrICsgT3BDb2Rlcy5pbnRNYXNrKSk7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRDdWxsaW5nKHRyaWFuZ2xlRmFjZVRvQ3VsbDpzdHJpbmcsIGNvb3JkaW5hdGVTeXN0ZW06c3RyaW5nID0gXCJsZWZ0SGFuZGVkXCIpXG5cdHtcblx0XHQvL1RPRE8gaW1wbGVtZW50IGNvb3JkaW5hdGVTeXN0ZW0gb3B0aW9uXG5cdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLnNldEN1bGxpbmcpICsgdHJpYW5nbGVGYWNlVG9DdWxsICsgXCIkXCIpO1xuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgZHJhd1RyaWFuZ2xlcyhpbmRleEJ1ZmZlcjpJbmRleEJ1ZmZlckZsYXNoLCBmaXJzdEluZGV4Om51bWJlciA9IDAsIG51bVRyaWFuZ2xlczpudW1iZXIgPSAtMSlcblx0e1xuXHRcdGZpcnN0SW5kZXggPSBmaXJzdEluZGV4IHx8IDA7XG5cdFx0aWYgKCFudW1UcmlhbmdsZXMgfHwgbnVtVHJpYW5nbGVzIDwgMClcblx0XHRcdG51bVRyaWFuZ2xlcyA9IGluZGV4QnVmZmVyLm51bUluZGljZXMvMztcblxuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5kcmF3VHJpYW5nbGVzLCBpbmRleEJ1ZmZlci5pZCArIE9wQ29kZXMuaW50TWFzaykgKyBmaXJzdEluZGV4ICsgXCIsXCIgKyBudW1UcmlhbmdsZXMgKyBcIixcIik7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRQcm9ncmFtQ29uc3RhbnRzRnJvbU1hdHJpeChwcm9ncmFtVHlwZTpzdHJpbmcsIGZpcnN0UmVnaXN0ZXI6bnVtYmVyLCBtYXRyaXg6TWF0cml4M0QsIHRyYW5zcG9zZWRNYXRyaXg6Ym9vbGVhbiA9IGZhbHNlKVxuXHR7XG5cdFx0Ly90aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9jdXJyZW50UHJvZ3JhbS5nbFByb2dyYW0sIHRoaXMuX3VuaWZvcm1Mb2NhdGlvbk5hbWVEaWN0aW9uYXJ5W3Byb2dyYW1UeXBlXSksICF0cmFuc3Bvc2VkTWF0cml4LCBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeC5yYXdEYXRhKSk7XG5cblx0XHQvL1RPRE8gcmVtb3ZlIHNwZWNpYWwgY2FzZSBmb3IgV2ViR0wgbWF0cml4IGNhbGxzP1xuXHRcdHZhciBkOm51bWJlcltdID0gbWF0cml4LnJhd0RhdGE7XG5cdFx0aWYgKHRyYW5zcG9zZWRNYXRyaXgpIHtcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciwgWyBkWzBdLCBkWzRdLCBkWzhdLCBkWzEyXSBdLCAxKTtcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDEsIFsgZFsxXSwgZFs1XSwgZFs5XSwgZFsxM10gXSwgMSk7XG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIgKyAyLCBbIGRbMl0sIGRbNl0sIGRbMTBdLCBkWzE0XSBdLCAxKTtcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDMsIFsgZFszXSwgZFs3XSwgZFsxMV0sIGRbMTVdIF0sIDEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkocHJvZ3JhbVR5cGUsIGZpcnN0UmVnaXN0ZXIsIFsgZFswXSwgZFsxXSwgZFsyXSwgZFszXSBdLCAxKTtcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDEsIFsgZFs0XSwgZFs1XSwgZFs2XSwgZFs3XSBdLCAxKTtcblx0XHRcdHRoaXMuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZSwgZmlyc3RSZWdpc3RlciArIDIsIFsgZFs4XSwgZFs5XSwgZFsxMF0sIGRbMTFdIF0sIDEpO1xuXHRcdFx0dGhpcy5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KHByb2dyYW1UeXBlLCBmaXJzdFJlZ2lzdGVyICsgMywgWyBkWzEyXSwgZFsxM10sIGRbMTRdLCBkWzE1XSBdLCAxKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShwcm9ncmFtVHlwZTpzdHJpbmcsIGZpcnN0UmVnaXN0ZXI6bnVtYmVyLCBkYXRhOm51bWJlcltdLCBudW1SZWdpc3RlcnM6bnVtYmVyID0gLTEpXG5cdHtcblx0XHR2YXIgc3RhcnRJbmRleDpudW1iZXI7XG5cdFx0dmFyIHRhcmdldDpudW1iZXIgPSAocHJvZ3JhbVR5cGUgPT0gQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYKT8gT3BDb2Rlcy50cnVlVmFsdWUgOiBPcENvZGVzLmZhbHNlVmFsdWU7XG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbnVtUmVnaXN0ZXJzOyBpKyspIHtcblx0XHRcdHN0YXJ0SW5kZXggPSBpKjQ7XG5cdFx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuc2V0UHJvZ3JhbUNvbnN0YW50LCB0YXJnZXQsIChmaXJzdFJlZ2lzdGVyICsgaSkgKyBPcENvZGVzLmludE1hc2spICsgZGF0YVtzdGFydEluZGV4XSArIFwiLFwiICsgZGF0YVtzdGFydEluZGV4ICsgMV0gKyBcIixcIiArIGRhdGFbc3RhcnRJbmRleCArIDJdICsgXCIsXCIgKyBkYXRhW3N0YXJ0SW5kZXggKyAzXSArIFwiLFwiKTtcblxuXHRcdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc2V0UHJvZ3JhbShwcm9ncmFtOlByb2dyYW1GbGFzaClcblx0e1xuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5zZXRQcm9ncmFtLCBwcm9ncmFtLmlkICsgT3BDb2Rlcy5pbnRNYXNrKSk7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBwcmVzZW50KClcblx0e1xuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5wcmVzZW50KSk7XG5cdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgY2xlYXIocmVkOm51bWJlciA9IDAsIGdyZWVuOm51bWJlciA9IDAsIGJsdWU6bnVtYmVyID0gMCwgYWxwaGE6bnVtYmVyID0gMSwgZGVwdGg6bnVtYmVyID0gMSwgc3RlbmNpbDpudW1iZXIgPSAwLCBtYXNrOm51bWJlciA9IENvbnRleHRHTENsZWFyTWFzay5BTEwpXG5cdHtcblx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuY2xlYXIpICsgcmVkICsgXCIsXCIgKyBncmVlbiArIFwiLFwiICsgYmx1ZSArIFwiLFwiICsgYWxwaGEgKyBcIixcIiArIGRlcHRoICsgXCIsXCIgKyBzdGVuY2lsICsgXCIsXCIgKyBtYXNrICsgXCIsXCIpO1xuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlUHJvZ3JhbSgpOlByb2dyYW1GbGFzaFxuXHR7XG5cdFx0cmV0dXJuIG5ldyBQcm9ncmFtRmxhc2godGhpcyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlVmVydGV4QnVmZmVyKG51bVZlcnRpY2VzOm51bWJlciwgZGF0YTMyUGVyVmVydGV4Om51bWJlcik6VmVydGV4QnVmZmVyRmxhc2hcblx0e1xuXHRcdHJldHVybiBuZXcgVmVydGV4QnVmZmVyRmxhc2godGhpcywgbnVtVmVydGljZXMsIGRhdGEzMlBlclZlcnRleCk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlSW5kZXhCdWZmZXIobnVtSW5kaWNlczpudW1iZXIpOkluZGV4QnVmZmVyRmxhc2hcblx0e1xuXHRcdHJldHVybiBuZXcgSW5kZXhCdWZmZXJGbGFzaCh0aGlzLCBudW1JbmRpY2VzKTtcblx0fVxuXG5cdHB1YmxpYyBjb25maWd1cmVCYWNrQnVmZmVyKHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgYW50aUFsaWFzOm51bWJlciwgZW5hYmxlRGVwdGhBbmRTdGVuY2lsOmJvb2xlYW4gPSB0cnVlKVxuXHR7XG5cdFx0c3VwZXIuY29uZmlndXJlQmFja0J1ZmZlcih3aWR0aCwgaGVpZ2h0LCBhbnRpQWxpYXMsIGVuYWJsZURlcHRoQW5kU3RlbmNpbCk7XG5cblx0XHQvL1RPRE86IGFkZCBBbml0YWxpYXMgc2V0dGluZ1xuXHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5jb25maWd1cmVCYWNrQnVmZmVyKSArIHdpZHRoICsgXCIsXCIgKyBoZWlnaHQgKyBcIixcIik7XG5cdH1cblxuXHRwdWJsaWMgZHJhd1RvQml0bWFwRGF0YShkZXN0aW5hdGlvbjpCaXRtYXBEYXRhKVxuXHR7XG5cdFx0Ly9UT0RPXG5cdH1cblxuXHRwdWJsaWMgc2V0VmVydGV4QnVmZmVyQXQoaW5kZXg6bnVtYmVyLCBidWZmZXI6VmVydGV4QnVmZmVyRmxhc2gsIGJ1ZmZlck9mZnNldDpudW1iZXIgPSAwLCBmb3JtYXQ6c3RyaW5nID0gbnVsbClcblx0e1xuXHRcdGlmIChidWZmZXIpIHtcblx0XHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5zZXRWZXJ0ZXhCdWZmZXJBdCwgaW5kZXggKyBPcENvZGVzLmludE1hc2spICsgYnVmZmVyLmlkICsgXCIsXCIgKyBidWZmZXJPZmZzZXQgKyBcIixcIiArIGZvcm1hdCArIFwiJFwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLmNsZWFyVmVydGV4QnVmZmVyQXQsIGluZGV4ICsgT3BDb2Rlcy5pbnRNYXNrKSk7XG5cdFx0fVxuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgc2V0Q29sb3JNYXNrKHJlZDpib29sZWFuLCBncmVlbjpib29sZWFuLCBibHVlOmJvb2xlYW4sIGFscGhhOmJvb2xlYW4pXG5cdHtcblx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuc2V0Q29sb3JNYXNrLCByZWQ/IE9wQ29kZXMudHJ1ZVZhbHVlIDogT3BDb2Rlcy5mYWxzZVZhbHVlLCBncmVlbj8gT3BDb2Rlcy50cnVlVmFsdWUgOiBPcENvZGVzLmZhbHNlVmFsdWUsIGJsdWU/IE9wQ29kZXMudHJ1ZVZhbHVlIDogT3BDb2Rlcy5mYWxzZVZhbHVlLCBhbHBoYT8gT3BDb2Rlcy50cnVlVmFsdWUgOiBPcENvZGVzLmZhbHNlVmFsdWUpKTtcblxuXHRcdGlmIChDb250ZXh0U3RhZ2UzRC5kZWJ1Zylcblx0XHRcdHRoaXMuZXhlY3V0ZSgpO1xuXHR9XG5cblx0cHVibGljIHNldEJsZW5kRmFjdG9ycyhzb3VyY2VGYWN0b3I6c3RyaW5nLCBkZXN0aW5hdGlvbkZhY3RvcjpzdHJpbmcpXG5cdHtcblx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuc2V0QmxlbmRGYWN0b3JzKSArIHNvdXJjZUZhY3RvciArIFwiJFwiICsgZGVzdGluYXRpb25GYWN0b3IgKyBcIiRcIik7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRSZW5kZXJUb1RleHR1cmUodGFyZ2V0OlJlc291cmNlQmFzZUZsYXNoLCBlbmFibGVEZXB0aEFuZFN0ZW5jaWw6Ym9vbGVhbiA9IGZhbHNlLCBhbnRpQWxpYXM6bnVtYmVyID0gMCwgc3VyZmFjZVNlbGVjdG9yOm51bWJlciA9IDApXG5cdHtcblx0XHRpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuY2xlYXJSZW5kZXJUb1RleHR1cmUpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLnNldFJlbmRlclRvVGV4dHVyZSwgZW5hYmxlRGVwdGhBbmRTdGVuY2lsPyBPcENvZGVzLnRydWVWYWx1ZSA6IE9wQ29kZXMuZmFsc2VWYWx1ZSkgKyB0YXJnZXQuaWQgKyBcIixcIiArIChhbnRpQWxpYXMgfHwgMCkgKyBcIixcIik7XG5cdFx0fVxuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXG5cdHB1YmxpYyBzZXRSZW5kZXJUb0JhY2tCdWZmZXIoKVxuXHR7XG5cdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLmNsZWFyUmVuZGVyVG9UZXh0dXJlKSk7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRTY2lzc29yUmVjdGFuZ2xlKHJlY3RhbmdsZTpSZWN0YW5nbGUpXG5cdHtcblx0XHRpZiAocmVjdGFuZ2xlKSB7XG5cdFx0XHR0aGlzLmFkZFN0cmVhbShTdHJpbmcuZnJvbUNoYXJDb2RlKE9wQ29kZXMuc2V0U2Npc3NvclJlY3QpICsgcmVjdGFuZ2xlLnggKyBcIixcIiArIHJlY3RhbmdsZS55ICsgXCIsXCIgKyByZWN0YW5nbGUud2lkdGggKyBcIixcIiArIHJlY3RhbmdsZS5oZWlnaHQgKyBcIixcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWRkU3RyZWFtKFN0cmluZy5mcm9tQ2hhckNvZGUoT3BDb2Rlcy5jbGVhclNjaXNzb3JSZWN0KSk7XG5cdFx0fVxuXG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmRlYnVnKVxuXHRcdFx0dGhpcy5leGVjdXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgc2V0RGVwdGhUZXN0KGRlcHRoTWFzazpib29sZWFuLCBwYXNzQ29tcGFyZU1vZGU6c3RyaW5nKVxuXHR7XG5cdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLnNldERlcHRoVGVzdCwgZGVwdGhNYXNrPyBPcENvZGVzLnRydWVWYWx1ZSA6IE9wQ29kZXMuZmFsc2VWYWx1ZSkgKyBwYXNzQ29tcGFyZU1vZGUgKyBcIiRcIik7XG5cblx0XHRpZiAoQ29udGV4dFN0YWdlM0QuZGVidWcpXG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlKClcblx0e1xuXHRcdGlmICh0aGlzLl9wQ29udGFpbmVyID09IG51bGwpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRjb25zb2xlLmxvZyhcIkNvbnRleHQzRCBkaXNwb3NlLCByZWxlYXNpbmcgXCIgKyB0aGlzLl9yZXNvdXJjZXMubGVuZ3RoICsgXCIgcmVzb3VyY2VzLlwiKTtcblxuXHRcdHdoaWxlICh0aGlzLl9yZXNvdXJjZXMubGVuZ3RoKVxuXHRcdFx0dGhpcy5fcmVzb3VyY2VzWzBdLmRpc3Bvc2UoKTtcblxuXHRcdGlmICh0aGlzLl9wQ29udGFpbmVyKSB7XG5cdFx0XHQvLyBlbmNvZGUgY29tbWFuZFxuXHRcdFx0dGhpcy5hZGRTdHJlYW0oU3RyaW5nLmZyb21DaGFyQ29kZShPcENvZGVzLmRpc3Bvc2VDb250ZXh0KSk7XG5cdFx0XHR0aGlzLmV4ZWN1dGUoKTtcblx0XHRcdHN3Zm9iamVjdC5yZW1vdmVTV0YodGhpcy5fb2xkQ2FudmFzLmlkKTtcblx0XHRcdGlmICh0aGlzLl9vbGRDYW52YXMgJiYgdGhpcy5fb2xkUGFyZW50KSB7XG5cdFx0XHRcdHRoaXMuX29sZFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLl9vbGRDYW52YXMpO1xuXHRcdFx0XHR0aGlzLl9vbGRQYXJlbnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fcENvbnRhaW5lciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0dGhpcy5fb2xkQ2FudmFzID0gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyBhZGRTdHJlYW0oc3RyZWFtOnN0cmluZylcblx0e1xuXHRcdHRoaXMuX2NtZFN0cmVhbSArPSBzdHJlYW07XG5cdH1cblxuXHRwdWJsaWMgZXhlY3V0ZSgpOm51bWJlclxuXHR7XG5cdFx0aWYgKENvbnRleHRTdGFnZTNELmxvZ1N0cmVhbSlcblx0XHRcdGNvbnNvbGUubG9nKHRoaXMuX2NtZFN0cmVhbSk7XG5cblx0XHR2YXIgcmVzdWx0Om51bWJlciA9IHRoaXMuX3BDb250YWluZXJbXCJDYWxsRnVuY3Rpb25cIl0oXCI8aW52b2tlIG5hbWU9XFxcImV4ZWNTdGFnZTNkT3BTdHJlYW1cXFwiIHJldHVybnR5cGU9XFxcImphdmFzY3JpcHRcXFwiPjxhcmd1bWVudHM+PHN0cmluZz5cIiArIHRoaXMuX2NtZFN0cmVhbSArIFwiPC9zdHJpbmc+PC9hcmd1bWVudHM+PC9pbnZva2U+XCIpO1xuXG5cdFx0aWYgKE51bWJlcihyZXN1bHQpIDw9IC0zKVxuXHRcdFx0dGhyb3cgXCJFeGVjIHN0cmVhbSBmYWlsZWRcIjtcblxuXHRcdHRoaXMuX2NtZFN0cmVhbSA9IFwiXCI7XG5cblx0XHRyZXR1cm4gTnVtYmVyKHJlc3VsdCk7XG5cdH1cbn1cblxuZXhwb3J0ID0gQ29udGV4dFN0YWdlM0Q7XG5cbi8qKlxuKiBnbG9iYWwgZnVuY3Rpb24gZm9yIGZsYXNoIGNhbGxiYWNrXG4qL1xuZnVuY3Rpb24gbW91bnRhaW5fanNfY29udGV4dF9hdmFpbGFibGUoaWQsIGRyaXZlckluZm8pXG57XG5cdHZhciBjdHg6Q29udGV4dFN0YWdlM0QgPSBDb250ZXh0U3RhZ2UzRC5jb250ZXh0c1tpZF07XG5cdGlmIChjdHguX2lDYWxsYmFjaykge1xuXHRcdGN0eC5faURyaXZlckluZm8gPSBkcml2ZXJJbmZvO1xuXHRcdC8vIGdldCBvdXQgb2YgdGhlIGN1cnJlbnQgSlMgc3RhY2sgZnJhbWUgYW5kIGNhbGwgYmFjayBmcm9tIGZsYXNoIHBsYXllclxuXHRcdHZhciB0aW1lT3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKVxuXHRcdHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGltZU91dElkKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGN0eC5faUNhbGxiYWNrKGN0eCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiQ2FsbGJhY2sgZmFpbGVkIGR1cmluZyBmbGFzaCBpbml0aWFsaXphdGlvbiB3aXRoICdcIiArIGUudG9TdHJpbmcoKSArIFwiJ1wiKTtcblx0XHRcdH1cblx0XHR9LCAxKTtcblx0fVxufVxuIl19