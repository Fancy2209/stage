var IndexData = require("awayjs-stagegl/lib/core/pool/IndexData");
/**
 *
 */
var IndexDataPool = (function () {
    function IndexDataPool() {
    }
    IndexDataPool.getItem = function (subGeometry, level, indexOffset) {
        var subGeometryData = (IndexDataPool._pool[subGeometry.id] || (IndexDataPool._pool[subGeometry.id] = new Array()));
        var indexData = subGeometryData[level] || (subGeometryData[level] = new IndexData(level));
        indexData.updateData(indexOffset, subGeometry.indices, subGeometry.numVertices);
        return indexData;
    };
    IndexDataPool.disposeItem = function (id, level) {
        var subGeometryData = this._pool[id];
        subGeometryData[level].dispose();
        subGeometryData[level] = null;
    };
    IndexDataPool.prototype.disposeData = function (id) {
        var subGeometryData = IndexDataPool._pool[id];
        var len = subGeometryData.length;
        for (var i = 0; i < len; i++) {
            subGeometryData[i].dispose();
            subGeometryData[i] = null;
        }
        IndexDataPool._pool[id] = null;
    };
    IndexDataPool._pool = new Object();
    return IndexDataPool;
})();
module.exports = IndexDataPool;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3Bvb2wvaW5kZXhkYXRhcG9vbC50cyJdLCJuYW1lcyI6WyJJbmRleERhdGFQb29sIiwiSW5kZXhEYXRhUG9vbC5jb25zdHJ1Y3RvciIsIkluZGV4RGF0YVBvb2wuZ2V0SXRlbSIsIkluZGV4RGF0YVBvb2wuZGlzcG9zZUl0ZW0iLCJJbmRleERhdGFQb29sLmRpc3Bvc2VEYXRhIl0sIm1hcHBpbmdzIjoiQUFFQSxJQUFPLFNBQVMsV0FBZSx3Q0FBd0MsQ0FBQyxDQUFDO0FBRXpFLEFBR0E7O0dBREc7SUFDRyxhQUFhO0lBSWxCQSxTQUpLQSxhQUFhQTtJQU1sQkMsQ0FBQ0E7SUFFYUQscUJBQU9BLEdBQXJCQSxVQUFzQkEsV0FBMkJBLEVBQUVBLEtBQVlBLEVBQUVBLFdBQWtCQTtRQUVsRkUsSUFBSUEsZUFBZUEsR0FBdUNBLENBQUNBLGFBQWFBLENBQUNBLEtBQUtBLENBQUNBLFdBQVdBLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLEtBQUtBLENBQUNBLFdBQVdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLEtBQUtBLEVBQWFBLENBQUNBLENBQUNBLENBQUNBO1FBRWxLQSxJQUFJQSxTQUFTQSxHQUFhQSxlQUFlQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxJQUFJQSxTQUFTQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNwR0EsU0FBU0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsV0FBV0EsRUFBRUEsV0FBV0EsQ0FBQ0EsT0FBT0EsRUFBRUEsV0FBV0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7UUFFaEZBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBO0lBQ2xCQSxDQUFDQTtJQUVhRix5QkFBV0EsR0FBekJBLFVBQTBCQSxFQUFTQSxFQUFFQSxLQUFZQTtRQUVoREcsSUFBSUEsZUFBZUEsR0FBdUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRXpFQSxlQUFlQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUNqQ0EsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDL0JBLENBQUNBO0lBRU1ILG1DQUFXQSxHQUFsQkEsVUFBbUJBLEVBQVNBO1FBRTNCSSxJQUFJQSxlQUFlQSxHQUF1Q0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFFbEZBLElBQUlBLEdBQUdBLEdBQVVBLGVBQWVBLENBQUNBLE1BQU1BLENBQUNBO1FBQ3hDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFVQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxHQUFHQSxFQUFFQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQTtZQUNyQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFDN0JBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzNCQSxDQUFDQTtRQUVEQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFuQ2NKLG1CQUFLQSxHQUFVQSxJQUFJQSxNQUFNQSxFQUFFQSxDQUFDQTtJQW9DNUNBLG9CQUFDQTtBQUFEQSxDQXRDQSxBQXNDQ0EsSUFBQTtBQUVELEFBQXVCLGlCQUFkLGFBQWEsQ0FBQyIsImZpbGUiOiJjb3JlL3Bvb2wvSW5kZXhEYXRhUG9vbC5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3ViR2VvbWV0cnlCYXNlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9TdWJHZW9tZXRyeUJhc2VcIik7XG5cbmltcG9ydCBJbmRleERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvcG9vbC9JbmRleERhdGFcIik7XG5cbi8qKlxuICpcbiAqL1xuY2xhc3MgSW5kZXhEYXRhUG9vbFxue1xuXHRwcml2YXRlIHN0YXRpYyBfcG9vbDpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldEl0ZW0oc3ViR2VvbWV0cnk6U3ViR2VvbWV0cnlCYXNlLCBsZXZlbDpudW1iZXIsIGluZGV4T2Zmc2V0Om51bWJlcik6SW5kZXhEYXRhXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gKEluZGV4RGF0YVBvb2wuX3Bvb2xbc3ViR2VvbWV0cnkuaWRdIHx8IChJbmRleERhdGFQb29sLl9wb29sW3N1Ykdlb21ldHJ5LmlkXSA9IG5ldyBBcnJheTxJbmRleERhdGE+KCkpKTtcblxuXHRcdHZhciBpbmRleERhdGE6SW5kZXhEYXRhID0gc3ViR2VvbWV0cnlEYXRhW2xldmVsXSB8fCAoc3ViR2VvbWV0cnlEYXRhW2xldmVsXSA9IG5ldyBJbmRleERhdGEobGV2ZWwpKTtcblx0XHRpbmRleERhdGEudXBkYXRlRGF0YShpbmRleE9mZnNldCwgc3ViR2VvbWV0cnkuaW5kaWNlcywgc3ViR2VvbWV0cnkubnVtVmVydGljZXMpO1xuXG5cdFx0cmV0dXJuIGluZGV4RGF0YTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZGlzcG9zZUl0ZW0oaWQ6bnVtYmVyLCBsZXZlbDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gdGhpcy5fcG9vbFtpZF07XG5cblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdLmRpc3Bvc2UoKTtcblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdID0gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlRGF0YShpZDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gSW5kZXhEYXRhUG9vbC5fcG9vbFtpZF07XG5cblx0XHR2YXIgbGVuOm51bWJlciA9IHN1Ykdlb21ldHJ5RGF0YS5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHN1Ykdlb21ldHJ5RGF0YVtpXS5kaXNwb3NlKCk7XG5cdFx0XHRzdWJHZW9tZXRyeURhdGFbaV0gPSBudWxsO1xuXHRcdH1cblxuXHRcdEluZGV4RGF0YVBvb2wuX3Bvb2xbaWRdID0gbnVsbDtcblx0fVxufVxuXG5leHBvcnQgPSBJbmRleERhdGFQb29sOyJdfQ==