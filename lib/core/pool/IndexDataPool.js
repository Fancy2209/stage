var IndexData = require("awayjs-stagegl/lib/core/pool/IndexData");
/**
 *
 */
var IndexDataPool = (function () {
    function IndexDataPool() {
    }
    IndexDataPool.getItem = function (subGeometry, level, indexOffset) {
        var subGeometryData = (IndexDataPool._pool[subGeometry.id] || (IndexDataPool._pool[subGeometry.id] = new Array()));
        var indexData = subGeometryData[level] || (subGeometryData[level] = new IndexData(level));
        indexData.updateData(indexOffset, subGeometry.indices, subGeometry.numVertices);
        return indexData;
    };
    IndexDataPool.disposeItem = function (id, level) {
        var subGeometryData = this._pool[id];
        subGeometryData[level].dispose();
        subGeometryData[level] = null;
    };
    IndexDataPool.prototype.disposeData = function (id) {
        var subGeometryData = IndexDataPool._pool[id];
        var len = subGeometryData.length;
        for (var i = 0; i < len; i++) {
            subGeometryData[i].dispose();
            subGeometryData[i] = null;
        }
        IndexDataPool._pool[id] = null;
    };
    IndexDataPool._pool = new Object();
    return IndexDataPool;
})();
module.exports = IndexDataPool;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvcG9vbC9pbmRleGRhdGFwb29sLnRzIl0sIm5hbWVzIjpbIkluZGV4RGF0YVBvb2wiLCJJbmRleERhdGFQb29sLmNvbnN0cnVjdG9yIiwiSW5kZXhEYXRhUG9vbC5nZXRJdGVtIiwiSW5kZXhEYXRhUG9vbC5kaXNwb3NlSXRlbSIsIkluZGV4RGF0YVBvb2wuZGlzcG9zZURhdGEiXSwibWFwcGluZ3MiOiJBQUVBLElBQU8sU0FBUyxXQUFlLHdDQUF3QyxDQUFDLENBQUM7QUFFekUsQUFHQTs7R0FERztJQUNHLGFBQWE7SUFJbEJBLFNBSktBLGFBQWFBO0lBTWxCQyxDQUFDQTtJQUVhRCxxQkFBT0EsR0FBckJBLFVBQXNCQSxXQUEyQkEsRUFBRUEsS0FBWUEsRUFBRUEsV0FBa0JBO1FBRWxGRSxJQUFJQSxlQUFlQSxHQUF1Q0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsS0FBS0EsRUFBYUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFbEtBLElBQUlBLFNBQVNBLEdBQWFBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLElBQUlBLFNBQVNBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBO1FBQ3BHQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQSxXQUFXQSxFQUFFQSxXQUFXQSxDQUFDQSxPQUFPQSxFQUFFQSxXQUFXQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtRQUVoRkEsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0E7SUFDbEJBLENBQUNBO0lBRWFGLHlCQUFXQSxHQUF6QkEsVUFBMEJBLEVBQVNBLEVBQUVBLEtBQVlBO1FBRWhERyxJQUFJQSxlQUFlQSxHQUF1Q0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFFekVBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ2pDQSxlQUFlQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUMvQkEsQ0FBQ0E7SUFFTUgsbUNBQVdBLEdBQWxCQSxVQUFtQkEsRUFBU0E7UUFFM0JJLElBQUlBLGVBQWVBLEdBQXVDQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUVsRkEsSUFBSUEsR0FBR0EsR0FBVUEsZUFBZUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDeENBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQVVBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLEdBQUdBLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO1lBQ3JDQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtZQUM3QkEsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDM0JBLENBQUNBO1FBRURBLGFBQWFBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO0lBQ2hDQSxDQUFDQTtJQW5DY0osbUJBQUtBLEdBQVVBLElBQUlBLE1BQU1BLEVBQUVBLENBQUNBO0lBb0M1Q0Esb0JBQUNBO0FBQURBLENBdENBLEFBc0NDQSxJQUFBO0FBRUQsQUFBdUIsaUJBQWQsYUFBYSxDQUFDIiwiZmlsZSI6ImNvcmUvcG9vbC9JbmRleERhdGFQb29sLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb2JiYXRlbWFuL1dlYnN0b3JtUHJvamVjdHMvYXdheWpzLXN0YWdlZ2wvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN1Ykdlb21ldHJ5QmFzZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvYmFzZS9TdWJHZW9tZXRyeUJhc2VcIik7XG5cbmltcG9ydCBJbmRleERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvcG9vbC9JbmRleERhdGFcIik7XG5cbi8qKlxuICpcbiAqL1xuY2xhc3MgSW5kZXhEYXRhUG9vbFxue1xuXHRwcml2YXRlIHN0YXRpYyBfcG9vbDpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldEl0ZW0oc3ViR2VvbWV0cnk6U3ViR2VvbWV0cnlCYXNlLCBsZXZlbDpudW1iZXIsIGluZGV4T2Zmc2V0Om51bWJlcik6SW5kZXhEYXRhXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gKEluZGV4RGF0YVBvb2wuX3Bvb2xbc3ViR2VvbWV0cnkuaWRdIHx8IChJbmRleERhdGFQb29sLl9wb29sW3N1Ykdlb21ldHJ5LmlkXSA9IG5ldyBBcnJheTxJbmRleERhdGE+KCkpKTtcblxuXHRcdHZhciBpbmRleERhdGE6SW5kZXhEYXRhID0gc3ViR2VvbWV0cnlEYXRhW2xldmVsXSB8fCAoc3ViR2VvbWV0cnlEYXRhW2xldmVsXSA9IG5ldyBJbmRleERhdGEobGV2ZWwpKTtcblx0XHRpbmRleERhdGEudXBkYXRlRGF0YShpbmRleE9mZnNldCwgc3ViR2VvbWV0cnkuaW5kaWNlcywgc3ViR2VvbWV0cnkubnVtVmVydGljZXMpO1xuXG5cdFx0cmV0dXJuIGluZGV4RGF0YTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZGlzcG9zZUl0ZW0oaWQ6bnVtYmVyLCBsZXZlbDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gdGhpcy5fcG9vbFtpZF07XG5cblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdLmRpc3Bvc2UoKTtcblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdID0gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlRGF0YShpZDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gSW5kZXhEYXRhUG9vbC5fcG9vbFtpZF07XG5cblx0XHR2YXIgbGVuOm51bWJlciA9IHN1Ykdlb21ldHJ5RGF0YS5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHN1Ykdlb21ldHJ5RGF0YVtpXS5kaXNwb3NlKCk7XG5cdFx0XHRzdWJHZW9tZXRyeURhdGFbaV0gPSBudWxsO1xuXHRcdH1cblxuXHRcdEluZGV4RGF0YVBvb2wuX3Bvb2xbaWRdID0gbnVsbDtcblx0fVxufVxuXG5leHBvcnQgPSBJbmRleERhdGFQb29sOyJdfQ==