var IndexData = require("awayjs-stagegl/lib/pool/IndexData");
/**
 *
 */
var IndexDataPool = (function () {
    function IndexDataPool() {
    }
    IndexDataPool.getItem = function (subGeometry, level, indexOffset) {
        var subGeometryData = (IndexDataPool._pool[subGeometry.id] || (IndexDataPool._pool[subGeometry.id] = new Array()));
        var indexData = subGeometryData[level] || (subGeometryData[level] = new IndexData(level));
        indexData.updateData(indexOffset, subGeometry.indices, subGeometry.numVertices);
        return indexData;
    };
    IndexDataPool.disposeItem = function (id, level) {
        var subGeometryData = this._pool[id];
        subGeometryData[level].dispose();
        subGeometryData[level] = null;
    };
    IndexDataPool.prototype.disposeData = function (id) {
        var subGeometryData = IndexDataPool._pool[id];
        var len = subGeometryData.length;
        for (var i = 0; i < len; i++) {
            subGeometryData[i].dispose();
            subGeometryData[i] = null;
        }
        IndexDataPool._pool[id] = null;
    };
    IndexDataPool._pool = new Object();
    return IndexDataPool;
})();
module.exports = IndexDataPool;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9wb29sL0luZGV4RGF0YVBvb2wudHMiXSwibmFtZXMiOlsiSW5kZXhEYXRhUG9vbCIsIkluZGV4RGF0YVBvb2wuY29uc3RydWN0b3IiLCJJbmRleERhdGFQb29sLmdldEl0ZW0iLCJJbmRleERhdGFQb29sLmRpc3Bvc2VJdGVtIiwiSW5kZXhEYXRhUG9vbC5kaXNwb3NlRGF0YSJdLCJtYXBwaW5ncyI6IkFBRUEsSUFBTyxTQUFTLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUVwRSxBQUdBOztHQURHO0lBQ0csYUFBYTtJQUlsQkEsU0FKS0EsYUFBYUE7SUFNbEJDLENBQUNBO0lBRWFELHFCQUFPQSxHQUFyQkEsVUFBc0JBLFdBQTJCQSxFQUFFQSxLQUFZQSxFQUFFQSxXQUFrQkE7UUFFbEZFLElBQUlBLGVBQWVBLEdBQXVDQSxDQUFDQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxXQUFXQSxDQUFDQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxXQUFXQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFhQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVsS0EsSUFBSUEsU0FBU0EsR0FBYUEsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsSUFBSUEsU0FBU0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDcEdBLFNBQVNBLENBQUNBLFVBQVVBLENBQUNBLFdBQVdBLEVBQUVBLFdBQVdBLENBQUNBLE9BQU9BLEVBQUVBLFdBQVdBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO1FBRWhGQSxNQUFNQSxDQUFDQSxTQUFTQSxDQUFDQTtJQUNsQkEsQ0FBQ0E7SUFFYUYseUJBQVdBLEdBQXpCQSxVQUEwQkEsRUFBU0EsRUFBRUEsS0FBWUE7UUFFaERHLElBQUlBLGVBQWVBLEdBQXVDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUV6RUEsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDakNBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO0lBQy9CQSxDQUFDQTtJQUVNSCxtQ0FBV0EsR0FBbEJBLFVBQW1CQSxFQUFTQTtRQUUzQkksSUFBSUEsZUFBZUEsR0FBdUNBLGFBQWFBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRWxGQSxJQUFJQSxHQUFHQSxHQUFVQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUN4Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBVUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0E7WUFDckNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1lBQzdCQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUMzQkEsQ0FBQ0E7UUFFREEsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDaENBLENBQUNBO0lBbkNjSixtQkFBS0EsR0FBVUEsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7SUFvQzVDQSxvQkFBQ0E7QUFBREEsQ0F0Q0EsQUFzQ0NBLElBQUE7QUFFRCxBQUF1QixpQkFBZCxhQUFhLENBQUMiLCJmaWxlIjoicG9vbC9JbmRleERhdGFQb29sLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdWJHZW9tZXRyeUJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL1N1Ykdlb21ldHJ5QmFzZVwiKTtcclxuXHJcbmltcG9ydCBJbmRleERhdGFcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL3Bvb2wvSW5kZXhEYXRhXCIpO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5jbGFzcyBJbmRleERhdGFQb29sXHJcbntcclxuXHRwcml2YXRlIHN0YXRpYyBfcG9vbDpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKClcclxuXHR7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldEl0ZW0oc3ViR2VvbWV0cnk6U3ViR2VvbWV0cnlCYXNlLCBsZXZlbDpudW1iZXIsIGluZGV4T2Zmc2V0Om51bWJlcik6SW5kZXhEYXRhXHJcblx0e1xyXG5cdFx0dmFyIHN1Ykdlb21ldHJ5RGF0YTpBcnJheTxJbmRleERhdGE+ID0gPEFycmF5PEluZGV4RGF0YT4+IChJbmRleERhdGFQb29sLl9wb29sW3N1Ykdlb21ldHJ5LmlkXSB8fCAoSW5kZXhEYXRhUG9vbC5fcG9vbFtzdWJHZW9tZXRyeS5pZF0gPSBuZXcgQXJyYXk8SW5kZXhEYXRhPigpKSk7XHJcblxyXG5cdFx0dmFyIGluZGV4RGF0YTpJbmRleERhdGEgPSBzdWJHZW9tZXRyeURhdGFbbGV2ZWxdIHx8IChzdWJHZW9tZXRyeURhdGFbbGV2ZWxdID0gbmV3IEluZGV4RGF0YShsZXZlbCkpO1xyXG5cdFx0aW5kZXhEYXRhLnVwZGF0ZURhdGEoaW5kZXhPZmZzZXQsIHN1Ykdlb21ldHJ5LmluZGljZXMsIHN1Ykdlb21ldHJ5Lm51bVZlcnRpY2VzKTtcclxuXHJcblx0XHRyZXR1cm4gaW5kZXhEYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBkaXNwb3NlSXRlbShpZDpudW1iZXIsIGxldmVsOm51bWJlcilcclxuXHR7XHJcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gdGhpcy5fcG9vbFtpZF07XHJcblxyXG5cdFx0c3ViR2VvbWV0cnlEYXRhW2xldmVsXS5kaXNwb3NlKCk7XHJcblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBkaXNwb3NlRGF0YShpZDpudW1iZXIpXHJcblx0e1xyXG5cdFx0dmFyIHN1Ykdlb21ldHJ5RGF0YTpBcnJheTxJbmRleERhdGE+ID0gPEFycmF5PEluZGV4RGF0YT4+IEluZGV4RGF0YVBvb2wuX3Bvb2xbaWRdO1xyXG5cclxuXHRcdHZhciBsZW46bnVtYmVyID0gc3ViR2VvbWV0cnlEYXRhLmxlbmd0aDtcclxuXHRcdGZvciAodmFyIGk6bnVtYmVyID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHN1Ykdlb21ldHJ5RGF0YVtpXS5kaXNwb3NlKCk7XHJcblx0XHRcdHN1Ykdlb21ldHJ5RGF0YVtpXSA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0SW5kZXhEYXRhUG9vbC5fcG9vbFtpZF0gPSBudWxsO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSW5kZXhEYXRhUG9vbDsiXX0=