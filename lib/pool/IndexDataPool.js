var IndexData = require("awayjs-stagegl/lib/pool/IndexData");
/**
 *
 */
var IndexDataPool = (function () {
    function IndexDataPool() {
    }
    IndexDataPool.getItem = function (subGeometry, level, indexOffset) {
        var subGeometryData = (IndexDataPool._pool[subGeometry.id] || (IndexDataPool._pool[subGeometry.id] = new Array()));
        var indexData = subGeometryData[level] || (subGeometryData[level] = new IndexData(level));
        indexData.updateData(indexOffset, subGeometry.indices, subGeometry.numVertices);
        return indexData;
    };
    IndexDataPool.disposeItem = function (id, level) {
        var subGeometryData = this._pool[id];
        subGeometryData[level].dispose();
        subGeometryData[level] = null;
    };
    IndexDataPool.prototype.disposeData = function (id) {
        var subGeometryData = IndexDataPool._pool[id];
        var len = subGeometryData.length;
        for (var i = 0; i < len; i++) {
            subGeometryData[i].dispose();
            subGeometryData[i] = null;
        }
        IndexDataPool._pool[id] = null;
    };
    IndexDataPool._pool = new Object();
    return IndexDataPool;
})();
module.exports = IndexDataPool;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1zdGFnZWdsL2xpYi9wb29sL0luZGV4RGF0YVBvb2wudHMiXSwibmFtZXMiOlsiSW5kZXhEYXRhUG9vbCIsIkluZGV4RGF0YVBvb2wuY29uc3RydWN0b3IiLCJJbmRleERhdGFQb29sLmdldEl0ZW0iLCJJbmRleERhdGFQb29sLmRpc3Bvc2VJdGVtIiwiSW5kZXhEYXRhUG9vbC5kaXNwb3NlRGF0YSJdLCJtYXBwaW5ncyI6IkFBRUEsSUFBTyxTQUFTLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUVwRSxBQUdBOztHQURHO0lBQ0csYUFBYTtJQUlsQkEsU0FKS0EsYUFBYUE7SUFNbEJDLENBQUNBO0lBRWFELHFCQUFPQSxHQUFyQkEsVUFBc0JBLFdBQTJCQSxFQUFFQSxLQUFZQSxFQUFFQSxXQUFrQkE7UUFFbEZFLElBQUlBLGVBQWVBLEdBQXVDQSxDQUFDQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxXQUFXQSxDQUFDQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxLQUFLQSxDQUFDQSxXQUFXQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFhQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVsS0EsSUFBSUEsU0FBU0EsR0FBYUEsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsSUFBSUEsU0FBU0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDcEdBLFNBQVNBLENBQUNBLFVBQVVBLENBQUNBLFdBQVdBLEVBQUVBLFdBQVdBLENBQUNBLE9BQU9BLEVBQUVBLFdBQVdBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO1FBRWhGQSxNQUFNQSxDQUFDQSxTQUFTQSxDQUFDQTtJQUNsQkEsQ0FBQ0E7SUFFYUYseUJBQVdBLEdBQXpCQSxVQUEwQkEsRUFBU0EsRUFBRUEsS0FBWUE7UUFFaERHLElBQUlBLGVBQWVBLEdBQXVDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUV6RUEsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDakNBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO0lBQy9CQSxDQUFDQTtJQUVNSCxtQ0FBV0EsR0FBbEJBLFVBQW1CQSxFQUFTQTtRQUUzQkksSUFBSUEsZUFBZUEsR0FBdUNBLGFBQWFBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRWxGQSxJQUFJQSxHQUFHQSxHQUFVQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUN4Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBVUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0E7WUFDckNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1lBQzdCQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUMzQkEsQ0FBQ0E7UUFFREEsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDaENBLENBQUNBO0lBbkNjSixtQkFBS0EsR0FBVUEsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7SUFvQzVDQSxvQkFBQ0E7QUFBREEsQ0F0Q0EsQUFzQ0NBLElBQUE7QUFFRCxBQUF1QixpQkFBZCxhQUFhLENBQUMiLCJmaWxlIjoicG9vbC9JbmRleERhdGFQb29sLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdWJHZW9tZXRyeUJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL1N1Ykdlb21ldHJ5QmFzZVwiKTtcblxuaW1wb3J0IEluZGV4RGF0YVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvcG9vbC9JbmRleERhdGFcIik7XG5cbi8qKlxuICpcbiAqL1xuY2xhc3MgSW5kZXhEYXRhUG9vbFxue1xuXHRwcml2YXRlIHN0YXRpYyBfcG9vbDpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldEl0ZW0oc3ViR2VvbWV0cnk6U3ViR2VvbWV0cnlCYXNlLCBsZXZlbDpudW1iZXIsIGluZGV4T2Zmc2V0Om51bWJlcik6SW5kZXhEYXRhXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gKEluZGV4RGF0YVBvb2wuX3Bvb2xbc3ViR2VvbWV0cnkuaWRdIHx8IChJbmRleERhdGFQb29sLl9wb29sW3N1Ykdlb21ldHJ5LmlkXSA9IG5ldyBBcnJheTxJbmRleERhdGE+KCkpKTtcblxuXHRcdHZhciBpbmRleERhdGE6SW5kZXhEYXRhID0gc3ViR2VvbWV0cnlEYXRhW2xldmVsXSB8fCAoc3ViR2VvbWV0cnlEYXRhW2xldmVsXSA9IG5ldyBJbmRleERhdGEobGV2ZWwpKTtcblx0XHRpbmRleERhdGEudXBkYXRlRGF0YShpbmRleE9mZnNldCwgc3ViR2VvbWV0cnkuaW5kaWNlcywgc3ViR2VvbWV0cnkubnVtVmVydGljZXMpO1xuXG5cdFx0cmV0dXJuIGluZGV4RGF0YTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZGlzcG9zZUl0ZW0oaWQ6bnVtYmVyLCBsZXZlbDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gdGhpcy5fcG9vbFtpZF07XG5cblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdLmRpc3Bvc2UoKTtcblx0XHRzdWJHZW9tZXRyeURhdGFbbGV2ZWxdID0gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlRGF0YShpZDpudW1iZXIpXG5cdHtcblx0XHR2YXIgc3ViR2VvbWV0cnlEYXRhOkFycmF5PEluZGV4RGF0YT4gPSA8QXJyYXk8SW5kZXhEYXRhPj4gSW5kZXhEYXRhUG9vbC5fcG9vbFtpZF07XG5cblx0XHR2YXIgbGVuOm51bWJlciA9IHN1Ykdlb21ldHJ5RGF0YS5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHN1Ykdlb21ldHJ5RGF0YVtpXS5kaXNwb3NlKCk7XG5cdFx0XHRzdWJHZW9tZXRyeURhdGFbaV0gPSBudWxsO1xuXHRcdH1cblxuXHRcdEluZGV4RGF0YVBvb2wuX3Bvb2xbaWRdID0gbnVsbDtcblx0fVxufVxuXG5leHBvcnQgPSBJbmRleERhdGFQb29sOyJdfQ==